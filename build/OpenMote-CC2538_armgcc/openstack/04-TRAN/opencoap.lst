   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"opencoap.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.rodata
  19              		.align	2
  22              	rreg_uriquery:
  23 0000 683D7563 		.ascii	"h=ucb\000"
  23      6200
  24 0006 0000     		.align	2
  27              	infoBoardname:
  28 0008 43433235 		.ascii	"CC2538\000"
  28      333800
  29 000f 00       		.align	2
  32              	infouCName:
  33 0010 43433235 		.ascii	"CC2538\000"
  33      333800
  34 0017 00       		.align	2
  37              	infoRadioName:
  38 0018 43433235 		.ascii	"CC2538 SoC\000"
  38      33382053 
  38      6F4300
  39 0023 00       		.align	2
  42              	infoStackName:
  43 0024 4F70656E 		.ascii	"OpenWSN \000"
  43      57534E20 
  43      00
  44 002d 000000   		.align	2
  47              	ipAddr_ipsoRD:
  48 0030 26       		.byte	38
  49 0031 07       		.byte	7
  50 0032 F7       		.byte	-9
  51 0033 40       		.byte	64
  52 0034 00       		.byte	0
  53 0035 00       		.byte	0
  54 0036 00       		.byte	0
  55 0037 3F       		.byte	63
  56 0038 00       		.byte	0
  57 0039 00       		.byte	0
  58 003a 00       		.byte	0
  59 003b 00       		.byte	0
  60 003c 00       		.byte	0
  61 003d 00       		.byte	0
  62 003e 0E       		.byte	14
  63 003f 29       		.byte	41
  64              		.align	2
  67              	ipAddr_motesEecs:
  68 0040 20       		.byte	32
  69 0041 01       		.byte	1
  70 0042 04       		.byte	4
  71 0043 70       		.byte	112
  72 0044 00       		.byte	0
  73 0045 66       		.byte	102
  74 0046 00       		.byte	0
  75 0047 19       		.byte	25
  76 0048 00       		.byte	0
  77 0049 00       		.byte	0
  78 004a 00       		.byte	0
  79 004b 00       		.byte	0
  80 004c 00       		.byte	0
  81 004d 00       		.byte	0
  82 004e 00       		.byte	0
  83 004f 02       		.byte	2
  84              		.align	2
  87              	ipAddr_local:
  88 0050 26       		.byte	38
  89 0051 07       		.byte	7
  90 0052 F1       		.byte	-15
  91 0053 40       		.byte	64
  92 0054 04       		.byte	4
  93 0055 00       		.byte	0
  94 0056 10       		.byte	16
  95 0057 36       		.byte	54
  96 0058 4D       		.byte	77
  97 0059 CD       		.byte	-51
  98 005a AB       		.byte	-85
  99 005b 54       		.byte	84
 100 005c 81       		.byte	-127
 101 005d 99       		.byte	-103
 102 005e C1       		.byte	-63
 103 005f F7       		.byte	-9
 104              		.align	2
 107              	ipAddr_motedata:
 108 0060 20       		.byte	32
 109 0061 01       		.byte	1
 110 0062 04       		.byte	4
 111 0063 70       		.byte	112
 112 0064 00       		.byte	0
 113 0065 66       		.byte	102
 114 0066 00       		.byte	0
 115 0067 17       		.byte	23
 116 0068 00       		.byte	0
 117 0069 00       		.byte	0
 118 006a 00       		.byte	0
 119 006b 00       		.byte	0
 120 006c 00       		.byte	0
 121 006d 00       		.byte	0
 122 006e 00       		.byte	0
 123 006f 02       		.byte	2
 124              		.comm	opencoap_vars,8,4
 125              		.text
 126              		.align	2
 127              		.global	opencoap_init
 128              		.thumb
 129              		.thumb_func
 131              	opencoap_init:
 132              	.LFB0:
 133              		.file 1 "openstack/04-TRAN/opencoap.c"
   1:openstack/04-TRAN/opencoap.c **** #include "opendefs.h"
   2:openstack/04-TRAN/opencoap.c **** #include "opencoap.h"
   3:openstack/04-TRAN/opencoap.c **** #include "openudp.h"
   4:openstack/04-TRAN/opencoap.c **** #include "openqueue.h"
   5:openstack/04-TRAN/opencoap.c **** #include "openserial.h"
   6:openstack/04-TRAN/opencoap.c **** #include "openrandom.h"
   7:openstack/04-TRAN/opencoap.c **** #include "packetfunctions.h"
   8:openstack/04-TRAN/opencoap.c **** #include "idmanager.h"
   9:openstack/04-TRAN/opencoap.c **** #include "opentimers.h"
  10:openstack/04-TRAN/opencoap.c **** #include "scheduler.h"
  11:openstack/04-TRAN/opencoap.c **** 
  12:openstack/04-TRAN/opencoap.c **** //=========================== defines =========================================
  13:openstack/04-TRAN/opencoap.c **** 
  14:openstack/04-TRAN/opencoap.c **** #define COAP_TOKEN 123 // TODO: make dynamic
  15:openstack/04-TRAN/opencoap.c **** 
  16:openstack/04-TRAN/opencoap.c **** //=========================== variables =======================================
  17:openstack/04-TRAN/opencoap.c **** 
  18:openstack/04-TRAN/opencoap.c **** opencoap_vars_t opencoap_vars;
  19:openstack/04-TRAN/opencoap.c **** 
  20:openstack/04-TRAN/opencoap.c **** //=========================== prototype =======================================
  21:openstack/04-TRAN/opencoap.c **** 
  22:openstack/04-TRAN/opencoap.c **** //=========================== public ==========================================
  23:openstack/04-TRAN/opencoap.c **** 
  24:openstack/04-TRAN/opencoap.c **** //===== from stack
  25:openstack/04-TRAN/opencoap.c **** 
  26:openstack/04-TRAN/opencoap.c **** /**
  27:openstack/04-TRAN/opencoap.c **** \brief Initialize this module.
  28:openstack/04-TRAN/opencoap.c **** */
  29:openstack/04-TRAN/opencoap.c **** void opencoap_init() {
 134              		.loc 1 29 0
 135              		.cfi_startproc
 136              		@ args = 0, pretend = 0, frame = 0
 137              		@ frame_needed = 1, uses_anonymous_args = 0
 138 0000 80B5     		push	{r7, lr}
 139              	.LCFI0:
 140              		.cfi_def_cfa_offset 8
 141              		.cfi_offset 7, -8
 142              		.cfi_offset 14, -4
 143 0002 00AF     		add	r7, sp, #0
 144              	.LCFI1:
 145              		.cfi_def_cfa_register 7
  30:openstack/04-TRAN/opencoap.c ****    // initialize the resource linked list
  31:openstack/04-TRAN/opencoap.c ****    opencoap_vars.resources     = NULL;
 146              		.loc 1 31 0
 147 0004 40F20003 		movw	r3, #:lower16:opencoap_vars
 148 0008 C0F20003 		movt	r3, #:upper16:opencoap_vars
 149 000c 4FF00002 		mov	r2, #0
 150 0010 1A60     		str	r2, [r3, #0]
  32:openstack/04-TRAN/opencoap.c ****    
  33:openstack/04-TRAN/opencoap.c ****    // initialize the messageID
  34:openstack/04-TRAN/opencoap.c ****    opencoap_vars.messageID     = openrandom_get16b();
 151              		.loc 1 34 0
 152 0012 FFF7FEFF 		bl	openrandom_get16b
 153 0016 0346     		mov	r3, r0
 154 0018 1A46     		mov	r2, r3
 155 001a 40F20003 		movw	r3, #:lower16:opencoap_vars
 156 001e C0F20003 		movt	r3, #:upper16:opencoap_vars
 157 0022 DA80     		strh	r2, [r3, #6]	@ movhi
  35:openstack/04-TRAN/opencoap.c **** }
 158              		.loc 1 35 0
 159 0024 80BD     		pop	{r7, pc}
 160              		.cfi_endproc
 161              	.LFE0:
 163 0026 00BF     		.align	2
 164              		.global	opencoap_receive
 165              		.thumb
 166              		.thumb_func
 168              	opencoap_receive:
 169              	.LFB1:
  36:openstack/04-TRAN/opencoap.c **** 
  37:openstack/04-TRAN/opencoap.c **** /**
  38:openstack/04-TRAN/opencoap.c **** \brief Indicate a CoAP messages was received.
  39:openstack/04-TRAN/opencoap.c **** 
  40:openstack/04-TRAN/opencoap.c **** A "CoAP message" is simply a UDP datagram received on the CoAP UDP port.
  41:openstack/04-TRAN/opencoap.c **** 
  42:openstack/04-TRAN/opencoap.c **** This function will call the appropriate resource, and send back its answer. The
  43:openstack/04-TRAN/opencoap.c **** received packetbuffer is reused to contain the response (or error code).
  44:openstack/04-TRAN/opencoap.c **** 
  45:openstack/04-TRAN/opencoap.c **** \param[in] msg The received CoAP message.
  46:openstack/04-TRAN/opencoap.c **** */
  47:openstack/04-TRAN/opencoap.c **** void opencoap_receive(OpenQueueEntry_t* msg) {
 170              		.loc 1 47 0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 120
 173              		@ frame_needed = 1, uses_anonymous_args = 0
 174 0028 80B5     		push	{r7, lr}
 175              	.LCFI2:
 176              		.cfi_def_cfa_offset 8
 177              		.cfi_offset 7, -8
 178              		.cfi_offset 14, -4
 179 002a 9EB0     		sub	sp, sp, #120
 180              	.LCFI3:
 181              		.cfi_def_cfa_offset 128
 182 002c 00AF     		add	r7, sp, #0
 183              	.LCFI4:
 184              		.cfi_def_cfa_register 7
 185 002e 7860     		str	r0, [r7, #4]
  48:openstack/04-TRAN/opencoap.c ****    uint16_t                  temp_l4_destination_port;
  49:openstack/04-TRAN/opencoap.c ****    uint8_t                   i;
  50:openstack/04-TRAN/opencoap.c ****    uint8_t                   index;
  51:openstack/04-TRAN/opencoap.c ****    coap_option_t             last_option;
  52:openstack/04-TRAN/opencoap.c ****    coap_resource_desc_t*     temp_desc;
  53:openstack/04-TRAN/opencoap.c ****    bool                      found;
  54:openstack/04-TRAN/opencoap.c ****    owerror_t                 outcome = 0;
 186              		.loc 1 54 0
 187 0030 4FF00003 		mov	r3, #0
 188 0034 87F86E30 		strb	r3, [r7, #110]
  55:openstack/04-TRAN/opencoap.c ****    // local variables passed to the handlers (with msg)
  56:openstack/04-TRAN/opencoap.c ****    coap_header_iht           coap_header;
  57:openstack/04-TRAN/opencoap.c ****    coap_option_iht           coap_options[MAX_COAP_OPTIONS];
  58:openstack/04-TRAN/opencoap.c ****    
  59:openstack/04-TRAN/opencoap.c ****    // take ownership over the received packet
  60:openstack/04-TRAN/opencoap.c ****    msg->owner                = COMPONENT_OPENCOAP;
 189              		.loc 1 60 0
 190 0038 7B68     		ldr	r3, [r7, #4]
 191 003a 4FF01902 		mov	r2, #25
 192 003e 5A70     		strb	r2, [r3, #1]
  61:openstack/04-TRAN/opencoap.c ****    
  62:openstack/04-TRAN/opencoap.c ****    //=== step 1. parse the packet
  63:openstack/04-TRAN/opencoap.c ****    
  64:openstack/04-TRAN/opencoap.c ****    // parse the CoAP header and remove from packet
  65:openstack/04-TRAN/opencoap.c ****    index = 0;
 193              		.loc 1 65 0
 194 0040 4FF00003 		mov	r3, #0
 195 0044 87F87630 		strb	r3, [r7, #118]
  66:openstack/04-TRAN/opencoap.c ****    coap_header.Ver           = (msg->payload[index] & 0xc0) >> 6;
 196              		.loc 1 66 0
 197 0048 7B68     		ldr	r3, [r7, #4]
 198 004a 5A68     		ldr	r2, [r3, #4]
 199 004c 97F87630 		ldrb	r3, [r7, #118]	@ zero_extendqisi2
 200 0050 D318     		adds	r3, r2, r3
 201 0052 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 202 0054 4FEA9313 		lsr	r3, r3, #6
 203 0058 DBB2     		uxtb	r3, r3
 204 005a 87F85C30 		strb	r3, [r7, #92]
  67:openstack/04-TRAN/opencoap.c ****    coap_header.T             = (coap_type_t)((msg->payload[index] & 0x30) >> 4);
 205              		.loc 1 67 0
 206 005e 7B68     		ldr	r3, [r7, #4]
 207 0060 5A68     		ldr	r2, [r3, #4]
 208 0062 97F87630 		ldrb	r3, [r7, #118]	@ zero_extendqisi2
 209 0066 D318     		adds	r3, r2, r3
 210 0068 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 211 006a 03F03003 		and	r3, r3, #48
 212 006e 4FEA2313 		asr	r3, r3, #4
 213 0072 DBB2     		uxtb	r3, r3
 214 0074 87F85D30 		strb	r3, [r7, #93]
  68:openstack/04-TRAN/opencoap.c ****    coap_header.TKL           = (msg->payload[index] & 0x0f);
 215              		.loc 1 68 0
 216 0078 7B68     		ldr	r3, [r7, #4]
 217 007a 5A68     		ldr	r2, [r3, #4]
 218 007c 97F87630 		ldrb	r3, [r7, #118]	@ zero_extendqisi2
 219 0080 D318     		adds	r3, r2, r3
 220 0082 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 221 0084 03F00F03 		and	r3, r3, #15
 222 0088 DBB2     		uxtb	r3, r3
 223 008a 87F85E30 		strb	r3, [r7, #94]
  69:openstack/04-TRAN/opencoap.c ****    index++;
 224              		.loc 1 69 0
 225 008e 97F87630 		ldrb	r3, [r7, #118]
 226 0092 03F10103 		add	r3, r3, #1
 227 0096 87F87630 		strb	r3, [r7, #118]
  70:openstack/04-TRAN/opencoap.c ****    coap_header.Code          = (coap_code_t)(msg->payload[index]);
 228              		.loc 1 70 0
 229 009a 7B68     		ldr	r3, [r7, #4]
 230 009c 5A68     		ldr	r2, [r3, #4]
 231 009e 97F87630 		ldrb	r3, [r7, #118]	@ zero_extendqisi2
 232 00a2 D318     		adds	r3, r2, r3
 233 00a4 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 234 00a6 87F85F30 		strb	r3, [r7, #95]
  71:openstack/04-TRAN/opencoap.c ****    index++;
 235              		.loc 1 71 0
 236 00aa 97F87630 		ldrb	r3, [r7, #118]
 237 00ae 03F10103 		add	r3, r3, #1
 238 00b2 87F87630 		strb	r3, [r7, #118]
  72:openstack/04-TRAN/opencoap.c ****    coap_header.messageID     = msg->payload[index]*256+msg->payload[index+1];
 239              		.loc 1 72 0
 240 00b6 7B68     		ldr	r3, [r7, #4]
 241 00b8 5A68     		ldr	r2, [r3, #4]
 242 00ba 97F87630 		ldrb	r3, [r7, #118]	@ zero_extendqisi2
 243 00be D318     		adds	r3, r2, r3
 244 00c0 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 245 00c2 4FEA0323 		lsl	r3, r3, #8
 246 00c6 9AB2     		uxth	r2, r3
 247 00c8 7B68     		ldr	r3, [r7, #4]
 248 00ca 5968     		ldr	r1, [r3, #4]
 249 00cc 97F87630 		ldrb	r3, [r7, #118]	@ zero_extendqisi2
 250 00d0 03F10103 		add	r3, r3, #1
 251 00d4 CB18     		adds	r3, r1, r3
 252 00d6 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 253 00d8 D318     		adds	r3, r2, r3
 254 00da 9BB2     		uxth	r3, r3
 255 00dc A7F86030 		strh	r3, [r7, #96]	@ movhi
  73:openstack/04-TRAN/opencoap.c ****    index+=2;
 256              		.loc 1 73 0
 257 00e0 97F87630 		ldrb	r3, [r7, #118]
 258 00e4 03F10203 		add	r3, r3, #2
 259 00e8 87F87630 		strb	r3, [r7, #118]
  74:openstack/04-TRAN/opencoap.c ****    
  75:openstack/04-TRAN/opencoap.c ****    // reject unsupported header
  76:openstack/04-TRAN/opencoap.c ****    if (coap_header.Ver!=COAP_VERSION || coap_header.TKL>COAP_MAX_TKL) {
 260              		.loc 1 76 0
 261 00ec 97F85C30 		ldrb	r3, [r7, #92]	@ zero_extendqisi2
 262 00f0 012B     		cmp	r3, #1
 263 00f2 03D1     		bne	.L3
 264              		.loc 1 76 0 is_stmt 0 discriminator 1
 265 00f4 97F85E30 		ldrb	r3, [r7, #94]	@ zero_extendqisi2
 266 00f8 082B     		cmp	r3, #8
 267 00fa 0DD9     		bls	.L4
 268              	.L3:
  77:openstack/04-TRAN/opencoap.c ****       openserial_printError(
  78:openstack/04-TRAN/opencoap.c ****          COMPONENT_OPENCOAP,ERR_WRONG_TRAN_PROTOCOL,
  79:openstack/04-TRAN/opencoap.c ****          (errorparameter_t)0,
  80:openstack/04-TRAN/opencoap.c ****          (errorparameter_t)coap_header.Ver
 269              		.loc 1 80 0 is_stmt 1
 270 00fc 97F85C30 		ldrb	r3, [r7, #92]	@ zero_extendqisi2
  77:openstack/04-TRAN/opencoap.c ****       openserial_printError(
 271              		.loc 1 77 0
 272 0100 4FF01900 		mov	r0, #25
 273 0104 4FF00601 		mov	r1, #6
 274 0108 4FF00002 		mov	r2, #0
 275 010c FFF7FEFF 		bl	openserial_printError
  81:openstack/04-TRAN/opencoap.c ****       );
  82:openstack/04-TRAN/opencoap.c ****       openqueue_freePacketBuffer(msg);
 276              		.loc 1 82 0
 277 0110 7868     		ldr	r0, [r7, #4]
 278 0112 FFF7FEFF 		bl	openqueue_freePacketBuffer
 279 0116 1AE2     		b	.L2
 280              	.L4:
  83:openstack/04-TRAN/opencoap.c ****       return;
  84:openstack/04-TRAN/opencoap.c ****    }
  85:openstack/04-TRAN/opencoap.c ****    
  86:openstack/04-TRAN/opencoap.c ****    // record the token
  87:openstack/04-TRAN/opencoap.c ****    memcpy(&coap_header.token[0], &msg->payload[index], coap_header.TKL);
 281              		.loc 1 87 0
 282 0118 7B68     		ldr	r3, [r7, #4]
 283 011a 5A68     		ldr	r2, [r3, #4]
 284 011c 97F87630 		ldrb	r3, [r7, #118]	@ zero_extendqisi2
 285 0120 D218     		adds	r2, r2, r3
 286 0122 97F85E30 		ldrb	r3, [r7, #94]	@ zero_extendqisi2
 287 0126 07F15C01 		add	r1, r7, #92
 288 012a 01F10601 		add	r1, r1, #6
 289 012e 0846     		mov	r0, r1
 290 0130 1146     		mov	r1, r2
 291 0132 1A46     		mov	r2, r3
 292 0134 FFF7FEFF 		bl	memcpy
  88:openstack/04-TRAN/opencoap.c ****    index += coap_header.TKL;
 293              		.loc 1 88 0
 294 0138 97F85E20 		ldrb	r2, [r7, #94]	@ zero_extendqisi2
 295 013c 97F87630 		ldrb	r3, [r7, #118]
 296 0140 D318     		adds	r3, r2, r3
 297 0142 87F87630 		strb	r3, [r7, #118]
  89:openstack/04-TRAN/opencoap.c ****    
  90:openstack/04-TRAN/opencoap.c ****    // initialize the coap_options
  91:openstack/04-TRAN/opencoap.c ****    for (i=0;i<MAX_COAP_OPTIONS;i++) {
 298              		.loc 1 91 0
 299 0146 4FF00003 		mov	r3, #0
 300 014a 87F87730 		strb	r3, [r7, #119]
 301 014e 10E0     		b	.L6
 302              	.L7:
  92:openstack/04-TRAN/opencoap.c ****       coap_options[i].type = COAP_OPTION_NONE;
 303              		.loc 1 92 0 discriminator 2
 304 0150 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 305 0154 4FEAC303 		lsl	r3, r3, #3
 306 0158 07F17801 		add	r1, r7, #120
 307 015c CB18     		adds	r3, r1, r3
 308 015e 4FF00002 		mov	r2, #0
 309 0162 03F86C2C 		strb	r2, [r3, #-108]
  91:openstack/04-TRAN/opencoap.c ****    for (i=0;i<MAX_COAP_OPTIONS;i++) {
 310              		.loc 1 91 0 discriminator 2
 311 0166 97F87730 		ldrb	r3, [r7, #119]
 312 016a 03F10103 		add	r3, r3, #1
 313 016e 87F87730 		strb	r3, [r7, #119]
 314              	.L6:
  91:openstack/04-TRAN/opencoap.c ****    for (i=0;i<MAX_COAP_OPTIONS;i++) {
 315              		.loc 1 91 0 is_stmt 0 discriminator 1
 316 0172 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 317 0176 092B     		cmp	r3, #9
 318 0178 EAD9     		bls	.L7
  93:openstack/04-TRAN/opencoap.c ****    }
  94:openstack/04-TRAN/opencoap.c ****    
  95:openstack/04-TRAN/opencoap.c ****    // fill in the coap_options
  96:openstack/04-TRAN/opencoap.c ****    last_option = COAP_OPTION_NONE;
 319              		.loc 1 96 0 is_stmt 1
 320 017a 4FF00003 		mov	r3, #0
 321 017e 87F87530 		strb	r3, [r7, #117]
  97:openstack/04-TRAN/opencoap.c ****    for (i=0;i<MAX_COAP_OPTIONS;i++) {
 322              		.loc 1 97 0
 323 0182 4FF00003 		mov	r3, #0
 324 0186 87F87730 		strb	r3, [r7, #119]
 325 018a 69E0     		b	.L8
 326              	.L11:
  98:openstack/04-TRAN/opencoap.c ****       
  99:openstack/04-TRAN/opencoap.c ****       // detect when done parsing options
 100:openstack/04-TRAN/opencoap.c ****       if (msg->payload[index]==COAP_PAYLOAD_MARKER){
 327              		.loc 1 100 0
 328 018c 7B68     		ldr	r3, [r7, #4]
 329 018e 5A68     		ldr	r2, [r3, #4]
 330 0190 97F87630 		ldrb	r3, [r7, #118]	@ zero_extendqisi2
 331 0194 D318     		adds	r3, r2, r3
 332 0196 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 333 0198 FF2B     		cmp	r3, #255
 334 019a 06D1     		bne	.L9
 101:openstack/04-TRAN/opencoap.c ****          // found the payload marker, done parsing options.
 102:openstack/04-TRAN/opencoap.c ****          index++; // skip marker and stop parsing options
 335              		.loc 1 102 0
 336 019c 97F87630 		ldrb	r3, [r7, #118]
 337 01a0 03F10103 		add	r3, r3, #1
 338 01a4 87F87630 		strb	r3, [r7, #118]
 103:openstack/04-TRAN/opencoap.c ****          break;
 339              		.loc 1 103 0
 340 01a8 5EE0     		b	.L10
 341              	.L9:
 104:openstack/04-TRAN/opencoap.c ****       }
 105:openstack/04-TRAN/opencoap.c ****       
 106:openstack/04-TRAN/opencoap.c ****       // parse this option
 107:openstack/04-TRAN/opencoap.c ****       coap_options[i].type        = (coap_option_t)((uint8_t)last_option+(uint8_t)((msg->payload[in
 342              		.loc 1 107 0
 343 01aa 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 344 01ae 7A68     		ldr	r2, [r7, #4]
 345 01b0 5168     		ldr	r1, [r2, #4]
 346 01b2 97F87620 		ldrb	r2, [r7, #118]	@ zero_extendqisi2
 347 01b6 8A18     		adds	r2, r1, r2
 348 01b8 1278     		ldrb	r2, [r2, #0]	@ zero_extendqisi2
 349 01ba 4FEA1212 		lsr	r2, r2, #4
 350 01be D1B2     		uxtb	r1, r2
 351 01c0 97F87520 		ldrb	r2, [r7, #117]
 352 01c4 8A18     		adds	r2, r1, r2
 353 01c6 D2B2     		uxtb	r2, r2
 354 01c8 4FEAC303 		lsl	r3, r3, #3
 355 01cc 07F17801 		add	r1, r7, #120
 356 01d0 CB18     		adds	r3, r1, r3
 357 01d2 03F86C2C 		strb	r2, [r3, #-108]
 108:openstack/04-TRAN/opencoap.c ****       last_option                 = coap_options[i].type;
 358              		.loc 1 108 0
 359 01d6 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 360 01da 4FEAC303 		lsl	r3, r3, #3
 361 01de 07F17802 		add	r2, r7, #120
 362 01e2 D318     		adds	r3, r2, r3
 363 01e4 13F86C3C 		ldrb	r3, [r3, #-108]
 364 01e8 87F87530 		strb	r3, [r7, #117]
 109:openstack/04-TRAN/opencoap.c ****       coap_options[i].length      = (msg->payload[index] & 0x0f);
 365              		.loc 1 109 0
 366 01ec 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 367 01f0 7A68     		ldr	r2, [r7, #4]
 368 01f2 5168     		ldr	r1, [r2, #4]
 369 01f4 97F87620 		ldrb	r2, [r7, #118]	@ zero_extendqisi2
 370 01f8 8A18     		adds	r2, r1, r2
 371 01fa 1278     		ldrb	r2, [r2, #0]	@ zero_extendqisi2
 372 01fc 02F00F02 		and	r2, r2, #15
 373 0200 D2B2     		uxtb	r2, r2
 374 0202 4FEAC303 		lsl	r3, r3, #3
 375 0206 07F17801 		add	r1, r7, #120
 376 020a CB18     		adds	r3, r1, r3
 377 020c 03F86B2C 		strb	r2, [r3, #-107]
 110:openstack/04-TRAN/opencoap.c ****       index++;
 378              		.loc 1 110 0
 379 0210 97F87630 		ldrb	r3, [r7, #118]
 380 0214 03F10103 		add	r3, r3, #1
 381 0218 87F87630 		strb	r3, [r7, #118]
 111:openstack/04-TRAN/opencoap.c ****       coap_options[i].pValue      = &(msg->payload[index]);
 382              		.loc 1 111 0
 383 021c 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 384 0220 7A68     		ldr	r2, [r7, #4]
 385 0222 5168     		ldr	r1, [r2, #4]
 386 0224 97F87620 		ldrb	r2, [r7, #118]	@ zero_extendqisi2
 387 0228 8A18     		adds	r2, r1, r2
 388 022a 4FEAC303 		lsl	r3, r3, #3
 389 022e 07F17801 		add	r1, r7, #120
 390 0232 CB18     		adds	r3, r1, r3
 391 0234 43F8682C 		str	r2, [r3, #-104]
 112:openstack/04-TRAN/opencoap.c ****       index                      += coap_options[i].length; //includes length as well
 392              		.loc 1 112 0
 393 0238 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 394 023c 4FEAC303 		lsl	r3, r3, #3
 395 0240 07F17802 		add	r2, r7, #120
 396 0244 D318     		adds	r3, r2, r3
 397 0246 13F86B2C 		ldrb	r2, [r3, #-107]	@ zero_extendqisi2
 398 024a 97F87630 		ldrb	r3, [r7, #118]
 399 024e D318     		adds	r3, r2, r3
 400 0250 87F87630 		strb	r3, [r7, #118]
  97:openstack/04-TRAN/opencoap.c ****    for (i=0;i<MAX_COAP_OPTIONS;i++) {
 401              		.loc 1 97 0
 402 0254 97F87730 		ldrb	r3, [r7, #119]
 403 0258 03F10103 		add	r3, r3, #1
 404 025c 87F87730 		strb	r3, [r7, #119]
 405              	.L8:
  97:openstack/04-TRAN/opencoap.c ****    for (i=0;i<MAX_COAP_OPTIONS;i++) {
 406              		.loc 1 97 0 is_stmt 0 discriminator 1
 407 0260 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 408 0264 092B     		cmp	r3, #9
 409 0266 91D9     		bls	.L11
 410              	.L10:
 113:openstack/04-TRAN/opencoap.c ****    }
 114:openstack/04-TRAN/opencoap.c ****    
 115:openstack/04-TRAN/opencoap.c ****    // remove the CoAP header+options
 116:openstack/04-TRAN/opencoap.c ****    packetfunctions_tossHeader(msg,index);
 411              		.loc 1 116 0 is_stmt 1
 412 0268 97F87630 		ldrb	r3, [r7, #118]	@ zero_extendqisi2
 413 026c 7868     		ldr	r0, [r7, #4]
 414 026e 1946     		mov	r1, r3
 415 0270 FFF7FEFF 		bl	packetfunctions_tossHeader
 117:openstack/04-TRAN/opencoap.c ****    
 118:openstack/04-TRAN/opencoap.c ****    //=== step 2. find the resource to handle the packet
 119:openstack/04-TRAN/opencoap.c ****    
 120:openstack/04-TRAN/opencoap.c ****    // find the resource this applies to
 121:openstack/04-TRAN/opencoap.c ****    found = FALSE;
 416              		.loc 1 121 0
 417 0274 4FF00003 		mov	r3, #0
 418 0278 87F86F30 		strb	r3, [r7, #111]
 122:openstack/04-TRAN/opencoap.c ****    
 123:openstack/04-TRAN/opencoap.c ****    if (
 124:openstack/04-TRAN/opencoap.c ****          coap_header.Code>=COAP_CODE_REQ_GET &&
 419              		.loc 1 124 0
 420 027c 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 123:openstack/04-TRAN/opencoap.c ****    if (
 421              		.loc 1 123 0
 422 0280 002B     		cmp	r3, #0
 423 0282 00F08680 		beq	.L12
 125:openstack/04-TRAN/opencoap.c ****          coap_header.Code<=COAP_CODE_REQ_DELETE
 424              		.loc 1 125 0
 425 0286 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 124:openstack/04-TRAN/opencoap.c ****          coap_header.Code>=COAP_CODE_REQ_GET &&
 426              		.loc 1 124 0
 427 028a 042B     		cmp	r3, #4
 428 028c 00F28180 		bhi	.L12
 126:openstack/04-TRAN/opencoap.c ****       ) {
 127:openstack/04-TRAN/opencoap.c ****       // this is a request: target resource is indicated as COAP_OPTION_LOCATIONPATH option(s)
 128:openstack/04-TRAN/opencoap.c ****       // find the resource which matches
 129:openstack/04-TRAN/opencoap.c ****       
 130:openstack/04-TRAN/opencoap.c ****       // start with the first resource in the linked list
 131:openstack/04-TRAN/opencoap.c ****       temp_desc = opencoap_vars.resources;
 429              		.loc 1 131 0
 430 0290 40F20003 		movw	r3, #:lower16:opencoap_vars
 431 0294 C0F20003 		movt	r3, #:upper16:opencoap_vars
 432 0298 1B68     		ldr	r3, [r3, #0]
 433 029a 3B67     		str	r3, [r7, #112]
 132:openstack/04-TRAN/opencoap.c ****       
 133:openstack/04-TRAN/opencoap.c ****       // iterate until matching resource found, or no match
 134:openstack/04-TRAN/opencoap.c ****       while (found==FALSE) {
 434              		.loc 1 134 0
 435 029c 6FE0     		b	.L13
 436              	.L19:
 135:openstack/04-TRAN/opencoap.c ****          if (
 136:openstack/04-TRAN/opencoap.c ****                coap_options[0].type==COAP_OPTION_NUM_URIPATH    &&
 437              		.loc 1 136 0
 438 029e 3B7B     		ldrb	r3, [r7, #12]	@ zero_extendqisi2
 135:openstack/04-TRAN/opencoap.c ****          if (
 439              		.loc 1 135 0
 440 02a0 0B2B     		cmp	r3, #11
 441 02a2 3BD1     		bne	.L14
 137:openstack/04-TRAN/opencoap.c ****                coap_options[1].type==COAP_OPTION_NUM_URIPATH    &&
 442              		.loc 1 137 0
 443 02a4 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 136:openstack/04-TRAN/opencoap.c ****                coap_options[0].type==COAP_OPTION_NUM_URIPATH    &&
 444              		.loc 1 136 0
 445 02a6 0B2B     		cmp	r3, #11
 446 02a8 38D1     		bne	.L14
 138:openstack/04-TRAN/opencoap.c ****                temp_desc->path0len>0                            &&
 447              		.loc 1 138 0
 448 02aa 3B6F     		ldr	r3, [r7, #112]
 449 02ac 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 137:openstack/04-TRAN/opencoap.c ****                coap_options[1].type==COAP_OPTION_NUM_URIPATH    &&
 450              		.loc 1 137 0
 451 02ae 002B     		cmp	r3, #0
 452 02b0 34D0     		beq	.L14
 139:openstack/04-TRAN/opencoap.c ****                temp_desc->path0val!=NULL                        &&
 453              		.loc 1 139 0
 454 02b2 3B6F     		ldr	r3, [r7, #112]
 455 02b4 5B68     		ldr	r3, [r3, #4]
 138:openstack/04-TRAN/opencoap.c ****                temp_desc->path0len>0                            &&
 456              		.loc 1 138 0
 457 02b6 002B     		cmp	r3, #0
 458 02b8 30D0     		beq	.L14
 140:openstack/04-TRAN/opencoap.c ****                temp_desc->path1len>0                            &&
 459              		.loc 1 140 0
 460 02ba 3B6F     		ldr	r3, [r7, #112]
 461 02bc 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 139:openstack/04-TRAN/opencoap.c ****                temp_desc->path0val!=NULL                        &&
 462              		.loc 1 139 0
 463 02be 002B     		cmp	r3, #0
 464 02c0 2CD0     		beq	.L14
 141:openstack/04-TRAN/opencoap.c ****                temp_desc->path1val!=NULL
 465              		.loc 1 141 0
 466 02c2 3B6F     		ldr	r3, [r7, #112]
 467 02c4 DB68     		ldr	r3, [r3, #12]
 140:openstack/04-TRAN/opencoap.c ****                temp_desc->path1len>0                            &&
 468              		.loc 1 140 0
 469 02c6 002B     		cmp	r3, #0
 470 02c8 28D0     		beq	.L14
 142:openstack/04-TRAN/opencoap.c ****             ) {
 143:openstack/04-TRAN/opencoap.c ****             // resource has a path of form path0/path1
 144:openstack/04-TRAN/opencoap.c ****                
 145:openstack/04-TRAN/opencoap.c ****             if (
 146:openstack/04-TRAN/opencoap.c ****                   coap_options[0].length==temp_desc->path0len                               &&
 471              		.loc 1 146 0
 472 02ca 7A7B     		ldrb	r2, [r7, #13]	@ zero_extendqisi2
 473 02cc 3B6F     		ldr	r3, [r7, #112]
 474 02ce 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 145:openstack/04-TRAN/opencoap.c ****             if (
 475              		.loc 1 145 0
 476 02d0 9A42     		cmp	r2, r3
 477 02d2 45D1     		bne	.L33
 147:openstack/04-TRAN/opencoap.c ****                   memcmp(coap_options[0].pValue,temp_desc->path0val,temp_desc->path0len)==0 &&
 478              		.loc 1 147 0
 479 02d4 3969     		ldr	r1, [r7, #16]
 480 02d6 3B6F     		ldr	r3, [r7, #112]
 481 02d8 5A68     		ldr	r2, [r3, #4]
 482 02da 3B6F     		ldr	r3, [r7, #112]
 483 02dc 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 484 02de 0846     		mov	r0, r1
 485 02e0 1146     		mov	r1, r2
 486 02e2 1A46     		mov	r2, r3
 487 02e4 FFF7FEFF 		bl	memcmp
 488 02e8 0346     		mov	r3, r0
 146:openstack/04-TRAN/opencoap.c ****                   coap_options[0].length==temp_desc->path0len                               &&
 489              		.loc 1 146 0
 490 02ea 002B     		cmp	r3, #0
 491 02ec 38D1     		bne	.L33
 148:openstack/04-TRAN/opencoap.c ****                   coap_options[1].length==temp_desc->path1len                               &&
 492              		.loc 1 148 0
 493 02ee 7A7D     		ldrb	r2, [r7, #21]	@ zero_extendqisi2
 494 02f0 3B6F     		ldr	r3, [r7, #112]
 495 02f2 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 147:openstack/04-TRAN/opencoap.c ****                   memcmp(coap_options[0].pValue,temp_desc->path0val,temp_desc->path0len)==0 &&
 496              		.loc 1 147 0
 497 02f4 9A42     		cmp	r2, r3
 498 02f6 33D1     		bne	.L33
 149:openstack/04-TRAN/opencoap.c ****                   memcmp(coap_options[1].pValue,temp_desc->path1val,temp_desc->path1len)==0
 499              		.loc 1 149 0
 500 02f8 B969     		ldr	r1, [r7, #24]
 501 02fa 3B6F     		ldr	r3, [r7, #112]
 502 02fc DA68     		ldr	r2, [r3, #12]
 503 02fe 3B6F     		ldr	r3, [r7, #112]
 504 0300 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 505 0302 0846     		mov	r0, r1
 506 0304 1146     		mov	r1, r2
 507 0306 1A46     		mov	r2, r3
 508 0308 FFF7FEFF 		bl	memcmp
 509 030c 0346     		mov	r3, r0
 148:openstack/04-TRAN/opencoap.c ****                   coap_options[1].length==temp_desc->path1len                               &&
 510              		.loc 1 148 0
 511 030e 002B     		cmp	r3, #0
 512 0310 26D1     		bne	.L33
 150:openstack/04-TRAN/opencoap.c ****                ) {
 151:openstack/04-TRAN/opencoap.c ****                found = TRUE;
 513              		.loc 1 151 0
 514 0312 4FF00103 		mov	r3, #1
 515 0316 87F86F30 		strb	r3, [r7, #111]
 145:openstack/04-TRAN/opencoap.c ****             if (
 516              		.loc 1 145 0
 517 031a 21E0     		b	.L33
 518              	.L14:
 152:openstack/04-TRAN/opencoap.c ****             };
 153:openstack/04-TRAN/opencoap.c ****          
 154:openstack/04-TRAN/opencoap.c ****          } else if (
 155:openstack/04-TRAN/opencoap.c ****                coap_options[0].type==COAP_OPTION_NUM_URIPATH    &&
 519              		.loc 1 155 0
 520 031c 3B7B     		ldrb	r3, [r7, #12]	@ zero_extendqisi2
 154:openstack/04-TRAN/opencoap.c ****          } else if (
 521              		.loc 1 154 0
 522 031e 0B2B     		cmp	r3, #11
 523 0320 1FD1     		bne	.L16
 156:openstack/04-TRAN/opencoap.c ****                temp_desc->path0len>0                            &&
 524              		.loc 1 156 0
 525 0322 3B6F     		ldr	r3, [r7, #112]
 526 0324 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 155:openstack/04-TRAN/opencoap.c ****                coap_options[0].type==COAP_OPTION_NUM_URIPATH    &&
 527              		.loc 1 155 0
 528 0326 002B     		cmp	r3, #0
 529 0328 1BD0     		beq	.L16
 157:openstack/04-TRAN/opencoap.c ****                temp_desc->path0val!=NULL
 530              		.loc 1 157 0
 531 032a 3B6F     		ldr	r3, [r7, #112]
 532 032c 5B68     		ldr	r3, [r3, #4]
 156:openstack/04-TRAN/opencoap.c ****                temp_desc->path0len>0                            &&
 533              		.loc 1 156 0
 534 032e 002B     		cmp	r3, #0
 535 0330 17D0     		beq	.L16
 158:openstack/04-TRAN/opencoap.c ****             ) {
 159:openstack/04-TRAN/opencoap.c ****             // resource has a path of form path0
 160:openstack/04-TRAN/opencoap.c ****                
 161:openstack/04-TRAN/opencoap.c ****             if (
 162:openstack/04-TRAN/opencoap.c ****                   coap_options[0].length==temp_desc->path0len                               &&
 536              		.loc 1 162 0
 537 0332 7A7B     		ldrb	r2, [r7, #13]	@ zero_extendqisi2
 538 0334 3B6F     		ldr	r3, [r7, #112]
 539 0336 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 161:openstack/04-TRAN/opencoap.c ****             if (
 540              		.loc 1 161 0
 541 0338 9A42     		cmp	r2, r3
 542 033a 12D1     		bne	.L16
 163:openstack/04-TRAN/opencoap.c ****                   memcmp(coap_options[0].pValue,temp_desc->path0val,temp_desc->path0len)==0
 543              		.loc 1 163 0
 544 033c 3969     		ldr	r1, [r7, #16]
 545 033e 3B6F     		ldr	r3, [r7, #112]
 546 0340 5A68     		ldr	r2, [r3, #4]
 547 0342 3B6F     		ldr	r3, [r7, #112]
 548 0344 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 549 0346 0846     		mov	r0, r1
 550 0348 1146     		mov	r1, r2
 551 034a 1A46     		mov	r2, r3
 552 034c FFF7FEFF 		bl	memcmp
 553 0350 0346     		mov	r3, r0
 162:openstack/04-TRAN/opencoap.c ****                   coap_options[0].length==temp_desc->path0len                               &&
 554              		.loc 1 162 0
 555 0352 002B     		cmp	r3, #0
 556 0354 05D1     		bne	.L16
 164:openstack/04-TRAN/opencoap.c ****                ) {
 165:openstack/04-TRAN/opencoap.c ****                found = TRUE;
 557              		.loc 1 165 0
 558 0356 4FF00103 		mov	r3, #1
 559 035a 87F86F30 		strb	r3, [r7, #111]
 560 035e 00E0     		b	.L16
 561              	.L33:
 145:openstack/04-TRAN/opencoap.c ****             if (
 562              		.loc 1 145 0
 563 0360 00BF     		nop
 564              	.L16:
 166:openstack/04-TRAN/opencoap.c ****             };
 167:openstack/04-TRAN/opencoap.c ****          };
 168:openstack/04-TRAN/opencoap.c ****          
 169:openstack/04-TRAN/opencoap.c ****          // iterate to next resource, if not found
 170:openstack/04-TRAN/opencoap.c ****          if (found==FALSE) {
 565              		.loc 1 170 0
 566 0362 97F86F30 		ldrb	r3, [r7, #111]
 567 0366 83F00103 		eor	r3, r3, #1
 568 036a DBB2     		uxtb	r3, r3
 569 036c 002B     		cmp	r3, #0
 570 036e 06D0     		beq	.L13
 171:openstack/04-TRAN/opencoap.c ****             if (temp_desc->next!=NULL) {
 571              		.loc 1 171 0
 572 0370 3B6F     		ldr	r3, [r7, #112]
 573 0372 1B6A     		ldr	r3, [r3, #32]
 574 0374 002B     		cmp	r3, #0
 575 0376 0AD0     		beq	.L34
 172:openstack/04-TRAN/opencoap.c ****                temp_desc = temp_desc->next;
 576              		.loc 1 172 0
 577 0378 3B6F     		ldr	r3, [r7, #112]
 578 037a 1B6A     		ldr	r3, [r3, #32]
 579 037c 3B67     		str	r3, [r7, #112]
 580              	.L13:
 134:openstack/04-TRAN/opencoap.c ****       while (found==FALSE) {
 581              		.loc 1 134 0 discriminator 1
 582 037e 97F86F30 		ldrb	r3, [r7, #111]
 583 0382 83F00103 		eor	r3, r3, #1
 584 0386 DBB2     		uxtb	r3, r3
 585 0388 002B     		cmp	r3, #0
 586 038a 88D1     		bne	.L19
 123:openstack/04-TRAN/opencoap.c ****    if (
 587              		.loc 1 123 0
 588 038c 39E0     		b	.L20
 589              	.L34:
 173:openstack/04-TRAN/opencoap.c ****             } else {
 174:openstack/04-TRAN/opencoap.c ****                break;
 590              		.loc 1 174 0
 591 038e 00BF     		nop
 592              	.L18:
 123:openstack/04-TRAN/opencoap.c ****    if (
 593              		.loc 1 123 0
 594 0390 37E0     		b	.L20
 595              	.L12:
 175:openstack/04-TRAN/opencoap.c ****             }
 176:openstack/04-TRAN/opencoap.c ****          }
 177:openstack/04-TRAN/opencoap.c ****       }
 178:openstack/04-TRAN/opencoap.c ****    
 179:openstack/04-TRAN/opencoap.c ****    } else {
 180:openstack/04-TRAN/opencoap.c ****       // this is a response: target resource is indicated by message ID
 181:openstack/04-TRAN/opencoap.c ****       // find the resource which matches
 182:openstack/04-TRAN/opencoap.c ****       
 183:openstack/04-TRAN/opencoap.c ****       // start with the first resource in the linked list
 184:openstack/04-TRAN/opencoap.c ****       temp_desc = opencoap_vars.resources;
 596              		.loc 1 184 0
 597 0392 40F20003 		movw	r3, #:lower16:opencoap_vars
 598 0396 C0F20003 		movt	r3, #:upper16:opencoap_vars
 599 039a 1B68     		ldr	r3, [r3, #0]
 600 039c 3B67     		str	r3, [r7, #112]
 185:openstack/04-TRAN/opencoap.c ****       
 186:openstack/04-TRAN/opencoap.c ****       // iterate until matching resource found, or no match
 187:openstack/04-TRAN/opencoap.c ****       while (found==FALSE) {
 601              		.loc 1 187 0
 602 039e 23E0     		b	.L21
 603              	.L25:
 188:openstack/04-TRAN/opencoap.c ****          
 189:openstack/04-TRAN/opencoap.c ****          if (coap_header.messageID==temp_desc->messageID) {
 604              		.loc 1 189 0
 605 03a0 B7F86020 		ldrh	r2, [r7, #96]
 606 03a4 3B6F     		ldr	r3, [r7, #112]
 607 03a6 5B8A     		ldrh	r3, [r3, #18]
 608 03a8 9A42     		cmp	r2, r3
 609 03aa 0FD1     		bne	.L22
 190:openstack/04-TRAN/opencoap.c ****             found=TRUE;
 610              		.loc 1 190 0
 611 03ac 4FF00103 		mov	r3, #1
 612 03b0 87F86F30 		strb	r3, [r7, #111]
 191:openstack/04-TRAN/opencoap.c ****             
 192:openstack/04-TRAN/opencoap.c ****             // call the resource's callback
 193:openstack/04-TRAN/opencoap.c ****             if (temp_desc->callbackRx!=NULL) {
 613              		.loc 1 193 0
 614 03b4 3B6F     		ldr	r3, [r7, #112]
 615 03b6 9B69     		ldr	r3, [r3, #24]
 616 03b8 002B     		cmp	r3, #0
 617 03ba 07D0     		beq	.L22
 194:openstack/04-TRAN/opencoap.c ****                temp_desc->callbackRx(msg,&coap_header,&coap_options[0]);
 618              		.loc 1 194 0
 619 03bc 3B6F     		ldr	r3, [r7, #112]
 620 03be 9B69     		ldr	r3, [r3, #24]
 621 03c0 07F15C01 		add	r1, r7, #92
 622 03c4 07F10C02 		add	r2, r7, #12
 623 03c8 7868     		ldr	r0, [r7, #4]
 624 03ca 9847     		blx	r3
 625              	.L22:
 195:openstack/04-TRAN/opencoap.c ****             }
 196:openstack/04-TRAN/opencoap.c ****          }
 197:openstack/04-TRAN/opencoap.c ****          
 198:openstack/04-TRAN/opencoap.c ****          // iterate to next resource, if not found
 199:openstack/04-TRAN/opencoap.c ****          if (found==FALSE) {
 626              		.loc 1 199 0
 627 03cc 97F86F30 		ldrb	r3, [r7, #111]
 628 03d0 83F00103 		eor	r3, r3, #1
 629 03d4 DBB2     		uxtb	r3, r3
 630 03d6 002B     		cmp	r3, #0
 631 03d8 06D0     		beq	.L21
 200:openstack/04-TRAN/opencoap.c ****             if (temp_desc->next!=NULL) {
 632              		.loc 1 200 0
 633 03da 3B6F     		ldr	r3, [r7, #112]
 634 03dc 1B6A     		ldr	r3, [r3, #32]
 635 03de 002B     		cmp	r3, #0
 636 03e0 0AD0     		beq	.L35
 201:openstack/04-TRAN/opencoap.c ****                temp_desc = temp_desc->next;
 637              		.loc 1 201 0
 638 03e2 3B6F     		ldr	r3, [r7, #112]
 639 03e4 1B6A     		ldr	r3, [r3, #32]
 640 03e6 3B67     		str	r3, [r7, #112]
 641              	.L21:
 187:openstack/04-TRAN/opencoap.c ****       while (found==FALSE) {
 642              		.loc 1 187 0 discriminator 1
 643 03e8 97F86F30 		ldrb	r3, [r7, #111]
 644 03ec 83F00103 		eor	r3, r3, #1
 645 03f0 DBB2     		uxtb	r3, r3
 646 03f2 002B     		cmp	r3, #0
 647 03f4 D4D1     		bne	.L25
 648 03f6 00E0     		b	.L24
 649              	.L35:
 202:openstack/04-TRAN/opencoap.c ****             } else {
 203:openstack/04-TRAN/opencoap.c ****                break;
 650              		.loc 1 203 0
 651 03f8 00BF     		nop
 652              	.L24:
 204:openstack/04-TRAN/opencoap.c ****             }
 205:openstack/04-TRAN/opencoap.c ****          }
 206:openstack/04-TRAN/opencoap.c ****       };
 207:openstack/04-TRAN/opencoap.c ****       
 208:openstack/04-TRAN/opencoap.c ****       // free the received packet
 209:openstack/04-TRAN/opencoap.c ****       openqueue_freePacketBuffer(msg);
 653              		.loc 1 209 0
 654 03fa 7868     		ldr	r0, [r7, #4]
 655 03fc FFF7FEFF 		bl	openqueue_freePacketBuffer
 656 0400 A5E0     		b	.L2
 657              	.L20:
 210:openstack/04-TRAN/opencoap.c ****       
 211:openstack/04-TRAN/opencoap.c ****       // stop here: will will not respond to a response
 212:openstack/04-TRAN/opencoap.c ****       return;
 213:openstack/04-TRAN/opencoap.c ****    }
 214:openstack/04-TRAN/opencoap.c ****    
 215:openstack/04-TRAN/opencoap.c ****    //=== step 3. ask the resource to prepare response
 216:openstack/04-TRAN/opencoap.c ****    
 217:openstack/04-TRAN/opencoap.c ****    if (found==TRUE) {
 658              		.loc 1 217 0
 659 0402 97F86F30 		ldrb	r3, [r7, #111]	@ zero_extendqisi2
 660 0406 002B     		cmp	r3, #0
 661 0408 0BD0     		beq	.L26
 218:openstack/04-TRAN/opencoap.c ****       
 219:openstack/04-TRAN/opencoap.c ****       // call the resource's callback
 220:openstack/04-TRAN/opencoap.c ****       outcome = temp_desc->callbackRx(msg,&coap_header,&coap_options[0]);
 662              		.loc 1 220 0
 663 040a 3B6F     		ldr	r3, [r7, #112]
 664 040c 9B69     		ldr	r3, [r3, #24]
 665 040e 07F15C01 		add	r1, r7, #92
 666 0412 07F10C02 		add	r2, r7, #12
 667 0416 7868     		ldr	r0, [r7, #4]
 668 0418 9847     		blx	r3
 669 041a 0346     		mov	r3, r0
 670 041c 87F86E30 		strb	r3, [r7, #110]
 671 0420 10E0     		b	.L27
 672              	.L26:
 221:openstack/04-TRAN/opencoap.c ****    } else {
 222:openstack/04-TRAN/opencoap.c ****       // reset packet payload (DO NOT DELETE, we will reuse same buffer for response)
 223:openstack/04-TRAN/opencoap.c ****       msg->payload                     = &(msg->packet[127]);
 673              		.loc 1 223 0
 674 0422 7B68     		ldr	r3, [r7, #4]
 675 0424 03F1EA02 		add	r2, r3, #234
 676 0428 7B68     		ldr	r3, [r7, #4]
 677 042a 5A60     		str	r2, [r3, #4]
 224:openstack/04-TRAN/opencoap.c ****       msg->length                      = 0;
 678              		.loc 1 224 0
 679 042c 7B68     		ldr	r3, [r7, #4]
 680 042e 4FF00002 		mov	r2, #0
 681 0432 1A72     		strb	r2, [r3, #8]
 225:openstack/04-TRAN/opencoap.c ****       // set the CoAP header
 226:openstack/04-TRAN/opencoap.c ****       coap_header.TKL                  = 0;
 682              		.loc 1 226 0
 683 0434 4FF00003 		mov	r3, #0
 684 0438 87F85E30 		strb	r3, [r7, #94]
 227:openstack/04-TRAN/opencoap.c ****       coap_header.Code                 = COAP_CODE_RESP_NOTFOUND;
 685              		.loc 1 227 0
 686 043c 4FF08403 		mov	r3, #132
 687 0440 87F85F30 		strb	r3, [r7, #95]
 688              	.L27:
 228:openstack/04-TRAN/opencoap.c ****    }
 229:openstack/04-TRAN/opencoap.c ****    
 230:openstack/04-TRAN/opencoap.c ****    if (outcome==E_FAIL) {
 689              		.loc 1 230 0
 690 0444 97F86E30 		ldrb	r3, [r7, #110]	@ zero_extendqisi2
 691 0448 012B     		cmp	r3, #1
 692 044a 10D1     		bne	.L28
 231:openstack/04-TRAN/opencoap.c ****       // reset packet payload (DO NOT DELETE, we will reuse same buffer for response)
 232:openstack/04-TRAN/opencoap.c ****       msg->payload                     = &(msg->packet[127]);
 693              		.loc 1 232 0
 694 044c 7B68     		ldr	r3, [r7, #4]
 695 044e 03F1EA02 		add	r2, r3, #234
 696 0452 7B68     		ldr	r3, [r7, #4]
 697 0454 5A60     		str	r2, [r3, #4]
 233:openstack/04-TRAN/opencoap.c ****       msg->length                      = 0;
 698              		.loc 1 233 0
 699 0456 7B68     		ldr	r3, [r7, #4]
 700 0458 4FF00002 		mov	r2, #0
 701 045c 1A72     		strb	r2, [r3, #8]
 234:openstack/04-TRAN/opencoap.c ****       // set the CoAP header
 235:openstack/04-TRAN/opencoap.c ****       coap_header.TKL                  = 0;
 702              		.loc 1 235 0
 703 045e 4FF00003 		mov	r3, #0
 704 0462 87F85E30 		strb	r3, [r7, #94]
 236:openstack/04-TRAN/opencoap.c ****       coap_header.Code                 = COAP_CODE_RESP_METHODNOTALLOWED;
 705              		.loc 1 236 0
 706 0466 4FF08503 		mov	r3, #133
 707 046a 87F85F30 		strb	r3, [r7, #95]
 708              	.L28:
 237:openstack/04-TRAN/opencoap.c ****    }
 238:openstack/04-TRAN/opencoap.c ****    
 239:openstack/04-TRAN/opencoap.c ****    //=== step 4. send that packet back
 240:openstack/04-TRAN/opencoap.c ****    
 241:openstack/04-TRAN/opencoap.c ****    // fill in packet metadata
 242:openstack/04-TRAN/opencoap.c ****    if (found==TRUE) {
 709              		.loc 1 242 0
 710 046e 97F86F30 		ldrb	r3, [r7, #111]	@ zero_extendqisi2
 711 0472 002B     		cmp	r3, #0
 712 0474 04D0     		beq	.L29
 243:openstack/04-TRAN/opencoap.c ****       msg->creator                     = temp_desc->componentID;
 713              		.loc 1 243 0
 714 0476 3B6F     		ldr	r3, [r7, #112]
 715 0478 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 716 047a 7B68     		ldr	r3, [r7, #4]
 717 047c 1A70     		strb	r2, [r3, #0]
 718 047e 03E0     		b	.L30
 719              	.L29:
 244:openstack/04-TRAN/opencoap.c ****    } else {
 245:openstack/04-TRAN/opencoap.c ****       msg->creator                     = COMPONENT_OPENCOAP;
 720              		.loc 1 245 0
 721 0480 7B68     		ldr	r3, [r7, #4]
 722 0482 4FF01902 		mov	r2, #25
 723 0486 1A70     		strb	r2, [r3, #0]
 724              	.L30:
 246:openstack/04-TRAN/opencoap.c ****    }
 247:openstack/04-TRAN/opencoap.c ****    msg->l4_protocol                    = IANA_UDP;
 725              		.loc 1 247 0
 726 0488 7B68     		ldr	r3, [r7, #4]
 727 048a 4FF01102 		mov	r2, #17
 728 048e 5A72     		strb	r2, [r3, #9]
 248:openstack/04-TRAN/opencoap.c ****    temp_l4_destination_port            = msg->l4_destination_port;
 729              		.loc 1 248 0
 730 0490 7B68     		ldr	r3, [r7, #4]
 731 0492 DB89     		ldrh	r3, [r3, #14]	@ movhi
 732 0494 A7F86C30 		strh	r3, [r7, #108]	@ movhi
 249:openstack/04-TRAN/opencoap.c ****    msg->l4_destination_port            = msg->l4_sourcePortORicmpv6Type;
 733              		.loc 1 249 0
 734 0498 7B68     		ldr	r3, [r7, #4]
 735 049a 9A89     		ldrh	r2, [r3, #12]
 736 049c 7B68     		ldr	r3, [r7, #4]
 737 049e DA81     		strh	r2, [r3, #14]	@ movhi
 250:openstack/04-TRAN/opencoap.c ****    msg->l4_sourcePortORicmpv6Type      = temp_l4_destination_port;
 738              		.loc 1 250 0
 739 04a0 7B68     		ldr	r3, [r7, #4]
 740 04a2 B7F86C20 		ldrh	r2, [r7, #108]	@ movhi
 741 04a6 9A81     		strh	r2, [r3, #12]	@ movhi
 251:openstack/04-TRAN/opencoap.c ****    
 252:openstack/04-TRAN/opencoap.c ****    // set destination address as the current source
 253:openstack/04-TRAN/opencoap.c ****    msg->l3_destinationAdd.type         = ADDR_128B;
 742              		.loc 1 253 0
 743 04a8 7B68     		ldr	r3, [r7, #4]
 744 04aa 4FF00302 		mov	r2, #3
 745 04ae 5A75     		strb	r2, [r3, #21]
 254:openstack/04-TRAN/opencoap.c ****    memcpy(&msg->l3_destinationAdd.addr_128b[0],&msg->l3_sourceAdd.addr_128b[0],LENGTH_ADDR128b);
 746              		.loc 1 254 0
 747 04b0 7B68     		ldr	r3, [r7, #4]
 748 04b2 03F11602 		add	r2, r3, #22
 749 04b6 7B68     		ldr	r3, [r7, #4]
 750 04b8 03F12703 		add	r3, r3, #39
 751 04bc 1046     		mov	r0, r2
 752 04be 1946     		mov	r1, r3
 753 04c0 4FF01002 		mov	r2, #16
 754 04c4 FFF7FEFF 		bl	memcpy
 255:openstack/04-TRAN/opencoap.c ****    
 256:openstack/04-TRAN/opencoap.c ****    // fill in CoAP header
 257:openstack/04-TRAN/opencoap.c ****    packetfunctions_reserveHeaderSize(msg,4+coap_header.TKL);
 755              		.loc 1 257 0
 756 04c8 97F85E30 		ldrb	r3, [r7, #94]	@ zero_extendqisi2
 757 04cc 03F10403 		add	r3, r3, #4
 758 04d0 DBB2     		uxtb	r3, r3
 759 04d2 7868     		ldr	r0, [r7, #4]
 760 04d4 1946     		mov	r1, r3
 761 04d6 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 258:openstack/04-TRAN/opencoap.c ****    msg->payload[0]                  = (COAP_VERSION    << 6) |
 762              		.loc 1 258 0
 763 04da 7B68     		ldr	r3, [r7, #4]
 764 04dc 5B68     		ldr	r3, [r3, #4]
 259:openstack/04-TRAN/opencoap.c ****                                       (COAP_TYPE_ACK   << 4) |
 260:openstack/04-TRAN/opencoap.c ****                                       (coap_header.TKL << 0);
 765              		.loc 1 260 0
 766 04de 97F85E20 		ldrb	r2, [r7, #94]	@ zero_extendqisi2
 258:openstack/04-TRAN/opencoap.c ****    msg->payload[0]                  = (COAP_VERSION    << 6) |
 767              		.loc 1 258 0
 768 04e2 42F06002 		orr	r2, r2, #96
 769 04e6 D2B2     		uxtb	r2, r2
 770 04e8 1A70     		strb	r2, [r3, #0]
 261:openstack/04-TRAN/opencoap.c ****    msg->payload[1]                  = coap_header.Code;
 771              		.loc 1 261 0
 772 04ea 7B68     		ldr	r3, [r7, #4]
 773 04ec 5B68     		ldr	r3, [r3, #4]
 774 04ee 03F10103 		add	r3, r3, #1
 775 04f2 97F85F20 		ldrb	r2, [r7, #95]	@ zero_extendqisi2
 776 04f6 1A70     		strb	r2, [r3, #0]
 262:openstack/04-TRAN/opencoap.c ****    msg->payload[2]                  = coap_header.messageID/256;
 777              		.loc 1 262 0
 778 04f8 7B68     		ldr	r3, [r7, #4]
 779 04fa 5B68     		ldr	r3, [r3, #4]
 780 04fc 03F10203 		add	r3, r3, #2
 781 0500 B7F86020 		ldrh	r2, [r7, #96]
 782 0504 4FEA1222 		lsr	r2, r2, #8
 783 0508 92B2     		uxth	r2, r2
 784 050a D2B2     		uxtb	r2, r2
 785 050c 1A70     		strb	r2, [r3, #0]
 263:openstack/04-TRAN/opencoap.c ****    msg->payload[3]                  = coap_header.messageID%256;
 786              		.loc 1 263 0
 787 050e 7B68     		ldr	r3, [r7, #4]
 788 0510 5B68     		ldr	r3, [r3, #4]
 789 0512 03F10303 		add	r3, r3, #3
 790 0516 B7F86020 		ldrh	r2, [r7, #96]
 791 051a D2B2     		uxtb	r2, r2
 792 051c 1A70     		strb	r2, [r3, #0]
 264:openstack/04-TRAN/opencoap.c ****    memcpy(&msg->payload[4], &coap_header.token[0], coap_header.TKL);
 793              		.loc 1 264 0
 794 051e 7B68     		ldr	r3, [r7, #4]
 795 0520 5B68     		ldr	r3, [r3, #4]
 796 0522 03F10401 		add	r1, r3, #4
 797 0526 97F85E30 		ldrb	r3, [r7, #94]	@ zero_extendqisi2
 798 052a 07F15C02 		add	r2, r7, #92
 799 052e 02F10602 		add	r2, r2, #6
 800 0532 0846     		mov	r0, r1
 801 0534 1146     		mov	r1, r2
 802 0536 1A46     		mov	r2, r3
 803 0538 FFF7FEFF 		bl	memcpy
 265:openstack/04-TRAN/opencoap.c ****    
 266:openstack/04-TRAN/opencoap.c ****    if ((openudp_send(msg))==E_FAIL) {
 804              		.loc 1 266 0
 805 053c 7868     		ldr	r0, [r7, #4]
 806 053e FFF7FEFF 		bl	openudp_send
 807 0542 0346     		mov	r3, r0
 808 0544 012B     		cmp	r3, #1
 809 0546 02D1     		bne	.L2
 267:openstack/04-TRAN/opencoap.c ****       openqueue_freePacketBuffer(msg);
 810              		.loc 1 267 0
 811 0548 7868     		ldr	r0, [r7, #4]
 812 054a FFF7FEFF 		bl	openqueue_freePacketBuffer
 813              	.L2:
 268:openstack/04-TRAN/opencoap.c ****    }
 269:openstack/04-TRAN/opencoap.c **** }
 814              		.loc 1 269 0
 815 054e 07F17807 		add	r7, r7, #120
 816 0552 BD46     		mov	sp, r7
 817 0554 80BD     		pop	{r7, pc}
 818              		.cfi_endproc
 819              	.LFE1:
 821 0556 00BF     		.align	2
 822              		.global	opencoap_sendDone
 823              		.thumb
 824              		.thumb_func
 826              	opencoap_sendDone:
 827              	.LFB2:
 270:openstack/04-TRAN/opencoap.c **** 
 271:openstack/04-TRAN/opencoap.c **** /**
 272:openstack/04-TRAN/opencoap.c **** \brief Indicates that the CoAP response has been sent.
 273:openstack/04-TRAN/opencoap.c **** 
 274:openstack/04-TRAN/opencoap.c **** \param[in] msg A pointer to the message which was sent.
 275:openstack/04-TRAN/opencoap.c **** \param[in] error The outcome of the send function.
 276:openstack/04-TRAN/opencoap.c **** */
 277:openstack/04-TRAN/opencoap.c **** void opencoap_sendDone(OpenQueueEntry_t* msg, owerror_t error) {
 828              		.loc 1 277 0
 829              		.cfi_startproc
 830              		@ args = 0, pretend = 0, frame = 16
 831              		@ frame_needed = 1, uses_anonymous_args = 0
 832 0558 80B5     		push	{r7, lr}
 833              	.LCFI5:
 834              		.cfi_def_cfa_offset 8
 835              		.cfi_offset 7, -8
 836              		.cfi_offset 14, -4
 837 055a 84B0     		sub	sp, sp, #16
 838              	.LCFI6:
 839              		.cfi_def_cfa_offset 24
 840 055c 00AF     		add	r7, sp, #0
 841              	.LCFI7:
 842              		.cfi_def_cfa_register 7
 843 055e 7860     		str	r0, [r7, #4]
 844 0560 0B46     		mov	r3, r1
 845 0562 FB70     		strb	r3, [r7, #3]
 278:openstack/04-TRAN/opencoap.c ****    coap_resource_desc_t* temp_resource;
 279:openstack/04-TRAN/opencoap.c ****    
 280:openstack/04-TRAN/opencoap.c ****    // take ownership over that packet
 281:openstack/04-TRAN/opencoap.c ****    msg->owner = COMPONENT_OPENCOAP;
 846              		.loc 1 281 0
 847 0564 7B68     		ldr	r3, [r7, #4]
 848 0566 4FF01902 		mov	r2, #25
 849 056a 5A70     		strb	r2, [r3, #1]
 282:openstack/04-TRAN/opencoap.c ****    
 283:openstack/04-TRAN/opencoap.c ****    // indicate sendDone to creator of that packet
 284:openstack/04-TRAN/opencoap.c ****    //=== mine
 285:openstack/04-TRAN/opencoap.c ****    if (msg->creator==COMPONENT_OPENCOAP) {
 850              		.loc 1 285 0
 851 056c 7B68     		ldr	r3, [r7, #4]
 852 056e 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 853 0570 192B     		cmp	r3, #25
 854 0572 03D1     		bne	.L37
 286:openstack/04-TRAN/opencoap.c ****       openqueue_freePacketBuffer(msg);
 855              		.loc 1 286 0
 856 0574 7868     		ldr	r0, [r7, #4]
 857 0576 FFF7FEFF 		bl	openqueue_freePacketBuffer
 287:openstack/04-TRAN/opencoap.c ****       return;
 858              		.loc 1 287 0
 859 057a 2AE0     		b	.L36
 860              	.L37:
 288:openstack/04-TRAN/opencoap.c ****    }
 289:openstack/04-TRAN/opencoap.c ****    //=== someone else's
 290:openstack/04-TRAN/opencoap.c ****    temp_resource = opencoap_vars.resources;
 861              		.loc 1 290 0
 862 057c 40F20003 		movw	r3, #:lower16:opencoap_vars
 863 0580 C0F20003 		movt	r3, #:upper16:opencoap_vars
 864 0584 1B68     		ldr	r3, [r3, #0]
 865 0586 FB60     		str	r3, [r7, #12]
 291:openstack/04-TRAN/opencoap.c ****    while (temp_resource!=NULL) {
 866              		.loc 1 291 0
 867 0588 13E0     		b	.L39
 868              	.L41:
 292:openstack/04-TRAN/opencoap.c ****       if (
 293:openstack/04-TRAN/opencoap.c ****          temp_resource->componentID==msg->creator &&
 869              		.loc 1 293 0
 870 058a FB68     		ldr	r3, [r7, #12]
 871 058c 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 872 058e 7B68     		ldr	r3, [r7, #4]
 873 0590 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 292:openstack/04-TRAN/opencoap.c ****       if (
 874              		.loc 1 292 0
 875 0592 9A42     		cmp	r2, r3
 876 0594 0AD1     		bne	.L40
 294:openstack/04-TRAN/opencoap.c ****          temp_resource->callbackSendDone!=NULL
 877              		.loc 1 294 0
 878 0596 FB68     		ldr	r3, [r7, #12]
 879 0598 DB69     		ldr	r3, [r3, #28]
 293:openstack/04-TRAN/opencoap.c ****          temp_resource->componentID==msg->creator &&
 880              		.loc 1 293 0
 881 059a 002B     		cmp	r3, #0
 882 059c 06D0     		beq	.L40
 295:openstack/04-TRAN/opencoap.c ****          ) {
 296:openstack/04-TRAN/opencoap.c ****          temp_resource->callbackSendDone(msg,error);
 883              		.loc 1 296 0
 884 059e FB68     		ldr	r3, [r7, #12]
 885 05a0 DB69     		ldr	r3, [r3, #28]
 886 05a2 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 887 05a4 7868     		ldr	r0, [r7, #4]
 888 05a6 1146     		mov	r1, r2
 889 05a8 9847     		blx	r3
 297:openstack/04-TRAN/opencoap.c ****          return;
 890              		.loc 1 297 0
 891 05aa 12E0     		b	.L36
 892              	.L40:
 298:openstack/04-TRAN/opencoap.c ****       }
 299:openstack/04-TRAN/opencoap.c ****       temp_resource = temp_resource->next;
 893              		.loc 1 299 0
 894 05ac FB68     		ldr	r3, [r7, #12]
 895 05ae 1B6A     		ldr	r3, [r3, #32]
 896 05b0 FB60     		str	r3, [r7, #12]
 897              	.L39:
 291:openstack/04-TRAN/opencoap.c ****    while (temp_resource!=NULL) {
 898              		.loc 1 291 0 discriminator 1
 899 05b2 FB68     		ldr	r3, [r7, #12]
 900 05b4 002B     		cmp	r3, #0
 901 05b6 E8D1     		bne	.L41
 300:openstack/04-TRAN/opencoap.c ****    }
 301:openstack/04-TRAN/opencoap.c ****    
 302:openstack/04-TRAN/opencoap.c ****    // if you get here, no valid creator was found
 303:openstack/04-TRAN/opencoap.c ****    
 304:openstack/04-TRAN/opencoap.c ****    openserial_printError(
 902              		.loc 1 304 0
 903 05b8 4FF01900 		mov	r0, #25
 904 05bc 4FF02B01 		mov	r1, #43
 905 05c0 4FF00002 		mov	r2, #0
 906 05c4 4FF00003 		mov	r3, #0
 907 05c8 FFF7FEFF 		bl	openserial_printError
 305:openstack/04-TRAN/opencoap.c ****       COMPONENT_OPENCOAP,ERR_UNEXPECTED_SENDDONE,
 306:openstack/04-TRAN/opencoap.c ****       (errorparameter_t)0,
 307:openstack/04-TRAN/opencoap.c ****       (errorparameter_t)0
 308:openstack/04-TRAN/opencoap.c ****    );
 309:openstack/04-TRAN/opencoap.c ****    openqueue_freePacketBuffer(msg);
 908              		.loc 1 309 0
 909 05cc 7868     		ldr	r0, [r7, #4]
 910 05ce FFF7FEFF 		bl	openqueue_freePacketBuffer
 911              	.L36:
 310:openstack/04-TRAN/opencoap.c **** }
 912              		.loc 1 310 0
 913 05d2 07F11007 		add	r7, r7, #16
 914 05d6 BD46     		mov	sp, r7
 915 05d8 80BD     		pop	{r7, pc}
 916              		.cfi_endproc
 917              	.LFE2:
 919 05da 00BF     		.align	2
 920              		.global	opencoap_writeLinks
 921              		.thumb
 922              		.thumb_func
 924              	opencoap_writeLinks:
 925              	.LFB3:
 311:openstack/04-TRAN/opencoap.c **** 
 312:openstack/04-TRAN/opencoap.c **** //===== from CoAP resources
 313:openstack/04-TRAN/opencoap.c **** 
 314:openstack/04-TRAN/opencoap.c **** /**
 315:openstack/04-TRAN/opencoap.c **** \brief Writes the links to all the resources on this mote into the message.
 316:openstack/04-TRAN/opencoap.c **** 
 317:openstack/04-TRAN/opencoap.c **** \param[out] msg The messge to write the links to.
 318:openstack/04-TRAN/opencoap.c **** 
 319:openstack/04-TRAN/opencoap.c **** \post After this function returns, the msg contains 
 320:openstack/04-TRAN/opencoap.c **** */
 321:openstack/04-TRAN/opencoap.c **** void opencoap_writeLinks(OpenQueueEntry_t* msg) {
 926              		.loc 1 321 0
 927              		.cfi_startproc
 928              		@ args = 0, pretend = 0, frame = 16
 929              		@ frame_needed = 1, uses_anonymous_args = 0
 930 05dc 80B5     		push	{r7, lr}
 931              	.LCFI8:
 932              		.cfi_def_cfa_offset 8
 933              		.cfi_offset 7, -8
 934              		.cfi_offset 14, -4
 935 05de 84B0     		sub	sp, sp, #16
 936              	.LCFI9:
 937              		.cfi_def_cfa_offset 24
 938 05e0 00AF     		add	r7, sp, #0
 939              	.LCFI10:
 940              		.cfi_def_cfa_register 7
 941 05e2 7860     		str	r0, [r7, #4]
 322:openstack/04-TRAN/opencoap.c ****    coap_resource_desc_t* temp_resource;
 323:openstack/04-TRAN/opencoap.c ****    
 324:openstack/04-TRAN/opencoap.c ****    // start with the first resource in the linked list
 325:openstack/04-TRAN/opencoap.c ****    temp_resource = opencoap_vars.resources;
 942              		.loc 1 325 0
 943 05e4 40F20003 		movw	r3, #:lower16:opencoap_vars
 944 05e8 C0F20003 		movt	r3, #:upper16:opencoap_vars
 945 05ec 1B68     		ldr	r3, [r3, #0]
 946 05ee FB60     		str	r3, [r7, #12]
 326:openstack/04-TRAN/opencoap.c ****    
 327:openstack/04-TRAN/opencoap.c ****    // iterate through all resources
 328:openstack/04-TRAN/opencoap.c ****    while (temp_resource!=NULL) {
 947              		.loc 1 328 0
 948 05f0 5BE0     		b	.L43
 949              	.L46:
 329:openstack/04-TRAN/opencoap.c ****       
 330:openstack/04-TRAN/opencoap.c ****       // write ending '>'
 331:openstack/04-TRAN/opencoap.c ****       packetfunctions_reserveHeaderSize(msg,1);
 950              		.loc 1 331 0
 951 05f2 7868     		ldr	r0, [r7, #4]
 952 05f4 4FF00101 		mov	r1, #1
 953 05f8 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 332:openstack/04-TRAN/opencoap.c ****       msg->payload[0] = '>';
 954              		.loc 1 332 0
 955 05fc 7B68     		ldr	r3, [r7, #4]
 956 05fe 5B68     		ldr	r3, [r3, #4]
 957 0600 4FF03E02 		mov	r2, #62
 958 0604 1A70     		strb	r2, [r3, #0]
 333:openstack/04-TRAN/opencoap.c ****       
 334:openstack/04-TRAN/opencoap.c ****       // write path1
 335:openstack/04-TRAN/opencoap.c ****       if (temp_resource->path1len>0) {
 959              		.loc 1 335 0
 960 0606 FB68     		ldr	r3, [r7, #12]
 961 0608 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 962 060a 002B     		cmp	r3, #0
 963 060c 1AD0     		beq	.L44
 336:openstack/04-TRAN/opencoap.c ****          packetfunctions_reserveHeaderSize(msg,temp_resource->path1len);
 964              		.loc 1 336 0
 965 060e FB68     		ldr	r3, [r7, #12]
 966 0610 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 967 0612 7868     		ldr	r0, [r7, #4]
 968 0614 1946     		mov	r1, r3
 969 0616 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 337:openstack/04-TRAN/opencoap.c ****          memcpy(&msg->payload[0],temp_resource->path1val,temp_resource->path1len);
 970              		.loc 1 337 0
 971 061a 7B68     		ldr	r3, [r7, #4]
 972 061c 5968     		ldr	r1, [r3, #4]
 973 061e FB68     		ldr	r3, [r7, #12]
 974 0620 DA68     		ldr	r2, [r3, #12]
 975 0622 FB68     		ldr	r3, [r7, #12]
 976 0624 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 977 0626 0846     		mov	r0, r1
 978 0628 1146     		mov	r1, r2
 979 062a 1A46     		mov	r2, r3
 980 062c FFF7FEFF 		bl	memcpy
 338:openstack/04-TRAN/opencoap.c ****          packetfunctions_reserveHeaderSize(msg,1);
 981              		.loc 1 338 0
 982 0630 7868     		ldr	r0, [r7, #4]
 983 0632 4FF00101 		mov	r1, #1
 984 0636 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 339:openstack/04-TRAN/opencoap.c ****          msg->payload[0] = '/';
 985              		.loc 1 339 0
 986 063a 7B68     		ldr	r3, [r7, #4]
 987 063c 5B68     		ldr	r3, [r3, #4]
 988 063e 4FF02F02 		mov	r2, #47
 989 0642 1A70     		strb	r2, [r3, #0]
 990              	.L44:
 340:openstack/04-TRAN/opencoap.c ****       }
 341:openstack/04-TRAN/opencoap.c ****       
 342:openstack/04-TRAN/opencoap.c ****       // write path0
 343:openstack/04-TRAN/opencoap.c ****       packetfunctions_reserveHeaderSize(msg,temp_resource->path0len);
 991              		.loc 1 343 0
 992 0644 FB68     		ldr	r3, [r7, #12]
 993 0646 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 994 0648 7868     		ldr	r0, [r7, #4]
 995 064a 1946     		mov	r1, r3
 996 064c FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 344:openstack/04-TRAN/opencoap.c ****       memcpy(msg->payload,temp_resource->path0val,temp_resource->path0len);
 997              		.loc 1 344 0
 998 0650 7B68     		ldr	r3, [r7, #4]
 999 0652 5968     		ldr	r1, [r3, #4]
 1000 0654 FB68     		ldr	r3, [r7, #12]
 1001 0656 5A68     		ldr	r2, [r3, #4]
 1002 0658 FB68     		ldr	r3, [r7, #12]
 1003 065a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1004 065c 0846     		mov	r0, r1
 1005 065e 1146     		mov	r1, r2
 1006 0660 1A46     		mov	r2, r3
 1007 0662 FFF7FEFF 		bl	memcpy
 345:openstack/04-TRAN/opencoap.c ****       packetfunctions_reserveHeaderSize(msg,2);
 1008              		.loc 1 345 0
 1009 0666 7868     		ldr	r0, [r7, #4]
 1010 0668 4FF00201 		mov	r1, #2
 1011 066c FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 346:openstack/04-TRAN/opencoap.c ****       msg->payload[1] = '/';
 1012              		.loc 1 346 0
 1013 0670 7B68     		ldr	r3, [r7, #4]
 1014 0672 5B68     		ldr	r3, [r3, #4]
 1015 0674 03F10103 		add	r3, r3, #1
 1016 0678 4FF02F02 		mov	r2, #47
 1017 067c 1A70     		strb	r2, [r3, #0]
 347:openstack/04-TRAN/opencoap.c ****       
 348:openstack/04-TRAN/opencoap.c ****       // write opening '>'
 349:openstack/04-TRAN/opencoap.c ****       msg->payload[0] = '<';
 1018              		.loc 1 349 0
 1019 067e 7B68     		ldr	r3, [r7, #4]
 1020 0680 5B68     		ldr	r3, [r3, #4]
 1021 0682 4FF03C02 		mov	r2, #60
 1022 0686 1A70     		strb	r2, [r3, #0]
 350:openstack/04-TRAN/opencoap.c ****       
 351:openstack/04-TRAN/opencoap.c ****       // write separator between links
 352:openstack/04-TRAN/opencoap.c ****       if (temp_resource->next!=NULL) {
 1023              		.loc 1 352 0
 1024 0688 FB68     		ldr	r3, [r7, #12]
 1025 068a 1B6A     		ldr	r3, [r3, #32]
 1026 068c 002B     		cmp	r3, #0
 1027 068e 09D0     		beq	.L45
 353:openstack/04-TRAN/opencoap.c ****          packetfunctions_reserveHeaderSize(msg,1);
 1028              		.loc 1 353 0
 1029 0690 7868     		ldr	r0, [r7, #4]
 1030 0692 4FF00101 		mov	r1, #1
 1031 0696 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 354:openstack/04-TRAN/opencoap.c ****          msg->payload[0] = ',';
 1032              		.loc 1 354 0
 1033 069a 7B68     		ldr	r3, [r7, #4]
 1034 069c 5B68     		ldr	r3, [r3, #4]
 1035 069e 4FF02C02 		mov	r2, #44
 1036 06a2 1A70     		strb	r2, [r3, #0]
 1037              	.L45:
 355:openstack/04-TRAN/opencoap.c ****       }
 356:openstack/04-TRAN/opencoap.c ****       
 357:openstack/04-TRAN/opencoap.c ****       // iterate to next resource
 358:openstack/04-TRAN/opencoap.c ****       temp_resource = temp_resource->next;
 1038              		.loc 1 358 0
 1039 06a4 FB68     		ldr	r3, [r7, #12]
 1040 06a6 1B6A     		ldr	r3, [r3, #32]
 1041 06a8 FB60     		str	r3, [r7, #12]
 1042              	.L43:
 328:openstack/04-TRAN/opencoap.c ****    while (temp_resource!=NULL) {
 1043              		.loc 1 328 0 discriminator 1
 1044 06aa FB68     		ldr	r3, [r7, #12]
 1045 06ac 002B     		cmp	r3, #0
 1046 06ae A0D1     		bne	.L46
 359:openstack/04-TRAN/opencoap.c ****    }
 360:openstack/04-TRAN/opencoap.c **** }
 1047              		.loc 1 360 0
 1048 06b0 07F11007 		add	r7, r7, #16
 1049 06b4 BD46     		mov	sp, r7
 1050 06b6 80BD     		pop	{r7, pc}
 1051              		.cfi_endproc
 1052              	.LFE3:
 1054              		.align	2
 1055              		.global	opencoap_register
 1056              		.thumb
 1057              		.thumb_func
 1059              	opencoap_register:
 1060              	.LFB4:
 361:openstack/04-TRAN/opencoap.c **** 
 362:openstack/04-TRAN/opencoap.c **** /**
 363:openstack/04-TRAN/opencoap.c **** \brief Register a new CoAP resource.
 364:openstack/04-TRAN/opencoap.c **** 
 365:openstack/04-TRAN/opencoap.c **** This function is called by a CoAP resource when it starts, allowing it to
 366:openstack/04-TRAN/opencoap.c **** receive data sent to that resource.
 367:openstack/04-TRAN/opencoap.c **** 
 368:openstack/04-TRAN/opencoap.c **** Registration consists in adding a new resource at the end of the linked list
 369:openstack/04-TRAN/opencoap.c **** of resources.
 370:openstack/04-TRAN/opencoap.c **** 
 371:openstack/04-TRAN/opencoap.c **** \param[in] desc The description of the CoAP resource.
 372:openstack/04-TRAN/opencoap.c **** */
 373:openstack/04-TRAN/opencoap.c **** void opencoap_register(coap_resource_desc_t* desc) {
 1061              		.loc 1 373 0
 1062              		.cfi_startproc
 1063              		@ args = 0, pretend = 0, frame = 16
 1064              		@ frame_needed = 1, uses_anonymous_args = 0
 1065              		@ link register save eliminated.
 1066 06b8 80B4     		push	{r7}
 1067              	.LCFI11:
 1068              		.cfi_def_cfa_offset 4
 1069              		.cfi_offset 7, -4
 1070 06ba 85B0     		sub	sp, sp, #20
 1071              	.LCFI12:
 1072              		.cfi_def_cfa_offset 24
 1073 06bc 00AF     		add	r7, sp, #0
 1074              	.LCFI13:
 1075              		.cfi_def_cfa_register 7
 1076 06be 7860     		str	r0, [r7, #4]
 374:openstack/04-TRAN/opencoap.c ****    coap_resource_desc_t* last_elem;
 375:openstack/04-TRAN/opencoap.c ****    
 376:openstack/04-TRAN/opencoap.c ****    // since this CoAP resource will be at the end of the list, its next element
 377:openstack/04-TRAN/opencoap.c ****    // should point to NULL, indicating the end of the linked list.
 378:openstack/04-TRAN/opencoap.c ****    desc->next = NULL;
 1077              		.loc 1 378 0
 1078 06c0 7B68     		ldr	r3, [r7, #4]
 1079 06c2 4FF00002 		mov	r2, #0
 1080 06c6 1A62     		str	r2, [r3, #32]
 379:openstack/04-TRAN/opencoap.c ****    
 380:openstack/04-TRAN/opencoap.c ****    // if this is the first resource, simply have resources point to it
 381:openstack/04-TRAN/opencoap.c ****    if (opencoap_vars.resources==NULL) {
 1081              		.loc 1 381 0
 1082 06c8 40F20003 		movw	r3, #:lower16:opencoap_vars
 1083 06cc C0F20003 		movt	r3, #:upper16:opencoap_vars
 1084 06d0 1B68     		ldr	r3, [r3, #0]
 1085 06d2 002B     		cmp	r3, #0
 1086 06d4 06D1     		bne	.L48
 382:openstack/04-TRAN/opencoap.c ****       opencoap_vars.resources = desc;
 1087              		.loc 1 382 0
 1088 06d6 40F20003 		movw	r3, #:lower16:opencoap_vars
 1089 06da C0F20003 		movt	r3, #:upper16:opencoap_vars
 1090 06de 7A68     		ldr	r2, [r7, #4]
 1091 06e0 1A60     		str	r2, [r3, #0]
 383:openstack/04-TRAN/opencoap.c ****       return;
 1092              		.loc 1 383 0
 1093 06e2 10E0     		b	.L47
 1094              	.L48:
 384:openstack/04-TRAN/opencoap.c ****    }
 385:openstack/04-TRAN/opencoap.c ****    
 386:openstack/04-TRAN/opencoap.c ****    // if not, add to the end of the resource linked list
 387:openstack/04-TRAN/opencoap.c ****    last_elem = opencoap_vars.resources;
 1095              		.loc 1 387 0
 1096 06e4 40F20003 		movw	r3, #:lower16:opencoap_vars
 1097 06e8 C0F20003 		movt	r3, #:upper16:opencoap_vars
 1098 06ec 1B68     		ldr	r3, [r3, #0]
 1099 06ee FB60     		str	r3, [r7, #12]
 388:openstack/04-TRAN/opencoap.c ****    while (last_elem->next!=NULL) {
 1100              		.loc 1 388 0
 1101 06f0 02E0     		b	.L50
 1102              	.L51:
 389:openstack/04-TRAN/opencoap.c ****       last_elem = last_elem->next;
 1103              		.loc 1 389 0
 1104 06f2 FB68     		ldr	r3, [r7, #12]
 1105 06f4 1B6A     		ldr	r3, [r3, #32]
 1106 06f6 FB60     		str	r3, [r7, #12]
 1107              	.L50:
 388:openstack/04-TRAN/opencoap.c ****    while (last_elem->next!=NULL) {
 1108              		.loc 1 388 0 discriminator 1
 1109 06f8 FB68     		ldr	r3, [r7, #12]
 1110 06fa 1B6A     		ldr	r3, [r3, #32]
 1111 06fc 002B     		cmp	r3, #0
 1112 06fe F8D1     		bne	.L51
 390:openstack/04-TRAN/opencoap.c ****    }
 391:openstack/04-TRAN/opencoap.c ****    last_elem->next = desc;
 1113              		.loc 1 391 0
 1114 0700 FB68     		ldr	r3, [r7, #12]
 1115 0702 7A68     		ldr	r2, [r7, #4]
 1116 0704 1A62     		str	r2, [r3, #32]
 1117              	.L47:
 392:openstack/04-TRAN/opencoap.c **** }
 1118              		.loc 1 392 0
 1119 0706 07F11407 		add	r7, r7, #20
 1120 070a BD46     		mov	sp, r7
 1121 070c 80BC     		pop	{r7}
 1122 070e 7047     		bx	lr
 1123              		.cfi_endproc
 1124              	.LFE4:
 1126              		.align	2
 1127              		.global	opencoap_send
 1128              		.thumb
 1129              		.thumb_func
 1131              	opencoap_send:
 1132              	.LFB5:
 393:openstack/04-TRAN/opencoap.c **** 
 394:openstack/04-TRAN/opencoap.c **** /**
 395:openstack/04-TRAN/opencoap.c **** \brief Send a CoAP request.
 396:openstack/04-TRAN/opencoap.c **** 
 397:openstack/04-TRAN/opencoap.c **** This function is called by a CoAP resource when it wants to send some data.
 398:openstack/04-TRAN/opencoap.c **** This function is NOT called for a response.
 399:openstack/04-TRAN/opencoap.c **** 
 400:openstack/04-TRAN/opencoap.c **** \param[in] msg The message to be sent. This messages should not contain the
 401:openstack/04-TRAN/opencoap.c ****    CoAP header.
 402:openstack/04-TRAN/opencoap.c **** \param[in] type The CoAP type of the message.
 403:openstack/04-TRAN/opencoap.c **** \param[in] code The CoAP code of the message.
 404:openstack/04-TRAN/opencoap.c **** \param[in] TKL  The Token Length of the message.
 405:openstack/04-TRAN/opencoap.c **** \param[out] descSender A pointer to the description of the calling CoAP
 406:openstack/04-TRAN/opencoap.c ****    resource.
 407:openstack/04-TRAN/opencoap.c **** 
 408:openstack/04-TRAN/opencoap.c **** \post After returning, this function will have written the messageID and TOKEN
 409:openstack/04-TRAN/opencoap.c ****    used in the descSender parameter.
 410:openstack/04-TRAN/opencoap.c **** 
 411:openstack/04-TRAN/opencoap.c **** \return The outcome of sending the packet.
 412:openstack/04-TRAN/opencoap.c **** */
 413:openstack/04-TRAN/opencoap.c **** owerror_t opencoap_send(
 414:openstack/04-TRAN/opencoap.c ****       OpenQueueEntry_t*      msg,
 415:openstack/04-TRAN/opencoap.c ****       coap_type_t            type,
 416:openstack/04-TRAN/opencoap.c ****       coap_code_t            code,
 417:openstack/04-TRAN/opencoap.c ****       uint8_t                TKL,
 418:openstack/04-TRAN/opencoap.c ****       coap_resource_desc_t*  descSender
 419:openstack/04-TRAN/opencoap.c ****    ) {
 1133              		.loc 1 419 0
 1134              		.cfi_startproc
 1135              		@ args = 4, pretend = 0, frame = 8
 1136              		@ frame_needed = 1, uses_anonymous_args = 0
 1137 0710 80B5     		push	{r7, lr}
 1138              	.LCFI14:
 1139              		.cfi_def_cfa_offset 8
 1140              		.cfi_offset 7, -8
 1141              		.cfi_offset 14, -4
 1142 0712 82B0     		sub	sp, sp, #8
 1143              	.LCFI15:
 1144              		.cfi_def_cfa_offset 16
 1145 0714 00AF     		add	r7, sp, #0
 1146              	.LCFI16:
 1147              		.cfi_def_cfa_register 7
 1148 0716 7860     		str	r0, [r7, #4]
 1149 0718 F970     		strb	r1, [r7, #3]
 1150 071a BA70     		strb	r2, [r7, #2]
 1151 071c 7B70     		strb	r3, [r7, #1]
 420:openstack/04-TRAN/opencoap.c ****    
 421:openstack/04-TRAN/opencoap.c ****    // pick a new (global) messageID
 422:openstack/04-TRAN/opencoap.c ****    opencoap_vars.messageID          = openrandom_get16b();
 1152              		.loc 1 422 0
 1153 071e FFF7FEFF 		bl	openrandom_get16b
 1154 0722 0346     		mov	r3, r0
 1155 0724 1A46     		mov	r2, r3
 1156 0726 40F20003 		movw	r3, #:lower16:opencoap_vars
 1157 072a C0F20003 		movt	r3, #:upper16:opencoap_vars
 1158 072e DA80     		strh	r2, [r3, #6]	@ movhi
 423:openstack/04-TRAN/opencoap.c ****    
 424:openstack/04-TRAN/opencoap.c ****    // take ownership over the packet
 425:openstack/04-TRAN/opencoap.c ****    msg->owner                       = COMPONENT_OPENCOAP;
 1159              		.loc 1 425 0
 1160 0730 7B68     		ldr	r3, [r7, #4]
 1161 0732 4FF01902 		mov	r2, #25
 1162 0736 5A70     		strb	r2, [r3, #1]
 426:openstack/04-TRAN/opencoap.c ****    
 427:openstack/04-TRAN/opencoap.c ****    // fill in packet metadata
 428:openstack/04-TRAN/opencoap.c ****    msg->l4_sourcePortORicmpv6Type   = WKP_UDP_COAP;
 1163              		.loc 1 428 0
 1164 0738 7B68     		ldr	r3, [r7, #4]
 1165 073a 41F23362 		movw	r2, #5683
 1166 073e 9A81     		strh	r2, [r3, #12]	@ movhi
 429:openstack/04-TRAN/opencoap.c ****    
 430:openstack/04-TRAN/opencoap.c ****    // pre-pend CoAP header (version,type,TKL,code,messageID,Token)
 431:openstack/04-TRAN/opencoap.c ****    packetfunctions_reserveHeaderSize(msg,5);
 1167              		.loc 1 431 0
 1168 0740 7868     		ldr	r0, [r7, #4]
 1169 0742 4FF00501 		mov	r1, #5
 1170 0746 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 432:openstack/04-TRAN/opencoap.c ****    msg->payload[0]                  = (COAP_VERSION   << 6) |
 1171              		.loc 1 432 0
 1172 074a 7B68     		ldr	r3, [r7, #4]
 1173 074c 5B68     		ldr	r3, [r3, #4]
 433:openstack/04-TRAN/opencoap.c ****                                       (type           << 4) |
 1174              		.loc 1 433 0
 1175 074e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 1176 0750 4FEA0212 		lsl	r2, r2, #4
 432:openstack/04-TRAN/opencoap.c ****    msg->payload[0]                  = (COAP_VERSION   << 6) |
 1177              		.loc 1 432 0
 1178 0754 D2B2     		uxtb	r2, r2
 1179 0756 42F04002 		orr	r2, r2, #64
 1180 075a D1B2     		uxtb	r1, r2
 1181 075c 7A78     		ldrb	r2, [r7, #1]	@ zero_extendqisi2
 1182 075e 0A43     		orrs	r2, r2, r1
 1183 0760 D2B2     		uxtb	r2, r2
 1184 0762 D2B2     		uxtb	r2, r2
 1185 0764 1A70     		strb	r2, [r3, #0]
 434:openstack/04-TRAN/opencoap.c ****                                       (TKL            << 0);
 435:openstack/04-TRAN/opencoap.c ****    msg->payload[1]                  = code;
 1186              		.loc 1 435 0
 1187 0766 7B68     		ldr	r3, [r7, #4]
 1188 0768 5B68     		ldr	r3, [r3, #4]
 1189 076a 03F10103 		add	r3, r3, #1
 1190 076e BA78     		ldrb	r2, [r7, #2]
 1191 0770 1A70     		strb	r2, [r3, #0]
 436:openstack/04-TRAN/opencoap.c ****    msg->payload[2]                  = (opencoap_vars.messageID>>8) & 0xff;
 1192              		.loc 1 436 0
 1193 0772 7B68     		ldr	r3, [r7, #4]
 1194 0774 5B68     		ldr	r3, [r3, #4]
 1195 0776 03F10202 		add	r2, r3, #2
 1196 077a 40F20003 		movw	r3, #:lower16:opencoap_vars
 1197 077e C0F20003 		movt	r3, #:upper16:opencoap_vars
 1198 0782 DB88     		ldrh	r3, [r3, #6]
 1199 0784 4FEA1323 		lsr	r3, r3, #8
 1200 0788 9BB2     		uxth	r3, r3
 1201 078a DBB2     		uxtb	r3, r3
 1202 078c 1370     		strb	r3, [r2, #0]
 437:openstack/04-TRAN/opencoap.c ****    msg->payload[3]                  = (opencoap_vars.messageID>>0) & 0xff;
 1203              		.loc 1 437 0
 1204 078e 7B68     		ldr	r3, [r7, #4]
 1205 0790 5B68     		ldr	r3, [r3, #4]
 1206 0792 03F10302 		add	r2, r3, #3
 1207 0796 40F20003 		movw	r3, #:lower16:opencoap_vars
 1208 079a C0F20003 		movt	r3, #:upper16:opencoap_vars
 1209 079e DB88     		ldrh	r3, [r3, #6]
 1210 07a0 DBB2     		uxtb	r3, r3
 1211 07a2 1370     		strb	r3, [r2, #0]
 438:openstack/04-TRAN/opencoap.c ****    msg->payload[4]                  = COAP_TOKEN;
 1212              		.loc 1 438 0
 1213 07a4 7B68     		ldr	r3, [r7, #4]
 1214 07a6 5B68     		ldr	r3, [r3, #4]
 1215 07a8 03F10403 		add	r3, r3, #4
 1216 07ac 4FF07B02 		mov	r2, #123
 1217 07b0 1A70     		strb	r2, [r3, #0]
 439:openstack/04-TRAN/opencoap.c ****   
 440:openstack/04-TRAN/opencoap.c ****    // indicate the messageID used to the sender
 441:openstack/04-TRAN/opencoap.c ****    descSender->messageID            = opencoap_vars.messageID;
 1218              		.loc 1 441 0
 1219 07b2 40F20003 		movw	r3, #:lower16:opencoap_vars
 1220 07b6 C0F20003 		movt	r3, #:upper16:opencoap_vars
 1221 07ba DA88     		ldrh	r2, [r3, #6]
 1222 07bc 3B69     		ldr	r3, [r7, #16]
 1223 07be 5A82     		strh	r2, [r3, #18]	@ movhi
 442:openstack/04-TRAN/opencoap.c ****    descSender->token                = COAP_TOKEN;
 1224              		.loc 1 442 0
 1225 07c0 3B69     		ldr	r3, [r7, #16]
 1226 07c2 4FF07B02 		mov	r2, #123
 1227 07c6 1A75     		strb	r2, [r3, #20]
 443:openstack/04-TRAN/opencoap.c ****    
 444:openstack/04-TRAN/opencoap.c ****    return openudp_send(msg);
 1228              		.loc 1 444 0
 1229 07c8 7868     		ldr	r0, [r7, #4]
 1230 07ca FFF7FEFF 		bl	openudp_send
 1231 07ce 0346     		mov	r3, r0
 445:openstack/04-TRAN/opencoap.c **** }
 1232              		.loc 1 445 0
 1233 07d0 1846     		mov	r0, r3
 1234 07d2 07F10807 		add	r7, r7, #8
 1235 07d6 BD46     		mov	sp, r7
 1236 07d8 80BD     		pop	{r7, pc}
 1237              		.cfi_endproc
 1238              	.LFE5:
 1240              	.Letext0:
 1241              		.file 2 "/opt/gcc-arm-none-eabi-4_7-2013q3/bin/../lib/gcc/arm-none-eabi/4.7.4/../../../../arm-none
 1242              		.file 3 "inc/opendefs.h"
 1243              		.file 4 "openstack/04-TRAN/opencoap.h"
 1244              		.file 5 "bsp/boards/OpenMote-CC2538/board_info.h"
DEFINED SYMBOLS
                            *ABS*:00000000 opencoap.c
     /tmp/ccvkV5op.s:19     .rodata:00000000 $d
     /tmp/ccvkV5op.s:22     .rodata:00000000 rreg_uriquery
     /tmp/ccvkV5op.s:27     .rodata:00000008 infoBoardname
     /tmp/ccvkV5op.s:32     .rodata:00000010 infouCName
     /tmp/ccvkV5op.s:37     .rodata:00000018 infoRadioName
     /tmp/ccvkV5op.s:42     .rodata:00000024 infoStackName
     /tmp/ccvkV5op.s:47     .rodata:00000030 ipAddr_ipsoRD
     /tmp/ccvkV5op.s:67     .rodata:00000040 ipAddr_motesEecs
     /tmp/ccvkV5op.s:87     .rodata:00000050 ipAddr_local
     /tmp/ccvkV5op.s:107    .rodata:00000060 ipAddr_motedata
                            *COM*:00000008 opencoap_vars
     /tmp/ccvkV5op.s:126    .text:00000000 $t
     /tmp/ccvkV5op.s:131    .text:00000000 opencoap_init
     /tmp/ccvkV5op.s:168    .text:00000028 opencoap_receive
     /tmp/ccvkV5op.s:826    .text:00000558 opencoap_sendDone
     /tmp/ccvkV5op.s:924    .text:000005dc opencoap_writeLinks
     /tmp/ccvkV5op.s:1059   .text:000006b8 opencoap_register
     /tmp/ccvkV5op.s:1131   .text:00000710 opencoap_send
                     .debug_frame:00000010 $d
                           .group:00000000 wm4.1.e96eee74da26538b12ac9582e3798382
                           .group:00000000 wm4.newlib.h.8.a9901dc52d1357e3e94003403d43f8b5
                           .group:00000000 wm4.features.h.22.b72b3baab2bb2eab3661375590100b6b
                           .group:00000000 wm4.config.h.193.5fb8ef056cdff92dec3dee9552839d8c
                           .group:00000000 wm4._ansi.h.23.b5bb84d7ba97d82b5b1dc1826a7ae811
                           .group:00000000 wm4.stdint.h.20.54ad762faa59e3c05491630641c8d8bf
                           .group:00000000 wm4.toolchain_defs.h.2.e4ebbe6e0a48032a9b79077dc42e1ffd
                           .group:00000000 wm4._default_types.h.6.5e12cd604db8ce00b62bb2f02708eaf3
                           .group:00000000 wm4.lock.h.2.9bc98482741e5e2a9450b12934a684ea
                           .group:00000000 wm4.stddef.h.349.31f4c5baff3fa2689010b32028da9c47
                           .group:00000000 wm4.reent.h.16.9e42f0e588b85e70b2bf6572af57ce64
                           .group:00000000 wm4.stddef.h.187.9e651b6b8b16e149c1353259404973ea
                           .group:00000000 wm4.string.h.17.f8d12df81104836a3f2a5d589ae830d8
                           .group:00000000 wm4.stdbool.h.29.1c9ee6859ce8145f7838a4f2549ccec2
                           .group:00000000 wm4.hw_types.h.67.b10589a0806dcc2d274d6fab6b736519
                           .group:00000000 wm4.interrupt.h.41.272fc4ec0e276feb439e7974d0f77eaf
                           .group:00000000 wm4.board_info.h.21.2f0cbb5ab4c556c54c487f727dca8532
                           .group:00000000 wm4.opendefs.h.19.05852eb648ac65e48c7817e5cbf03346
                           .group:00000000 wm4.opentimers.h.8.044f2d040a134cdb0ddb58adfc2508be
                           .group:00000000 wm4.opencoap.h.27.763f8732d8ba6438951ce1c4409e9b68
                           .group:00000000 wm4.openserial.h.8.8c63e3800d2936b44b5370ce1aae62b7
                           .group:00000000 wm4.idmanager.h.2.8c0e2159b32ef3125cbb1e984805cbfe
                           .group:00000000 wm4.scheduler.h.2.ca320b72942c5204a6e225e3c9c0814e

UNDEFINED SYMBOLS
openrandom_get16b
openserial_printError
openqueue_freePacketBuffer
memcpy
packetfunctions_tossHeader
memcmp
packetfunctions_reserveHeaderSize
openudp_send
