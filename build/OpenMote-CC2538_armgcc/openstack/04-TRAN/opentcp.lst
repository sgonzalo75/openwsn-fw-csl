   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"opentcp.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.rodata
  19              		.align	2
  22              	rreg_uriquery:
  23 0000 683D7563 		.ascii	"h=ucb\000"
  23      6200
  24 0006 0000     		.align	2
  27              	infoBoardname:
  28 0008 43433235 		.ascii	"CC2538\000"
  28      333800
  29 000f 00       		.align	2
  32              	infouCName:
  33 0010 43433235 		.ascii	"CC2538\000"
  33      333800
  34 0017 00       		.align	2
  37              	infoRadioName:
  38 0018 43433235 		.ascii	"CC2538 SoC\000"
  38      33382053 
  38      6F4300
  39 0023 00       		.align	2
  42              	infoStackName:
  43 0024 4F70656E 		.ascii	"OpenWSN \000"
  43      57534E20 
  43      00
  44              		.comm	tcp_vars,48,4
  45 002d 000000   		.text
  46              		.align	2
  47              		.global	opentcp_init
  48              		.thumb
  49              		.thumb_func
  51              	opentcp_init:
  52              	.LFB0:
  53              		.file 1 "openstack/04-TRAN/opentcp.c"
   1:openstack/04-TRAN/opentcp.c **** #include "opendefs.h"
   2:openstack/04-TRAN/opentcp.c **** #include "opentcp.h"
   3:openstack/04-TRAN/opentcp.c **** #include "openserial.h"
   4:openstack/04-TRAN/opentcp.c **** #include "openqueue.h"
   5:openstack/04-TRAN/opentcp.c **** #include "forwarding.h"
   6:openstack/04-TRAN/opentcp.c **** #include "packetfunctions.h"
   7:openstack/04-TRAN/opentcp.c **** #include "bsp_timer.h"
   8:openstack/04-TRAN/opentcp.c **** #include "scheduler.h"
   9:openstack/04-TRAN/opentcp.c **** #include "opentimers.h"
  10:openstack/04-TRAN/opentcp.c **** // applications
  11:openstack/04-TRAN/opentcp.c **** #include "techo.h"
  12:openstack/04-TRAN/opentcp.c **** 
  13:openstack/04-TRAN/opentcp.c **** //=========================== variables =======================================
  14:openstack/04-TRAN/opentcp.c **** 
  15:openstack/04-TRAN/opentcp.c **** tcp_vars_t tcp_vars;
  16:openstack/04-TRAN/opentcp.c **** 
  17:openstack/04-TRAN/opentcp.c **** //=========================== prototypes ======================================
  18:openstack/04-TRAN/opentcp.c **** 
  19:openstack/04-TRAN/opentcp.c **** void prependTCPHeader(OpenQueueEntry_t* msg, bool ack, bool push, bool rst, bool syn, bool fin);
  20:openstack/04-TRAN/opentcp.c **** bool containsControlBits(OpenQueueEntry_t* msg, uint8_t ack, uint8_t rst, uint8_t syn, uint8_t fin)
  21:openstack/04-TRAN/opentcp.c **** void tcp_change_state(uint8_t new_state);
  22:openstack/04-TRAN/opentcp.c **** void opentcp_reset(void);
  23:openstack/04-TRAN/opentcp.c **** void opentcp_timer_cb(void);
  24:openstack/04-TRAN/opentcp.c **** 
  25:openstack/04-TRAN/opentcp.c **** //=========================== public ==========================================
  26:openstack/04-TRAN/opentcp.c **** 
  27:openstack/04-TRAN/opentcp.c **** void opentcp_init() {
  54              		.loc 1 27 0
  55              		.cfi_startproc
  56              		@ args = 0, pretend = 0, frame = 0
  57              		@ frame_needed = 1, uses_anonymous_args = 0
  58 0000 80B5     		push	{r7, lr}
  59              	.LCFI0:
  60              		.cfi_def_cfa_offset 8
  61              		.cfi_offset 7, -8
  62              		.cfi_offset 14, -4
  63 0002 00AF     		add	r7, sp, #0
  64              	.LCFI1:
  65              		.cfi_def_cfa_register 7
  28:openstack/04-TRAN/opentcp.c ****    // reset local variables
  29:openstack/04-TRAN/opentcp.c ****    memset(&tcp_vars,0,sizeof(tcp_vars_t));   
  66              		.loc 1 29 0
  67 0004 40F20000 		movw	r0, #:lower16:tcp_vars
  68 0008 C0F20000 		movt	r0, #:upper16:tcp_vars
  69 000c 4FF00001 		mov	r1, #0
  70 0010 4FF03002 		mov	r2, #48
  71 0014 FFF7FEFF 		bl	memset
  30:openstack/04-TRAN/opentcp.c ****    // reset state machine
  31:openstack/04-TRAN/opentcp.c ****    opentcp_reset();
  72              		.loc 1 31 0
  73 0018 FFF7FEFF 		bl	opentcp_reset
  32:openstack/04-TRAN/opentcp.c **** }
  74              		.loc 1 32 0
  75 001c 80BD     		pop	{r7, pc}
  76              		.cfi_endproc
  77              	.LFE0:
  79 001e 00BF     		.align	2
  80              		.global	opentcp_connect
  81              		.thumb
  82              		.thumb_func
  84              	opentcp_connect:
  85              	.LFB1:
  33:openstack/04-TRAN/opentcp.c **** 
  34:openstack/04-TRAN/opentcp.c **** owerror_t opentcp_connect(open_addr_t* dest, uint16_t param_tcp_hisPort, uint16_t param_tcp_myPort)
  86              		.loc 1 34 0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 16
  89              		@ frame_needed = 1, uses_anonymous_args = 0
  90 0020 B0B5     		push	{r4, r5, r7, lr}
  91              	.LCFI2:
  92              		.cfi_def_cfa_offset 16
  93              		.cfi_offset 4, -16
  94              		.cfi_offset 5, -12
  95              		.cfi_offset 7, -8
  96              		.cfi_offset 14, -4
  97 0022 86B0     		sub	sp, sp, #24
  98              	.LCFI3:
  99              		.cfi_def_cfa_offset 40
 100 0024 02AF     		add	r7, sp, #8
 101              	.LCFI4:
 102              		.cfi_def_cfa 7, 32
 103 0026 7860     		str	r0, [r7, #4]
 104 0028 1346     		mov	r3, r2
 105 002a 0A46     		mov	r2, r1	@ movhi
 106 002c 7A80     		strh	r2, [r7, #2]	@ movhi
 107 002e 3B80     		strh	r3, [r7, #0]	@ movhi
  35:openstack/04-TRAN/opentcp.c ****    //[command] establishment
  36:openstack/04-TRAN/opentcp.c ****    OpenQueueEntry_t* tempPkt;
  37:openstack/04-TRAN/opentcp.c ****    if (tcp_vars.state!=TCP_STATE_CLOSED) {
 108              		.loc 1 37 0
 109 0030 40F20003 		movw	r3, #:lower16:tcp_vars
 110 0034 C0F20003 		movt	r3, #:upper16:tcp_vars
 111 0038 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 112 003a 002B     		cmp	r3, #0
 113 003c 10D0     		beq	.L3
  38:openstack/04-TRAN/opentcp.c ****       openserial_printError(COMPONENT_OPENTCP,ERR_WRONG_TCP_STATE,
  39:openstack/04-TRAN/opentcp.c ****                             (errorparameter_t)tcp_vars.state,
 114              		.loc 1 39 0
 115 003e 40F20003 		movw	r3, #:lower16:tcp_vars
 116 0042 C0F20003 		movt	r3, #:upper16:tcp_vars
 117 0046 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
  38:openstack/04-TRAN/opentcp.c ****       openserial_printError(COMPONENT_OPENTCP,ERR_WRONG_TCP_STATE,
 118              		.loc 1 38 0
 119 0048 4FF01700 		mov	r0, #23
 120 004c 4FF00701 		mov	r1, #7
 121 0050 1A46     		mov	r2, r3
 122 0052 4FF00003 		mov	r3, #0
 123 0056 FFF7FEFF 		bl	openserial_printError
  40:openstack/04-TRAN/opentcp.c ****                             (errorparameter_t)0);
  41:openstack/04-TRAN/opentcp.c ****       return E_FAIL;
 124              		.loc 1 41 0
 125 005a 4FF00103 		mov	r3, #1
 126 005e 6AE0     		b	.L4
 127              	.L3:
  42:openstack/04-TRAN/opentcp.c ****    }
  43:openstack/04-TRAN/opentcp.c ****    tcp_vars.myPort  = param_tcp_myPort;
 128              		.loc 1 43 0
 129 0060 40F20003 		movw	r3, #:lower16:tcp_vars
 130 0064 C0F20003 		movt	r3, #:upper16:tcp_vars
 131 0068 3A88     		ldrh	r2, [r7, #0]	@ movhi
 132 006a 1A81     		strh	r2, [r3, #8]	@ movhi
  44:openstack/04-TRAN/opentcp.c ****    tcp_vars.hisPort = param_tcp_hisPort;
 133              		.loc 1 44 0
 134 006c 40F20003 		movw	r3, #:lower16:tcp_vars
 135 0070 C0F20003 		movt	r3, #:upper16:tcp_vars
 136 0074 7A88     		ldrh	r2, [r7, #2]	@ movhi
 137 0076 1A82     		strh	r2, [r3, #16]	@ movhi
  45:openstack/04-TRAN/opentcp.c ****    memcpy(&tcp_vars.hisIPv6Address,dest,sizeof(open_addr_t));
 138              		.loc 1 45 0
 139 0078 40F20003 		movw	r3, #:lower16:tcp_vars
 140 007c C0F20003 		movt	r3, #:upper16:tcp_vars
 141 0080 7A68     		ldr	r2, [r7, #4]
 142 0082 03F11203 		add	r3, r3, #18
 143 0086 1568     		ldr	r5, [r2, #0]	@ unaligned
 144 0088 5468     		ldr	r4, [r2, #4]	@ unaligned
 145 008a 9068     		ldr	r0, [r2, #8]	@ unaligned
 146 008c D168     		ldr	r1, [r2, #12]	@ unaligned
 147 008e 1D60     		str	r5, [r3, #0]	@ unaligned
 148 0090 5C60     		str	r4, [r3, #4]	@ unaligned
 149 0092 9860     		str	r0, [r3, #8]	@ unaligned
 150 0094 D960     		str	r1, [r3, #12]	@ unaligned
 151 0096 127C     		ldrb	r2, [r2, #16]
 152 0098 1A74     		strb	r2, [r3, #16]
  46:openstack/04-TRAN/opentcp.c ****    //I receive command 'connect', I send SYNC
  47:openstack/04-TRAN/opentcp.c ****    tempPkt = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 153              		.loc 1 47 0
 154 009a 4FF01700 		mov	r0, #23
 155 009e FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 156 00a2 F860     		str	r0, [r7, #12]
  48:openstack/04-TRAN/opentcp.c ****    if (tempPkt==NULL) {
 157              		.loc 1 48 0
 158 00a4 FB68     		ldr	r3, [r7, #12]
 159 00a6 002B     		cmp	r3, #0
 160 00a8 0CD1     		bne	.L5
  49:openstack/04-TRAN/opentcp.c ****       openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 161              		.loc 1 49 0
 162 00aa 4FF01700 		mov	r0, #23
 163 00ae 4FF02C01 		mov	r1, #44
 164 00b2 4FF00002 		mov	r2, #0
 165 00b6 4FF00003 		mov	r3, #0
 166 00ba FFF7FEFF 		bl	openserial_printError
  50:openstack/04-TRAN/opentcp.c ****                             (errorparameter_t)0,
  51:openstack/04-TRAN/opentcp.c ****                             (errorparameter_t)0);
  52:openstack/04-TRAN/opentcp.c ****       return E_FAIL;
 167              		.loc 1 52 0
 168 00be 4FF00103 		mov	r3, #1
 169 00c2 38E0     		b	.L4
 170              	.L5:
  53:openstack/04-TRAN/opentcp.c ****    }
  54:openstack/04-TRAN/opentcp.c ****    tempPkt->creator                = COMPONENT_OPENTCP;
 171              		.loc 1 54 0
 172 00c4 FB68     		ldr	r3, [r7, #12]
 173 00c6 4FF01702 		mov	r2, #23
 174 00ca 1A70     		strb	r2, [r3, #0]
  55:openstack/04-TRAN/opentcp.c ****    tempPkt->owner                  = COMPONENT_OPENTCP;
 175              		.loc 1 55 0
 176 00cc FB68     		ldr	r3, [r7, #12]
 177 00ce 4FF01702 		mov	r2, #23
 178 00d2 5A70     		strb	r2, [r3, #1]
  56:openstack/04-TRAN/opentcp.c ****    memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 179              		.loc 1 56 0
 180 00d4 FB68     		ldr	r3, [r7, #12]
 181 00d6 03F11503 		add	r3, r3, #21
 182 00da 40F20002 		movw	r2, #:lower16:tcp_vars
 183 00de C0F20002 		movt	r2, #:upper16:tcp_vars
 184 00e2 02F11202 		add	r2, r2, #18
 185 00e6 1568     		ldr	r5, [r2, #0]	@ unaligned
 186 00e8 5468     		ldr	r4, [r2, #4]	@ unaligned
 187 00ea 9068     		ldr	r0, [r2, #8]	@ unaligned
 188 00ec D168     		ldr	r1, [r2, #12]	@ unaligned
 189 00ee 1D60     		str	r5, [r3, #0]	@ unaligned
 190 00f0 5C60     		str	r4, [r3, #4]	@ unaligned
 191 00f2 9860     		str	r0, [r3, #8]	@ unaligned
 192 00f4 D960     		str	r1, [r3, #12]	@ unaligned
 193 00f6 127C     		ldrb	r2, [r2, #16]
 194 00f8 1A74     		strb	r2, [r3, #16]
  57:openstack/04-TRAN/opentcp.c ****    tcp_vars.mySeqNum = TCP_INITIAL_SEQNUM;
 195              		.loc 1 57 0
 196 00fa 40F20003 		movw	r3, #:lower16:tcp_vars
 197 00fe C0F20003 		movt	r3, #:upper16:tcp_vars
 198 0102 4FF06402 		mov	r2, #100
 199 0106 5A60     		str	r2, [r3, #4]
  58:openstack/04-TRAN/opentcp.c ****    prependTCPHeader(tempPkt,
 200              		.loc 1 58 0
 201 0108 4FF00103 		mov	r3, #1
 202 010c 0093     		str	r3, [sp, #0]
 203 010e 4FF00003 		mov	r3, #0
 204 0112 0193     		str	r3, [sp, #4]
 205 0114 F868     		ldr	r0, [r7, #12]
 206 0116 4FF00001 		mov	r1, #0
 207 011a 4FF00002 		mov	r2, #0
 208 011e 4FF00003 		mov	r3, #0
 209 0122 FFF7FEFF 		bl	prependTCPHeader
  59:openstack/04-TRAN/opentcp.c ****          TCP_ACK_NO,
  60:openstack/04-TRAN/opentcp.c ****          TCP_PSH_NO,
  61:openstack/04-TRAN/opentcp.c ****          TCP_RST_NO,
  62:openstack/04-TRAN/opentcp.c ****          TCP_SYN_YES,
  63:openstack/04-TRAN/opentcp.c ****          TCP_FIN_NO);
  64:openstack/04-TRAN/opentcp.c ****    tcp_change_state(TCP_STATE_ALMOST_SYN_SENT);
 210              		.loc 1 64 0
 211 0126 4FF00300 		mov	r0, #3
 212 012a FFF7FEFF 		bl	tcp_change_state
  65:openstack/04-TRAN/opentcp.c ****    return forwarding_send(tempPkt);
 213              		.loc 1 65 0
 214 012e F868     		ldr	r0, [r7, #12]
 215 0130 FFF7FEFF 		bl	forwarding_send
 216 0134 0346     		mov	r3, r0
 217              	.L4:
  66:openstack/04-TRAN/opentcp.c **** }
 218              		.loc 1 66 0
 219 0136 1846     		mov	r0, r3
 220 0138 07F11007 		add	r7, r7, #16
 221 013c BD46     		mov	sp, r7
 222 013e B0BD     		pop	{r4, r5, r7, pc}
 223              		.cfi_endproc
 224              	.LFE1:
 226              		.align	2
 227              		.global	opentcp_send
 228              		.thumb
 229              		.thumb_func
 231              	opentcp_send:
 232              	.LFB2:
  67:openstack/04-TRAN/opentcp.c **** 
  68:openstack/04-TRAN/opentcp.c **** owerror_t opentcp_send(OpenQueueEntry_t* msg) {             //[command] data
 233              		.loc 1 68 0
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 8
 236              		@ frame_needed = 1, uses_anonymous_args = 0
 237 0140 B0B5     		push	{r4, r5, r7, lr}
 238              	.LCFI5:
 239              		.cfi_def_cfa_offset 16
 240              		.cfi_offset 4, -16
 241              		.cfi_offset 5, -12
 242              		.cfi_offset 7, -8
 243              		.cfi_offset 14, -4
 244 0142 84B0     		sub	sp, sp, #16
 245              	.LCFI6:
 246              		.cfi_def_cfa_offset 32
 247 0144 02AF     		add	r7, sp, #8
 248              	.LCFI7:
 249              		.cfi_def_cfa 7, 24
 250 0146 7860     		str	r0, [r7, #4]
  69:openstack/04-TRAN/opentcp.c ****    msg->owner = COMPONENT_OPENTCP;
 251              		.loc 1 69 0
 252 0148 7B68     		ldr	r3, [r7, #4]
 253 014a 4FF01702 		mov	r2, #23
 254 014e 5A70     		strb	r2, [r3, #1]
  70:openstack/04-TRAN/opentcp.c ****    if (tcp_vars.state!=TCP_STATE_ESTABLISHED) {
 255              		.loc 1 70 0
 256 0150 40F20003 		movw	r3, #:lower16:tcp_vars
 257 0154 C0F20003 		movt	r3, #:upper16:tcp_vars
 258 0158 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 259 015a 062B     		cmp	r3, #6
 260 015c 10D0     		beq	.L7
  71:openstack/04-TRAN/opentcp.c ****       openserial_printError(COMPONENT_OPENTCP,ERR_WRONG_TCP_STATE,
  72:openstack/04-TRAN/opentcp.c ****                             (errorparameter_t)tcp_vars.state,
 261              		.loc 1 72 0
 262 015e 40F20003 		movw	r3, #:lower16:tcp_vars
 263 0162 C0F20003 		movt	r3, #:upper16:tcp_vars
 264 0166 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
  71:openstack/04-TRAN/opentcp.c ****       openserial_printError(COMPONENT_OPENTCP,ERR_WRONG_TCP_STATE,
 265              		.loc 1 71 0
 266 0168 4FF01700 		mov	r0, #23
 267 016c 4FF00701 		mov	r1, #7
 268 0170 1A46     		mov	r2, r3
 269 0172 4FF00203 		mov	r3, #2
 270 0176 FFF7FEFF 		bl	openserial_printError
  73:openstack/04-TRAN/opentcp.c ****                             (errorparameter_t)2);
  74:openstack/04-TRAN/opentcp.c ****       return E_FAIL;
 271              		.loc 1 74 0
 272 017a 4FF00103 		mov	r3, #1
 273 017e 78E0     		b	.L8
 274              	.L7:
  75:openstack/04-TRAN/opentcp.c ****    }
  76:openstack/04-TRAN/opentcp.c ****    if (tcp_vars.dataToSend!=NULL) {
 275              		.loc 1 76 0
 276 0180 40F20003 		movw	r3, #:lower16:tcp_vars
 277 0184 C0F20003 		movt	r3, #:upper16:tcp_vars
 278 0188 5B6A     		ldr	r3, [r3, #36]
 279 018a 002B     		cmp	r3, #0
 280 018c 0CD0     		beq	.L9
  77:openstack/04-TRAN/opentcp.c ****       openserial_printError(COMPONENT_OPENTCP,ERR_BUSY_SENDING,
 281              		.loc 1 77 0
 282 018e 4FF01700 		mov	r0, #23
 283 0192 4FF02A01 		mov	r1, #42
 284 0196 4FF00002 		mov	r2, #0
 285 019a 4FF00003 		mov	r3, #0
 286 019e FFF7FEFF 		bl	openserial_printError
  78:openstack/04-TRAN/opentcp.c ****                             (errorparameter_t)0,
  79:openstack/04-TRAN/opentcp.c ****                             (errorparameter_t)0);
  80:openstack/04-TRAN/opentcp.c ****       return E_FAIL;
 287              		.loc 1 80 0
 288 01a2 4FF00103 		mov	r3, #1
 289 01a6 64E0     		b	.L8
 290              	.L9:
  81:openstack/04-TRAN/opentcp.c ****    }
  82:openstack/04-TRAN/opentcp.c ****    //I receive command 'send', I send data
  83:openstack/04-TRAN/opentcp.c ****    msg->l4_protocol          = IANA_TCP;
 291              		.loc 1 83 0
 292 01a8 7B68     		ldr	r3, [r7, #4]
 293 01aa 4FF00602 		mov	r2, #6
 294 01ae 5A72     		strb	r2, [r3, #9]
  84:openstack/04-TRAN/opentcp.c ****    msg->l4_sourcePortORicmpv6Type       = tcp_vars.myPort;
 295              		.loc 1 84 0
 296 01b0 40F20003 		movw	r3, #:lower16:tcp_vars
 297 01b4 C0F20003 		movt	r3, #:upper16:tcp_vars
 298 01b8 1A89     		ldrh	r2, [r3, #8]
 299 01ba 7B68     		ldr	r3, [r7, #4]
 300 01bc 9A81     		strh	r2, [r3, #12]	@ movhi
  85:openstack/04-TRAN/opentcp.c ****    msg->l4_destination_port  = tcp_vars.hisPort;
 301              		.loc 1 85 0
 302 01be 40F20003 		movw	r3, #:lower16:tcp_vars
 303 01c2 C0F20003 		movt	r3, #:upper16:tcp_vars
 304 01c6 1A8A     		ldrh	r2, [r3, #16]
 305 01c8 7B68     		ldr	r3, [r7, #4]
 306 01ca DA81     		strh	r2, [r3, #14]	@ movhi
  86:openstack/04-TRAN/opentcp.c ****    msg->l4_payload           = msg->payload;
 307              		.loc 1 86 0
 308 01cc 7B68     		ldr	r3, [r7, #4]
 309 01ce 5A68     		ldr	r2, [r3, #4]
 310 01d0 7B68     		ldr	r3, [r7, #4]
 311 01d2 1A61     		str	r2, [r3, #16]
  87:openstack/04-TRAN/opentcp.c ****    msg->l4_length            = msg->length;
 312              		.loc 1 87 0
 313 01d4 7B68     		ldr	r3, [r7, #4]
 314 01d6 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 315 01d8 7B68     		ldr	r3, [r7, #4]
 316 01da 1A75     		strb	r2, [r3, #20]
  88:openstack/04-TRAN/opentcp.c ****    memcpy(&(msg->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 317              		.loc 1 88 0
 318 01dc 7B68     		ldr	r3, [r7, #4]
 319 01de 03F11503 		add	r3, r3, #21
 320 01e2 40F20002 		movw	r2, #:lower16:tcp_vars
 321 01e6 C0F20002 		movt	r2, #:upper16:tcp_vars
 322 01ea 02F11202 		add	r2, r2, #18
 323 01ee 1568     		ldr	r5, [r2, #0]	@ unaligned
 324 01f0 5468     		ldr	r4, [r2, #4]	@ unaligned
 325 01f2 9068     		ldr	r0, [r2, #8]	@ unaligned
 326 01f4 D168     		ldr	r1, [r2, #12]	@ unaligned
 327 01f6 1D60     		str	r5, [r3, #0]	@ unaligned
 328 01f8 5C60     		str	r4, [r3, #4]	@ unaligned
 329 01fa 9860     		str	r0, [r3, #8]	@ unaligned
 330 01fc D960     		str	r1, [r3, #12]	@ unaligned
 331 01fe 127C     		ldrb	r2, [r2, #16]
 332 0200 1A74     		strb	r2, [r3, #16]
  89:openstack/04-TRAN/opentcp.c ****    tcp_vars.dataToSend = msg;
 333              		.loc 1 89 0
 334 0202 40F20003 		movw	r3, #:lower16:tcp_vars
 335 0206 C0F20003 		movt	r3, #:upper16:tcp_vars
 336 020a 7A68     		ldr	r2, [r7, #4]
 337 020c 5A62     		str	r2, [r3, #36]
  90:openstack/04-TRAN/opentcp.c ****    prependTCPHeader(tcp_vars.dataToSend,
 338              		.loc 1 90 0
 339 020e 40F20003 		movw	r3, #:lower16:tcp_vars
 340 0212 C0F20003 		movt	r3, #:upper16:tcp_vars
 341 0216 5B6A     		ldr	r3, [r3, #36]
 342 0218 4FF00002 		mov	r2, #0
 343 021c 0092     		str	r2, [sp, #0]
 344 021e 4FF00002 		mov	r2, #0
 345 0222 0192     		str	r2, [sp, #4]
 346 0224 1846     		mov	r0, r3
 347 0226 4FF00101 		mov	r1, #1
 348 022a 4FF00102 		mov	r2, #1
 349 022e 4FF00003 		mov	r3, #0
 350 0232 FFF7FEFF 		bl	prependTCPHeader
  91:openstack/04-TRAN/opentcp.c ****          TCP_ACK_YES,
  92:openstack/04-TRAN/opentcp.c ****          TCP_PSH_YES,
  93:openstack/04-TRAN/opentcp.c ****          TCP_RST_NO,
  94:openstack/04-TRAN/opentcp.c ****          TCP_SYN_NO,
  95:openstack/04-TRAN/opentcp.c ****          TCP_FIN_NO);
  96:openstack/04-TRAN/opentcp.c ****    tcp_vars.mySeqNum += tcp_vars.dataToSend->l4_length;
 351              		.loc 1 96 0
 352 0236 40F20003 		movw	r3, #:lower16:tcp_vars
 353 023a C0F20003 		movt	r3, #:upper16:tcp_vars
 354 023e 5A68     		ldr	r2, [r3, #4]
 355 0240 40F20003 		movw	r3, #:lower16:tcp_vars
 356 0244 C0F20003 		movt	r3, #:upper16:tcp_vars
 357 0248 5B6A     		ldr	r3, [r3, #36]
 358 024a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 359 024c D218     		adds	r2, r2, r3
 360 024e 40F20003 		movw	r3, #:lower16:tcp_vars
 361 0252 C0F20003 		movt	r3, #:upper16:tcp_vars
 362 0256 5A60     		str	r2, [r3, #4]
  97:openstack/04-TRAN/opentcp.c ****    tcp_change_state(TCP_STATE_ALMOST_DATA_SENT);
 363              		.loc 1 97 0
 364 0258 4FF00700 		mov	r0, #7
 365 025c FFF7FEFF 		bl	tcp_change_state
  98:openstack/04-TRAN/opentcp.c ****    return forwarding_send(tcp_vars.dataToSend);
 366              		.loc 1 98 0
 367 0260 40F20003 		movw	r3, #:lower16:tcp_vars
 368 0264 C0F20003 		movt	r3, #:upper16:tcp_vars
 369 0268 5B6A     		ldr	r3, [r3, #36]
 370 026a 1846     		mov	r0, r3
 371 026c FFF7FEFF 		bl	forwarding_send
 372 0270 0346     		mov	r3, r0
 373              	.L8:
  99:openstack/04-TRAN/opentcp.c **** }
 374              		.loc 1 99 0
 375 0272 1846     		mov	r0, r3
 376 0274 07F10807 		add	r7, r7, #8
 377 0278 BD46     		mov	sp, r7
 378 027a B0BD     		pop	{r4, r5, r7, pc}
 379              		.cfi_endproc
 380              	.LFE2:
 382              		.align	2
 383              		.global	opentcp_sendDone
 384              		.thumb
 385              		.thumb_func
 387              	opentcp_sendDone:
 388              	.LFB3:
 100:openstack/04-TRAN/opentcp.c **** 
 101:openstack/04-TRAN/opentcp.c **** void opentcp_sendDone(OpenQueueEntry_t* msg, owerror_t error) {
 389              		.loc 1 101 0
 390              		.cfi_startproc
 391              		@ args = 0, pretend = 0, frame = 16
 392              		@ frame_needed = 1, uses_anonymous_args = 0
 393 027c B0B5     		push	{r4, r5, r7, lr}
 394              	.LCFI8:
 395              		.cfi_def_cfa_offset 16
 396              		.cfi_offset 4, -16
 397              		.cfi_offset 5, -12
 398              		.cfi_offset 7, -8
 399              		.cfi_offset 14, -4
 400 027e 86B0     		sub	sp, sp, #24
 401              	.LCFI9:
 402              		.cfi_def_cfa_offset 40
 403 0280 02AF     		add	r7, sp, #8
 404              	.LCFI10:
 405              		.cfi_def_cfa 7, 32
 406 0282 7860     		str	r0, [r7, #4]
 407 0284 0B46     		mov	r3, r1
 408 0286 FB70     		strb	r3, [r7, #3]
 102:openstack/04-TRAN/opentcp.c ****    OpenQueueEntry_t* tempPkt;
 103:openstack/04-TRAN/opentcp.c ****    msg->owner = COMPONENT_OPENTCP;
 409              		.loc 1 103 0
 410 0288 7B68     		ldr	r3, [r7, #4]
 411 028a 4FF01702 		mov	r2, #23
 412 028e 5A70     		strb	r2, [r3, #1]
 104:openstack/04-TRAN/opentcp.c ****    switch (tcp_vars.state) {
 413              		.loc 1 104 0
 414 0290 40F20003 		movw	r3, #:lower16:tcp_vars
 415 0294 C0F20003 		movt	r3, #:upper16:tcp_vars
 416 0298 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 417 029a 03F1FF33 		add	r3, r3, #-1
 418 029e 122B     		cmp	r3, #18
 419 02a0 00F20481 		bhi	.L11
 420 02a4 01A2     		adr	r2, .L22
 421 02a6 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 422 02aa 00BF     		.align	2
 423              	.L22:
 424 02ac 09030000 		.word	.L12+1
 425 02b0 AD040000 		.word	.L11+1
 426 02b4 F9020000 		.word	.L13+1
 427 02b8 AD040000 		.word	.L11+1
 428 02bc 19030000 		.word	.L14+1
 429 02c0 AD040000 		.word	.L11+1
 430 02c4 5F030000 		.word	.L15+1
 431 02c8 AD040000 		.word	.L11+1
 432 02cc 69030000 		.word	.L16+1
 433 02d0 CB030000 		.word	.L17+1
 434 02d4 AD040000 		.word	.L11+1
 435 02d8 DB030000 		.word	.L18+1
 436 02dc AD040000 		.word	.L11+1
 437 02e0 AD040000 		.word	.L11+1
 438 02e4 EB030000 		.word	.L19+1
 439 02e8 AD040000 		.word	.L11+1
 440 02ec FF030000 		.word	.L20+1
 441 02f0 AD040000 		.word	.L11+1
 442 02f4 9D040000 		.word	.L21+1
 443              	.L13:
 105:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_ALMOST_SYN_SENT:                             //[sendDone] establishement
 106:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 444              		.loc 1 106 0
 445 02f8 7868     		ldr	r0, [r7, #4]
 446 02fa FFF7FEFF 		bl	openqueue_freePacketBuffer
 107:openstack/04-TRAN/opentcp.c ****          tcp_change_state(TCP_STATE_SYN_SENT);
 447              		.loc 1 107 0
 448 02fe 4FF00400 		mov	r0, #4
 449 0302 FFF7FEFF 		bl	tcp_change_state
 108:openstack/04-TRAN/opentcp.c ****          break;
 450              		.loc 1 108 0
 451 0306 E0E0     		b	.L10
 452              	.L12:
 109:openstack/04-TRAN/opentcp.c **** 
 110:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_ALMOST_SYN_RECEIVED:                         //[sendDone] establishement
 111:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 453              		.loc 1 111 0
 454 0308 7868     		ldr	r0, [r7, #4]
 455 030a FFF7FEFF 		bl	openqueue_freePacketBuffer
 112:openstack/04-TRAN/opentcp.c ****          tcp_change_state(TCP_STATE_SYN_RECEIVED);
 456              		.loc 1 112 0
 457 030e 4FF00200 		mov	r0, #2
 458 0312 FFF7FEFF 		bl	tcp_change_state
 113:openstack/04-TRAN/opentcp.c ****          break;
 459              		.loc 1 113 0
 460 0316 D8E0     		b	.L10
 461              	.L14:
 114:openstack/04-TRAN/opentcp.c **** 
 115:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_ALMOST_ESTABLISHED:                          //[sendDone] establishement
 116:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 462              		.loc 1 116 0
 463 0318 7868     		ldr	r0, [r7, #4]
 464 031a FFF7FEFF 		bl	openqueue_freePacketBuffer
 117:openstack/04-TRAN/opentcp.c ****          tcp_change_state(TCP_STATE_ESTABLISHED);
 465              		.loc 1 117 0
 466 031e 4FF00600 		mov	r0, #6
 467 0322 FFF7FEFF 		bl	tcp_change_state
 118:openstack/04-TRAN/opentcp.c ****          switch(tcp_vars.myPort) {
 468              		.loc 1 118 0
 469 0326 40F20003 		movw	r3, #:lower16:tcp_vars
 470 032a C0F20003 		movt	r3, #:upper16:tcp_vars
 471 032e 1B89     		ldrh	r3, [r3, #8]
 472 0330 072B     		cmp	r3, #7
 473 0332 04D1     		bne	.L31
 474              	.L25:
 119:openstack/04-TRAN/opentcp.c ****             case WKP_TCP_ECHO:
 120:openstack/04-TRAN/opentcp.c ****                techo_connectDone(E_SUCCESS);
 475              		.loc 1 120 0
 476 0334 4FF00000 		mov	r0, #0
 477 0338 FFF7FEFF 		bl	techo_connectDone
 121:openstack/04-TRAN/opentcp.c ****                break;
 478              		.loc 1 121 0
 479 033c 0EE0     		b	.L26
 480              	.L31:
 122:openstack/04-TRAN/opentcp.c ****             default:
 123:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_UNSUPPORTED_PORT_NUMBER,
 481              		.loc 1 123 0
 482 033e 40F20003 		movw	r3, #:lower16:tcp_vars
 483 0342 C0F20003 		movt	r3, #:upper16:tcp_vars
 484 0346 1B89     		ldrh	r3, [r3, #8]
 485 0348 4FF01700 		mov	r0, #23
 486 034c 4FF00901 		mov	r1, #9
 487 0350 1A46     		mov	r2, r3
 488 0352 4FF00003 		mov	r3, #0
 489 0356 FFF7FEFF 		bl	openserial_printError
 124:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)tcp_vars.myPort,
 125:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0);
 126:openstack/04-TRAN/opentcp.c ****                break;
 490              		.loc 1 126 0
 491 035a 00BF     		nop
 492              	.L26:
 127:openstack/04-TRAN/opentcp.c ****          }
 128:openstack/04-TRAN/opentcp.c ****          break;
 493              		.loc 1 128 0
 494 035c B5E0     		b	.L10
 495              	.L15:
 129:openstack/04-TRAN/opentcp.c **** 
 130:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_ALMOST_DATA_SENT:                            //[sendDone] data
 131:openstack/04-TRAN/opentcp.c ****          tcp_change_state(TCP_STATE_DATA_SENT);
 496              		.loc 1 131 0
 497 035e 4FF00800 		mov	r0, #8
 498 0362 FFF7FEFF 		bl	tcp_change_state
 132:openstack/04-TRAN/opentcp.c ****          break;
 499              		.loc 1 132 0
 500 0366 B0E0     		b	.L10
 501              	.L16:
 133:openstack/04-TRAN/opentcp.c **** 
 134:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_ALMOST_DATA_RECEIVED:                        //[sendDone] data
 135:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 502              		.loc 1 135 0
 503 0368 7868     		ldr	r0, [r7, #4]
 504 036a FFF7FEFF 		bl	openqueue_freePacketBuffer
 136:openstack/04-TRAN/opentcp.c ****          tcp_change_state(TCP_STATE_ESTABLISHED);
 505              		.loc 1 136 0
 506 036e 4FF00600 		mov	r0, #6
 507 0372 FFF7FEFF 		bl	tcp_change_state
 137:openstack/04-TRAN/opentcp.c ****          switch(tcp_vars.myPort) {
 508              		.loc 1 137 0
 509 0376 40F20003 		movw	r3, #:lower16:tcp_vars
 510 037a C0F20003 		movt	r3, #:upper16:tcp_vars
 511 037e 1B89     		ldrh	r3, [r3, #8]
 512 0380 072B     		cmp	r3, #7
 513 0382 08D1     		bne	.L32
 514              	.L28:
 138:openstack/04-TRAN/opentcp.c ****             case WKP_TCP_ECHO:
 139:openstack/04-TRAN/opentcp.c ****                techo_receive(tcp_vars.dataReceived);
 515              		.loc 1 139 0
 516 0384 40F20003 		movw	r3, #:lower16:tcp_vars
 517 0388 C0F20003 		movt	r3, #:upper16:tcp_vars
 518 038c 9B6A     		ldr	r3, [r3, #40]
 519 038e 1846     		mov	r0, r3
 520 0390 FFF7FEFF 		bl	techo_receive
 140:openstack/04-TRAN/opentcp.c ****                break;
 521              		.loc 1 140 0
 522 0394 18E0     		b	.L29
 523              	.L32:
 141:openstack/04-TRAN/opentcp.c ****             default:
 142:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_UNSUPPORTED_PORT_NUMBER,
 524              		.loc 1 142 0
 525 0396 40F20003 		movw	r3, #:lower16:tcp_vars
 526 039a C0F20003 		movt	r3, #:upper16:tcp_vars
 527 039e 1B89     		ldrh	r3, [r3, #8]
 528 03a0 4FF01700 		mov	r0, #23
 529 03a4 4FF00901 		mov	r1, #9
 530 03a8 1A46     		mov	r2, r3
 531 03aa 4FF00103 		mov	r3, #1
 532 03ae FFF7FEFF 		bl	openserial_printError
 143:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)tcp_vars.myPort,
 144:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)1);
 145:openstack/04-TRAN/opentcp.c ****                openqueue_freePacketBuffer(msg);
 533              		.loc 1 145 0
 534 03b2 7868     		ldr	r0, [r7, #4]
 535 03b4 FFF7FEFF 		bl	openqueue_freePacketBuffer
 146:openstack/04-TRAN/opentcp.c ****                tcp_vars.dataReceived = NULL;
 536              		.loc 1 146 0
 537 03b8 40F20003 		movw	r3, #:lower16:tcp_vars
 538 03bc C0F20003 		movt	r3, #:upper16:tcp_vars
 539 03c0 4FF00002 		mov	r2, #0
 540 03c4 9A62     		str	r2, [r3, #40]
 147:openstack/04-TRAN/opentcp.c ****                break;
 541              		.loc 1 147 0
 542 03c6 00BF     		nop
 543              	.L29:
 148:openstack/04-TRAN/opentcp.c ****          }
 149:openstack/04-TRAN/opentcp.c ****          break;
 544              		.loc 1 149 0
 545 03c8 7FE0     		b	.L10
 546              	.L17:
 150:openstack/04-TRAN/opentcp.c **** 
 151:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_ALMOST_FIN_WAIT_1:                           //[sendDone] teardown
 152:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 547              		.loc 1 152 0
 548 03ca 7868     		ldr	r0, [r7, #4]
 549 03cc FFF7FEFF 		bl	openqueue_freePacketBuffer
 153:openstack/04-TRAN/opentcp.c ****          tcp_change_state(TCP_STATE_FIN_WAIT_1);
 550              		.loc 1 153 0
 551 03d0 4FF00B00 		mov	r0, #11
 552 03d4 FFF7FEFF 		bl	tcp_change_state
 154:openstack/04-TRAN/opentcp.c ****          break;
 553              		.loc 1 154 0
 554 03d8 77E0     		b	.L10
 555              	.L18:
 155:openstack/04-TRAN/opentcp.c **** 
 156:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_ALMOST_CLOSING:                              //[sendDone] teardown
 157:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 556              		.loc 1 157 0
 557 03da 7868     		ldr	r0, [r7, #4]
 558 03dc FFF7FEFF 		bl	openqueue_freePacketBuffer
 158:openstack/04-TRAN/opentcp.c ****          tcp_change_state(TCP_STATE_CLOSING);
 559              		.loc 1 158 0
 560 03e0 4FF00D00 		mov	r0, #13
 561 03e4 FFF7FEFF 		bl	tcp_change_state
 159:openstack/04-TRAN/opentcp.c ****          break;
 562              		.loc 1 159 0
 563 03e8 6FE0     		b	.L10
 564              	.L19:
 160:openstack/04-TRAN/opentcp.c **** 
 161:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_ALMOST_TIME_WAIT:                            //[sendDone] teardown
 162:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 565              		.loc 1 162 0
 566 03ea 7868     		ldr	r0, [r7, #4]
 567 03ec FFF7FEFF 		bl	openqueue_freePacketBuffer
 163:openstack/04-TRAN/opentcp.c ****          tcp_change_state(TCP_STATE_TIME_WAIT);
 568              		.loc 1 163 0
 569 03f0 4FF01000 		mov	r0, #16
 570 03f4 FFF7FEFF 		bl	tcp_change_state
 164:openstack/04-TRAN/opentcp.c ****          //TODO implement waiting timer
 165:openstack/04-TRAN/opentcp.c ****          opentcp_reset();
 571              		.loc 1 165 0
 572 03f8 FFF7FEFF 		bl	opentcp_reset
 166:openstack/04-TRAN/opentcp.c ****          break;
 573              		.loc 1 166 0
 574 03fc 65E0     		b	.L10
 575              	.L20:
 167:openstack/04-TRAN/opentcp.c **** 
 168:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_ALMOST_CLOSE_WAIT:                           //[sendDone] teardown
 169:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 576              		.loc 1 169 0
 577 03fe 7868     		ldr	r0, [r7, #4]
 578 0400 FFF7FEFF 		bl	openqueue_freePacketBuffer
 170:openstack/04-TRAN/opentcp.c ****          tcp_change_state(TCP_STATE_CLOSE_WAIT);
 579              		.loc 1 170 0
 580 0404 4FF01200 		mov	r0, #18
 581 0408 FFF7FEFF 		bl	tcp_change_state
 171:openstack/04-TRAN/opentcp.c ****          //I send FIN+ACK
 172:openstack/04-TRAN/opentcp.c ****          tempPkt = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 582              		.loc 1 172 0
 583 040c 4FF01700 		mov	r0, #23
 584 0410 FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 585 0414 F860     		str	r0, [r7, #12]
 173:openstack/04-TRAN/opentcp.c ****          if (tempPkt==NULL) {
 586              		.loc 1 173 0
 587 0416 FB68     		ldr	r3, [r7, #12]
 588 0418 002B     		cmp	r3, #0
 589 041a 0DD1     		bne	.L30
 174:openstack/04-TRAN/opentcp.c ****             openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 590              		.loc 1 174 0
 591 041c 4FF01700 		mov	r0, #23
 592 0420 4FF02C01 		mov	r1, #44
 593 0424 4FF00002 		mov	r2, #0
 594 0428 4FF00003 		mov	r3, #0
 595 042c FFF7FEFF 		bl	openserial_printError
 175:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)0,
 176:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)0);
 177:openstack/04-TRAN/opentcp.c ****             openqueue_freePacketBuffer(msg);
 596              		.loc 1 177 0
 597 0430 7868     		ldr	r0, [r7, #4]
 598 0432 FFF7FEFF 		bl	openqueue_freePacketBuffer
 178:openstack/04-TRAN/opentcp.c ****             return;
 599              		.loc 1 178 0
 600 0436 48E0     		b	.L10
 601              	.L30:
 179:openstack/04-TRAN/opentcp.c ****          }
 180:openstack/04-TRAN/opentcp.c ****          tempPkt->creator       = COMPONENT_OPENTCP;
 602              		.loc 1 180 0
 603 0438 FB68     		ldr	r3, [r7, #12]
 604 043a 4FF01702 		mov	r2, #23
 605 043e 1A70     		strb	r2, [r3, #0]
 181:openstack/04-TRAN/opentcp.c ****          tempPkt->owner         = COMPONENT_OPENTCP;
 606              		.loc 1 181 0
 607 0440 FB68     		ldr	r3, [r7, #12]
 608 0442 4FF01702 		mov	r2, #23
 609 0446 5A70     		strb	r2, [r3, #1]
 182:openstack/04-TRAN/opentcp.c ****          memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 610              		.loc 1 182 0
 611 0448 FB68     		ldr	r3, [r7, #12]
 612 044a 03F11503 		add	r3, r3, #21
 613 044e 40F20002 		movw	r2, #:lower16:tcp_vars
 614 0452 C0F20002 		movt	r2, #:upper16:tcp_vars
 615 0456 02F11202 		add	r2, r2, #18
 616 045a 1568     		ldr	r5, [r2, #0]	@ unaligned
 617 045c 5468     		ldr	r4, [r2, #4]	@ unaligned
 618 045e 9068     		ldr	r0, [r2, #8]	@ unaligned
 619 0460 D168     		ldr	r1, [r2, #12]	@ unaligned
 620 0462 1D60     		str	r5, [r3, #0]	@ unaligned
 621 0464 5C60     		str	r4, [r3, #4]	@ unaligned
 622 0466 9860     		str	r0, [r3, #8]	@ unaligned
 623 0468 D960     		str	r1, [r3, #12]	@ unaligned
 624 046a 127C     		ldrb	r2, [r2, #16]
 625 046c 1A74     		strb	r2, [r3, #16]
 183:openstack/04-TRAN/opentcp.c ****          prependTCPHeader(tempPkt,
 626              		.loc 1 183 0
 627 046e 4FF00003 		mov	r3, #0
 628 0472 0093     		str	r3, [sp, #0]
 629 0474 4FF00103 		mov	r3, #1
 630 0478 0193     		str	r3, [sp, #4]
 631 047a F868     		ldr	r0, [r7, #12]
 632 047c 4FF00101 		mov	r1, #1
 633 0480 4FF00002 		mov	r2, #0
 634 0484 4FF00003 		mov	r3, #0
 635 0488 FFF7FEFF 		bl	prependTCPHeader
 184:openstack/04-TRAN/opentcp.c ****                TCP_ACK_YES,
 185:openstack/04-TRAN/opentcp.c ****                TCP_PSH_NO,
 186:openstack/04-TRAN/opentcp.c ****                TCP_RST_NO,
 187:openstack/04-TRAN/opentcp.c ****                TCP_SYN_NO,
 188:openstack/04-TRAN/opentcp.c ****                TCP_FIN_YES);
 189:openstack/04-TRAN/opentcp.c ****          forwarding_send(tempPkt);
 636              		.loc 1 189 0
 637 048c F868     		ldr	r0, [r7, #12]
 638 048e FFF7FEFF 		bl	forwarding_send
 190:openstack/04-TRAN/opentcp.c ****          tcp_change_state(TCP_STATE_ALMOST_LAST_ACK);
 639              		.loc 1 190 0
 640 0492 4FF01300 		mov	r0, #19
 641 0496 FFF7FEFF 		bl	tcp_change_state
 191:openstack/04-TRAN/opentcp.c ****          break;
 642              		.loc 1 191 0
 643 049a 16E0     		b	.L10
 644              	.L21:
 192:openstack/04-TRAN/opentcp.c **** 
 193:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_ALMOST_LAST_ACK:                             //[sendDone] teardown
 194:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 645              		.loc 1 194 0
 646 049c 7868     		ldr	r0, [r7, #4]
 647 049e FFF7FEFF 		bl	openqueue_freePacketBuffer
 195:openstack/04-TRAN/opentcp.c ****          tcp_change_state(TCP_STATE_LAST_ACK);
 648              		.loc 1 195 0
 649 04a2 4FF01400 		mov	r0, #20
 650 04a6 FFF7FEFF 		bl	tcp_change_state
 196:openstack/04-TRAN/opentcp.c ****          break;
 651              		.loc 1 196 0
 652 04aa 0EE0     		b	.L10
 653              	.L11:
 197:openstack/04-TRAN/opentcp.c **** 
 198:openstack/04-TRAN/opentcp.c ****       default:
 199:openstack/04-TRAN/opentcp.c ****          openserial_printError(COMPONENT_OPENTCP,ERR_WRONG_TCP_STATE,
 200:openstack/04-TRAN/opentcp.c ****                                (errorparameter_t)tcp_vars.state,
 654              		.loc 1 200 0
 655 04ac 40F20003 		movw	r3, #:lower16:tcp_vars
 656 04b0 C0F20003 		movt	r3, #:upper16:tcp_vars
 657 04b4 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 199:openstack/04-TRAN/opentcp.c ****          openserial_printError(COMPONENT_OPENTCP,ERR_WRONG_TCP_STATE,
 658              		.loc 1 199 0
 659 04b6 4FF01700 		mov	r0, #23
 660 04ba 4FF00701 		mov	r1, #7
 661 04be 1A46     		mov	r2, r3
 662 04c0 4FF00303 		mov	r3, #3
 663 04c4 FFF7FEFF 		bl	openserial_printError
 201:openstack/04-TRAN/opentcp.c ****                                (errorparameter_t)3);
 202:openstack/04-TRAN/opentcp.c ****          break;
 664              		.loc 1 202 0
 665 04c8 00BF     		nop
 666              	.L10:
 203:openstack/04-TRAN/opentcp.c ****    }
 204:openstack/04-TRAN/opentcp.c **** }
 667              		.loc 1 204 0
 668 04ca 07F11007 		add	r7, r7, #16
 669 04ce BD46     		mov	sp, r7
 670 04d0 B0BD     		pop	{r4, r5, r7, pc}
 671              		.cfi_endproc
 672              	.LFE3:
 674 04d2 00BF     		.align	2
 675              		.global	opentcp_receive
 676              		.thumb
 677              		.thumb_func
 679              	opentcp_receive:
 680              	.LFB4:
 205:openstack/04-TRAN/opentcp.c **** 
 206:openstack/04-TRAN/opentcp.c **** void opentcp_receive(OpenQueueEntry_t* msg) {
 681              		.loc 1 206 0
 682              		.cfi_startproc
 683              		@ args = 0, pretend = 0, frame = 16
 684              		@ frame_needed = 1, uses_anonymous_args = 0
 685 04d4 B0B5     		push	{r4, r5, r7, lr}
 686              	.LCFI11:
 687              		.cfi_def_cfa_offset 16
 688              		.cfi_offset 4, -16
 689              		.cfi_offset 5, -12
 690              		.cfi_offset 7, -8
 691              		.cfi_offset 14, -4
 692 04d6 86B0     		sub	sp, sp, #24
 693              	.LCFI12:
 694              		.cfi_def_cfa_offset 40
 695 04d8 02AF     		add	r7, sp, #8
 696              	.LCFI13:
 697              		.cfi_def_cfa 7, 32
 698 04da 7860     		str	r0, [r7, #4]
 207:openstack/04-TRAN/opentcp.c ****    OpenQueueEntry_t* tempPkt;
 208:openstack/04-TRAN/opentcp.c ****    bool shouldIlisten;
 209:openstack/04-TRAN/opentcp.c ****    msg->owner                     = COMPONENT_OPENTCP;
 699              		.loc 1 209 0
 700 04dc 7B68     		ldr	r3, [r7, #4]
 701 04de 4FF01702 		mov	r2, #23
 702 04e2 5A70     		strb	r2, [r3, #1]
 210:openstack/04-TRAN/opentcp.c ****    msg->l4_protocol               = IANA_TCP;
 703              		.loc 1 210 0
 704 04e4 7B68     		ldr	r3, [r7, #4]
 705 04e6 4FF00602 		mov	r2, #6
 706 04ea 5A72     		strb	r2, [r3, #9]
 211:openstack/04-TRAN/opentcp.c ****    msg->l4_payload                = msg->payload;
 707              		.loc 1 211 0
 708 04ec 7B68     		ldr	r3, [r7, #4]
 709 04ee 5A68     		ldr	r2, [r3, #4]
 710 04f0 7B68     		ldr	r3, [r7, #4]
 711 04f2 1A61     		str	r2, [r3, #16]
 212:openstack/04-TRAN/opentcp.c ****    msg->l4_length                 = msg->length;
 712              		.loc 1 212 0
 713 04f4 7B68     		ldr	r3, [r7, #4]
 714 04f6 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 715 04f8 7B68     		ldr	r3, [r7, #4]
 716 04fa 1A75     		strb	r2, [r3, #20]
 213:openstack/04-TRAN/opentcp.c ****    msg->l4_sourcePortORicmpv6Type = packetfunctions_ntohs((uint8_t*)&(((tcp_ht*)msg->payload)->sour
 717              		.loc 1 213 0
 718 04fc 7B68     		ldr	r3, [r7, #4]
 719 04fe 5B68     		ldr	r3, [r3, #4]
 720 0500 1846     		mov	r0, r3
 721 0502 FFF7FEFF 		bl	packetfunctions_ntohs
 722 0506 0346     		mov	r3, r0
 723 0508 1A46     		mov	r2, r3
 724 050a 7B68     		ldr	r3, [r7, #4]
 725 050c 9A81     		strh	r2, [r3, #12]	@ movhi
 214:openstack/04-TRAN/opentcp.c ****    msg->l4_destination_port       = packetfunctions_ntohs((uint8_t*)&(((tcp_ht*)msg->payload)->dest
 726              		.loc 1 214 0
 727 050e 7B68     		ldr	r3, [r7, #4]
 728 0510 5B68     		ldr	r3, [r3, #4]
 729 0512 03F10203 		add	r3, r3, #2
 730 0516 1846     		mov	r0, r3
 731 0518 FFF7FEFF 		bl	packetfunctions_ntohs
 732 051c 0346     		mov	r3, r0
 733 051e 1A46     		mov	r2, r3
 734 0520 7B68     		ldr	r3, [r7, #4]
 735 0522 DA81     		strh	r2, [r3, #14]	@ movhi
 215:openstack/04-TRAN/opentcp.c ****    if ( 
 216:openstack/04-TRAN/opentcp.c ****          tcp_vars.state!=TCP_STATE_CLOSED &&
 736              		.loc 1 216 0
 737 0524 40F20003 		movw	r3, #:lower16:tcp_vars
 738 0528 C0F20003 		movt	r3, #:upper16:tcp_vars
 739 052c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 215:openstack/04-TRAN/opentcp.c ****    if ( 
 740              		.loc 1 215 0
 741 052e 002B     		cmp	r3, #0
 742 0530 23D0     		beq	.L34
 217:openstack/04-TRAN/opentcp.c ****          (
 218:openstack/04-TRAN/opentcp.c ****           msg->l4_destination_port != tcp_vars.myPort  ||
 743              		.loc 1 218 0
 744 0532 7B68     		ldr	r3, [r7, #4]
 745 0534 DA89     		ldrh	r2, [r3, #14]
 746 0536 40F20003 		movw	r3, #:lower16:tcp_vars
 747 053a C0F20003 		movt	r3, #:upper16:tcp_vars
 748 053e 1B89     		ldrh	r3, [r3, #8]
 216:openstack/04-TRAN/opentcp.c ****          tcp_vars.state!=TCP_STATE_CLOSED &&
 749              		.loc 1 216 0
 750 0540 9A42     		cmp	r2, r3
 751 0542 15D1     		bne	.L35
 219:openstack/04-TRAN/opentcp.c ****           msg->l4_sourcePortORicmpv6Type      != tcp_vars.hisPort ||
 752              		.loc 1 219 0
 753 0544 7B68     		ldr	r3, [r7, #4]
 754 0546 9A89     		ldrh	r2, [r3, #12]
 755 0548 40F20003 		movw	r3, #:lower16:tcp_vars
 756 054c C0F20003 		movt	r3, #:upper16:tcp_vars
 757 0550 1B8A     		ldrh	r3, [r3, #16]
 218:openstack/04-TRAN/opentcp.c ****           msg->l4_destination_port != tcp_vars.myPort  ||
 758              		.loc 1 218 0
 759 0552 9A42     		cmp	r2, r3
 760 0554 0CD1     		bne	.L35
 220:openstack/04-TRAN/opentcp.c ****           packetfunctions_sameAddress(&(msg->l3_destinationAdd),&tcp_vars.hisIPv6Address)==FALSE
 761              		.loc 1 220 0
 762 0556 7B68     		ldr	r3, [r7, #4]
 763 0558 03F11503 		add	r3, r3, #21
 764 055c 1846     		mov	r0, r3
 765 055e C249     		ldr	r1, .L90
 766 0560 FFF7FEFF 		bl	packetfunctions_sameAddress
 767 0564 0346     		mov	r3, r0
 768 0566 83F00103 		eor	r3, r3, #1
 769 056a DBB2     		uxtb	r3, r3
 219:openstack/04-TRAN/opentcp.c ****           msg->l4_sourcePortORicmpv6Type      != tcp_vars.hisPort ||
 770              		.loc 1 219 0
 771 056c 002B     		cmp	r3, #0
 772 056e 04D0     		beq	.L34
 773              	.L35:
 221:openstack/04-TRAN/opentcp.c ****          )
 222:openstack/04-TRAN/opentcp.c ****       ) {
 223:openstack/04-TRAN/opentcp.c ****       openqueue_freePacketBuffer(msg);
 774              		.loc 1 223 0
 775 0570 7868     		ldr	r0, [r7, #4]
 776 0572 FFF7FEFF 		bl	openqueue_freePacketBuffer
 224:openstack/04-TRAN/opentcp.c ****       return;
 777              		.loc 1 224 0
 778 0576 00F094BD 		b	.L33
 779              	.L34:
 225:openstack/04-TRAN/opentcp.c ****    }
 226:openstack/04-TRAN/opentcp.c ****    if (containsControlBits(msg,TCP_ACK_WHATEVER,TCP_RST_YES,TCP_SYN_WHATEVER,TCP_FIN_WHATEVER)) {
 780              		.loc 1 226 0
 781 057a 4FF00203 		mov	r3, #2
 782 057e 0093     		str	r3, [sp, #0]
 783 0580 7868     		ldr	r0, [r7, #4]
 784 0582 4FF00201 		mov	r1, #2
 785 0586 4FF00102 		mov	r2, #1
 786 058a 4FF00203 		mov	r3, #2
 787 058e FFF7FEFF 		bl	containsControlBits
 788 0592 0346     		mov	r3, r0
 789 0594 002B     		cmp	r3, #0
 790 0596 04D0     		beq	.L37
 227:openstack/04-TRAN/opentcp.c ****       //I receive RST[+*], I reset
 228:openstack/04-TRAN/opentcp.c ****       opentcp_reset();
 791              		.loc 1 228 0
 792 0598 FFF7FEFF 		bl	opentcp_reset
 229:openstack/04-TRAN/opentcp.c ****       openqueue_freePacketBuffer(msg);
 793              		.loc 1 229 0
 794 059c 7868     		ldr	r0, [r7, #4]
 795 059e FFF7FEFF 		bl	openqueue_freePacketBuffer
 796              	.L37:
 230:openstack/04-TRAN/opentcp.c ****    }
 231:openstack/04-TRAN/opentcp.c ****    switch (tcp_vars.state) {
 797              		.loc 1 231 0
 798 05a2 40F20003 		movw	r3, #:lower16:tcp_vars
 799 05a6 C0F20003 		movt	r3, #:upper16:tcp_vars
 800 05aa 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 801 05ac 142B     		cmp	r3, #20
 802 05ae 00F26985 		bhi	.L38
 803 05b2 01A2     		adr	r2, .L48
 804 05b4 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 805              		.align	2
 806              	.L48:
 807 05b8 0D060000 		.word	.L39+1
 808 05bc 85100000 		.word	.L38+1
 809 05c0 79090000 		.word	.L40+1
 810 05c4 85100000 		.word	.L38+1
 811 05c8 99070000 		.word	.L41+1
 812 05cc 85100000 		.word	.L38+1
 813 05d0 C9090000 		.word	.L42+1
 814 05d4 85100000 		.word	.L38+1
 815 05d8 AB0B0000 		.word	.L43+1
 816 05dc 85100000 		.word	.L38+1
 817 05e0 85100000 		.word	.L38+1
 818 05e4 6F0D0000 		.word	.L44+1
 819 05e8 85100000 		.word	.L38+1
 820 05ec 29100000 		.word	.L45+1
 821 05f0 570F0000 		.word	.L46+1
 822 05f4 85100000 		.word	.L38+1
 823 05f8 85100000 		.word	.L38+1
 824 05fc 85100000 		.word	.L38+1
 825 0600 85100000 		.word	.L38+1
 826 0604 85100000 		.word	.L38+1
 827 0608 5B100000 		.word	.L47+1
 828              	.L39:
 232:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_CLOSED:                                      //[receive] establishement
 233:openstack/04-TRAN/opentcp.c ****          switch(msg->l4_destination_port) {
 829              		.loc 1 233 0
 830 060c 7B68     		ldr	r3, [r7, #4]
 831 060e DB89     		ldrh	r3, [r3, #14]
 832 0610 072B     		cmp	r3, #7
 833 0612 04D1     		bne	.L87
 834              	.L50:
 234:openstack/04-TRAN/opentcp.c ****             case WKP_TCP_ECHO:
 235:openstack/04-TRAN/opentcp.c ****                shouldIlisten = techo_shouldIlisten();
 835              		.loc 1 235 0
 836 0614 FFF7FEFF 		bl	techo_shouldIlisten
 837 0618 0346     		mov	r3, r0
 838 061a FB73     		strb	r3, [r7, #15]
 236:openstack/04-TRAN/opentcp.c ****                break;
 839              		.loc 1 236 0
 840 061c 0EE0     		b	.L51
 841              	.L87:
 237:openstack/04-TRAN/opentcp.c ****             default:
 238:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_UNSUPPORTED_PORT_NUMBER,
 239:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)msg->l4_sourcePortORicmpv6Type,
 842              		.loc 1 239 0
 843 061e 7B68     		ldr	r3, [r7, #4]
 238:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_UNSUPPORTED_PORT_NUMBER,
 844              		.loc 1 238 0
 845 0620 9B89     		ldrh	r3, [r3, #12]
 846 0622 4FF01700 		mov	r0, #23
 847 0626 4FF00901 		mov	r1, #9
 848 062a 1A46     		mov	r2, r3
 849 062c 4FF00203 		mov	r3, #2
 850 0630 FFF7FEFF 		bl	openserial_printError
 240:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)2);
 241:openstack/04-TRAN/opentcp.c ****                shouldIlisten = FALSE;
 851              		.loc 1 241 0
 852 0634 4FF00003 		mov	r3, #0
 853 0638 FB73     		strb	r3, [r7, #15]
 242:openstack/04-TRAN/opentcp.c ****                break;
 854              		.loc 1 242 0
 855 063a 00BF     		nop
 856              	.L51:
 243:openstack/04-TRAN/opentcp.c ****          }
 244:openstack/04-TRAN/opentcp.c ****          if ( containsControlBits(msg,TCP_ACK_NO,TCP_RST_NO,TCP_SYN_YES,TCP_FIN_NO) && shouldIliste
 857              		.loc 1 244 0
 858 063c 4FF00003 		mov	r3, #0
 859 0640 0093     		str	r3, [sp, #0]
 860 0642 7868     		ldr	r0, [r7, #4]
 861 0644 4FF00001 		mov	r1, #0
 862 0648 4FF00002 		mov	r2, #0
 863 064c 4FF00103 		mov	r3, #1
 864 0650 FFF7FEFF 		bl	containsControlBits
 865 0654 0346     		mov	r3, r0
 866 0656 002B     		cmp	r3, #0
 867 0658 00F08980 		beq	.L52
 868              		.loc 1 244 0 is_stmt 0 discriminator 1
 869 065c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 870 065e 002B     		cmp	r3, #0
 871 0660 00F08580 		beq	.L52
 245:openstack/04-TRAN/opentcp.c ****                   tcp_vars.myPort = msg->l4_destination_port;
 872              		.loc 1 245 0 is_stmt 1
 873 0664 7B68     		ldr	r3, [r7, #4]
 874 0666 DA89     		ldrh	r2, [r3, #14]
 875 0668 40F20003 		movw	r3, #:lower16:tcp_vars
 876 066c C0F20003 		movt	r3, #:upper16:tcp_vars
 877 0670 1A81     		strh	r2, [r3, #8]	@ movhi
 246:openstack/04-TRAN/opentcp.c ****                   //I receive SYN, I send SYN+ACK
 247:openstack/04-TRAN/opentcp.c ****                   tcp_vars.hisNextSeqNum = (packetfunctions_ntohl((uint8_t*)&(((tcp_ht*)msg->payloa
 878              		.loc 1 247 0
 879 0672 7B68     		ldr	r3, [r7, #4]
 880 0674 5B68     		ldr	r3, [r3, #4]
 881 0676 03F10403 		add	r3, r3, #4
 882 067a 1846     		mov	r0, r3
 883 067c FFF7FEFF 		bl	packetfunctions_ntohl
 884 0680 0346     		mov	r3, r0
 885 0682 03F10102 		add	r2, r3, #1
 886 0686 40F20003 		movw	r3, #:lower16:tcp_vars
 887 068a C0F20003 		movt	r3, #:upper16:tcp_vars
 888 068e DA60     		str	r2, [r3, #12]
 248:openstack/04-TRAN/opentcp.c ****                   tcp_vars.hisPort       = msg->l4_sourcePortORicmpv6Type;
 889              		.loc 1 248 0
 890 0690 7B68     		ldr	r3, [r7, #4]
 891 0692 9A89     		ldrh	r2, [r3, #12]
 892 0694 40F20003 		movw	r3, #:lower16:tcp_vars
 893 0698 C0F20003 		movt	r3, #:upper16:tcp_vars
 894 069c 1A82     		strh	r2, [r3, #16]	@ movhi
 249:openstack/04-TRAN/opentcp.c ****                   memcpy(&tcp_vars.hisIPv6Address,&(msg->l3_destinationAdd),sizeof(open_addr_t));
 895              		.loc 1 249 0
 896 069e 40F20003 		movw	r3, #:lower16:tcp_vars
 897 06a2 C0F20003 		movt	r3, #:upper16:tcp_vars
 898 06a6 7A68     		ldr	r2, [r7, #4]
 899 06a8 03F11203 		add	r3, r3, #18
 900 06ac 02F11502 		add	r2, r2, #21
 901 06b0 1568     		ldr	r5, [r2, #0]	@ unaligned
 902 06b2 5468     		ldr	r4, [r2, #4]	@ unaligned
 903 06b4 9068     		ldr	r0, [r2, #8]	@ unaligned
 904 06b6 D168     		ldr	r1, [r2, #12]	@ unaligned
 905 06b8 1D60     		str	r5, [r3, #0]	@ unaligned
 906 06ba 5C60     		str	r4, [r3, #4]	@ unaligned
 907 06bc 9860     		str	r0, [r3, #8]	@ unaligned
 908 06be D960     		str	r1, [r3, #12]	@ unaligned
 909 06c0 127C     		ldrb	r2, [r2, #16]
 910 06c2 1A74     		strb	r2, [r3, #16]
 250:openstack/04-TRAN/opentcp.c ****                   tempPkt       = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 911              		.loc 1 250 0
 912 06c4 4FF01700 		mov	r0, #23
 913 06c8 FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 914 06cc B860     		str	r0, [r7, #8]
 251:openstack/04-TRAN/opentcp.c ****                   if (tempPkt==NULL) {
 915              		.loc 1 251 0
 916 06ce BB68     		ldr	r3, [r7, #8]
 917 06d0 002B     		cmp	r3, #0
 918 06d2 0ED1     		bne	.L53
 252:openstack/04-TRAN/opentcp.c ****                      openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 919              		.loc 1 252 0
 920 06d4 4FF01700 		mov	r0, #23
 921 06d8 4FF02C01 		mov	r1, #44
 922 06dc 4FF00002 		mov	r2, #0
 923 06e0 4FF00003 		mov	r3, #0
 924 06e4 FFF7FEFF 		bl	openserial_printError
 253:openstack/04-TRAN/opentcp.c ****                                            (errorparameter_t)0,
 254:openstack/04-TRAN/opentcp.c ****                                            (errorparameter_t)0);
 255:openstack/04-TRAN/opentcp.c ****                      openqueue_freePacketBuffer(msg);
 925              		.loc 1 255 0
 926 06e8 7868     		ldr	r0, [r7, #4]
 927 06ea FFF7FEFF 		bl	openqueue_freePacketBuffer
 256:openstack/04-TRAN/opentcp.c ****                      return;
 928              		.loc 1 256 0
 929 06ee 00F0D8BC 		b	.L33
 930              	.L53:
 257:openstack/04-TRAN/opentcp.c ****                   }
 258:openstack/04-TRAN/opentcp.c ****                   tempPkt->creator       = COMPONENT_OPENTCP;
 931              		.loc 1 258 0
 932 06f2 BB68     		ldr	r3, [r7, #8]
 933 06f4 4FF01702 		mov	r2, #23
 934 06f8 1A70     		strb	r2, [r3, #0]
 259:openstack/04-TRAN/opentcp.c ****                   tempPkt->owner         = COMPONENT_OPENTCP;
 935              		.loc 1 259 0
 936 06fa BB68     		ldr	r3, [r7, #8]
 937 06fc 4FF01702 		mov	r2, #23
 938 0700 5A70     		strb	r2, [r3, #1]
 260:openstack/04-TRAN/opentcp.c ****                   memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t)
 939              		.loc 1 260 0
 940 0702 BB68     		ldr	r3, [r7, #8]
 941 0704 03F11503 		add	r3, r3, #21
 942 0708 40F20002 		movw	r2, #:lower16:tcp_vars
 943 070c C0F20002 		movt	r2, #:upper16:tcp_vars
 944 0710 02F11202 		add	r2, r2, #18
 945 0714 1568     		ldr	r5, [r2, #0]	@ unaligned
 946 0716 5468     		ldr	r4, [r2, #4]	@ unaligned
 947 0718 9068     		ldr	r0, [r2, #8]	@ unaligned
 948 071a D168     		ldr	r1, [r2, #12]	@ unaligned
 949 071c 1D60     		str	r5, [r3, #0]	@ unaligned
 950 071e 5C60     		str	r4, [r3, #4]	@ unaligned
 951 0720 9860     		str	r0, [r3, #8]	@ unaligned
 952 0722 D960     		str	r1, [r3, #12]	@ unaligned
 953 0724 127C     		ldrb	r2, [r2, #16]
 954 0726 1A74     		strb	r2, [r3, #16]
 261:openstack/04-TRAN/opentcp.c ****                   prependTCPHeader(tempPkt,
 955              		.loc 1 261 0
 956 0728 4FF00103 		mov	r3, #1
 957 072c 0093     		str	r3, [sp, #0]
 958 072e 4FF00003 		mov	r3, #0
 959 0732 0193     		str	r3, [sp, #4]
 960 0734 B868     		ldr	r0, [r7, #8]
 961 0736 4FF00101 		mov	r1, #1
 962 073a 4FF00002 		mov	r2, #0
 963 073e 4FF00003 		mov	r3, #0
 964 0742 FFF7FEFF 		bl	prependTCPHeader
 262:openstack/04-TRAN/opentcp.c ****                         TCP_ACK_YES,
 263:openstack/04-TRAN/opentcp.c ****                         TCP_PSH_NO,
 264:openstack/04-TRAN/opentcp.c ****                         TCP_RST_NO,
 265:openstack/04-TRAN/opentcp.c ****                         TCP_SYN_YES,
 266:openstack/04-TRAN/opentcp.c ****                         TCP_FIN_NO);
 267:openstack/04-TRAN/opentcp.c ****                   tcp_vars.mySeqNum++;
 965              		.loc 1 267 0
 966 0746 40F20003 		movw	r3, #:lower16:tcp_vars
 967 074a C0F20003 		movt	r3, #:upper16:tcp_vars
 968 074e 5B68     		ldr	r3, [r3, #4]
 969 0750 03F10102 		add	r2, r3, #1
 970 0754 40F20003 		movw	r3, #:lower16:tcp_vars
 971 0758 C0F20003 		movt	r3, #:upper16:tcp_vars
 972 075c 5A60     		str	r2, [r3, #4]
 268:openstack/04-TRAN/opentcp.c ****                   tcp_change_state(TCP_STATE_ALMOST_SYN_RECEIVED);
 973              		.loc 1 268 0
 974 075e 4FF00100 		mov	r0, #1
 975 0762 FFF7FEFF 		bl	tcp_change_state
 269:openstack/04-TRAN/opentcp.c ****                   forwarding_send(tempPkt);
 976              		.loc 1 269 0
 977 0766 B868     		ldr	r0, [r7, #8]
 978 0768 FFF7FEFF 		bl	forwarding_send
 979 076c 0FE0     		b	.L54
 980              	.L52:
 270:openstack/04-TRAN/opentcp.c ****                } else {
 271:openstack/04-TRAN/opentcp.c ****                   opentcp_reset();
 981              		.loc 1 271 0
 982 076e FFF7FEFF 		bl	opentcp_reset
 272:openstack/04-TRAN/opentcp.c ****                   openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 273:openstack/04-TRAN/opentcp.c ****                                         (errorparameter_t)tcp_vars.state,
 983              		.loc 1 273 0
 984 0772 40F20003 		movw	r3, #:lower16:tcp_vars
 985 0776 C0F20003 		movt	r3, #:upper16:tcp_vars
 986 077a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 272:openstack/04-TRAN/opentcp.c ****                   openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 987              		.loc 1 272 0
 988 077c 4FF01700 		mov	r0, #23
 989 0780 4FF00801 		mov	r1, #8
 990 0784 1A46     		mov	r2, r3
 991 0786 4FF00003 		mov	r3, #0
 992 078a FFF7FEFF 		bl	openserial_printError
 993              	.L54:
 274:openstack/04-TRAN/opentcp.c ****                                         (errorparameter_t)0);
 275:openstack/04-TRAN/opentcp.c ****                }
 276:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 994              		.loc 1 276 0
 995 078e 7868     		ldr	r0, [r7, #4]
 996 0790 FFF7FEFF 		bl	openqueue_freePacketBuffer
 277:openstack/04-TRAN/opentcp.c ****          break;
 997              		.loc 1 277 0
 998 0794 00F085BC 		b	.L33
 999              	.L41:
 278:openstack/04-TRAN/opentcp.c **** 
 279:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_SYN_SENT:                                    //[receive] establishement
 280:openstack/04-TRAN/opentcp.c ****          if (containsControlBits(msg,TCP_ACK_YES,TCP_RST_NO,TCP_SYN_YES,TCP_FIN_NO)) {
 1000              		.loc 1 280 0
 1001 0798 4FF00003 		mov	r3, #0
 1002 079c 0093     		str	r3, [sp, #0]
 1003 079e 7868     		ldr	r0, [r7, #4]
 1004 07a0 4FF00101 		mov	r1, #1
 1005 07a4 4FF00002 		mov	r2, #0
 1006 07a8 4FF00103 		mov	r3, #1
 1007 07ac FFF7FEFF 		bl	containsControlBits
 1008 07b0 0346     		mov	r3, r0
 1009 07b2 002B     		cmp	r3, #0
 1010 07b4 5AD0     		beq	.L55
 281:openstack/04-TRAN/opentcp.c ****             //I receive SYN+ACK, I send ACK
 282:openstack/04-TRAN/opentcp.c ****             tcp_vars.hisNextSeqNum = (packetfunctions_ntohl((uint8_t*)&(((tcp_ht*)msg->payload)->se
 1011              		.loc 1 282 0
 1012 07b6 7B68     		ldr	r3, [r7, #4]
 1013 07b8 5B68     		ldr	r3, [r3, #4]
 1014 07ba 03F10403 		add	r3, r3, #4
 1015 07be 1846     		mov	r0, r3
 1016 07c0 FFF7FEFF 		bl	packetfunctions_ntohl
 1017 07c4 0346     		mov	r3, r0
 1018 07c6 03F10102 		add	r2, r3, #1
 1019 07ca 40F20003 		movw	r3, #:lower16:tcp_vars
 1020 07ce C0F20003 		movt	r3, #:upper16:tcp_vars
 1021 07d2 DA60     		str	r2, [r3, #12]
 283:openstack/04-TRAN/opentcp.c ****             tempPkt = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 1022              		.loc 1 283 0
 1023 07d4 4FF01700 		mov	r0, #23
 1024 07d8 FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 1025 07dc B860     		str	r0, [r7, #8]
 284:openstack/04-TRAN/opentcp.c ****             if (tempPkt==NULL) {
 1026              		.loc 1 284 0
 1027 07de BB68     		ldr	r3, [r7, #8]
 1028 07e0 002B     		cmp	r3, #0
 1029 07e2 0ED1     		bne	.L56
 285:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 1030              		.loc 1 285 0
 1031 07e4 4FF01700 		mov	r0, #23
 1032 07e8 4FF02C01 		mov	r1, #44
 1033 07ec 4FF00002 		mov	r2, #0
 1034 07f0 4FF00003 		mov	r3, #0
 1035 07f4 FFF7FEFF 		bl	openserial_printError
 286:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0,
 287:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0);
 288:openstack/04-TRAN/opentcp.c ****                openqueue_freePacketBuffer(msg);
 1036              		.loc 1 288 0
 1037 07f8 7868     		ldr	r0, [r7, #4]
 1038 07fa FFF7FEFF 		bl	openqueue_freePacketBuffer
 289:openstack/04-TRAN/opentcp.c ****                return;
 1039              		.loc 1 289 0
 1040 07fe 00F050BC 		b	.L33
 1041              	.L56:
 290:openstack/04-TRAN/opentcp.c ****             }
 291:openstack/04-TRAN/opentcp.c ****             tempPkt->creator       = COMPONENT_OPENTCP;
 1042              		.loc 1 291 0
 1043 0802 BB68     		ldr	r3, [r7, #8]
 1044 0804 4FF01702 		mov	r2, #23
 1045 0808 1A70     		strb	r2, [r3, #0]
 292:openstack/04-TRAN/opentcp.c ****             tempPkt->owner         = COMPONENT_OPENTCP;
 1046              		.loc 1 292 0
 1047 080a BB68     		ldr	r3, [r7, #8]
 1048 080c 4FF01702 		mov	r2, #23
 1049 0810 5A70     		strb	r2, [r3, #1]
 293:openstack/04-TRAN/opentcp.c ****             memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 1050              		.loc 1 293 0
 1051 0812 BB68     		ldr	r3, [r7, #8]
 1052 0814 03F11503 		add	r3, r3, #21
 1053 0818 40F20002 		movw	r2, #:lower16:tcp_vars
 1054 081c C0F20002 		movt	r2, #:upper16:tcp_vars
 1055 0820 02F11202 		add	r2, r2, #18
 1056 0824 1568     		ldr	r5, [r2, #0]	@ unaligned
 1057 0826 5468     		ldr	r4, [r2, #4]	@ unaligned
 1058 0828 9068     		ldr	r0, [r2, #8]	@ unaligned
 1059 082a D168     		ldr	r1, [r2, #12]	@ unaligned
 1060 082c 1D60     		str	r5, [r3, #0]	@ unaligned
 1061 082e 5C60     		str	r4, [r3, #4]	@ unaligned
 1062 0830 9860     		str	r0, [r3, #8]	@ unaligned
 1063 0832 D960     		str	r1, [r3, #12]	@ unaligned
 1064 0834 127C     		ldrb	r2, [r2, #16]
 1065 0836 1A74     		strb	r2, [r3, #16]
 294:openstack/04-TRAN/opentcp.c ****             prependTCPHeader(tempPkt,
 1066              		.loc 1 294 0
 1067 0838 4FF00003 		mov	r3, #0
 1068 083c 0093     		str	r3, [sp, #0]
 1069 083e 4FF00003 		mov	r3, #0
 1070 0842 0193     		str	r3, [sp, #4]
 1071 0844 B868     		ldr	r0, [r7, #8]
 1072 0846 4FF00101 		mov	r1, #1
 1073 084a 4FF00002 		mov	r2, #0
 1074 084e 4FF00003 		mov	r3, #0
 1075 0852 FFF7FEFF 		bl	prependTCPHeader
 295:openstack/04-TRAN/opentcp.c ****                   TCP_ACK_YES,
 296:openstack/04-TRAN/opentcp.c ****                   TCP_PSH_NO,
 297:openstack/04-TRAN/opentcp.c ****                   TCP_RST_NO,
 298:openstack/04-TRAN/opentcp.c ****                   TCP_SYN_NO,
 299:openstack/04-TRAN/opentcp.c ****                   TCP_FIN_NO);
 300:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_ALMOST_ESTABLISHED);
 1076              		.loc 1 300 0
 1077 0856 4FF00500 		mov	r0, #5
 1078 085a FFF7FEFF 		bl	tcp_change_state
 301:openstack/04-TRAN/opentcp.c ****             forwarding_send(tempPkt);
 1079              		.loc 1 301 0
 1080 085e B868     		ldr	r0, [r7, #8]
 1081 0860 FFF7FEFF 		bl	forwarding_send
 1082 0864 84E0     		b	.L57
 1083              	.L91:
 1084 0866 00BF     		.align	2
 1085              	.L90:
 1086 0868 12000000 		.word	tcp_vars+18
 1087              	.L55:
 302:openstack/04-TRAN/opentcp.c ****          } else if (containsControlBits(msg,TCP_ACK_NO,TCP_RST_NO,TCP_SYN_YES,TCP_FIN_NO)) {
 1088              		.loc 1 302 0
 1089 086c 4FF00003 		mov	r3, #0
 1090 0870 0093     		str	r3, [sp, #0]
 1091 0872 7868     		ldr	r0, [r7, #4]
 1092 0874 4FF00001 		mov	r1, #0
 1093 0878 4FF00002 		mov	r2, #0
 1094 087c 4FF00103 		mov	r3, #1
 1095 0880 FFF7FEFF 		bl	containsControlBits
 1096 0884 0346     		mov	r3, r0
 1097 0886 002B     		cmp	r3, #0
 1098 0888 62D0     		beq	.L58
 303:openstack/04-TRAN/opentcp.c ****             //I receive SYN, I send SYN+ACK
 304:openstack/04-TRAN/opentcp.c ****             tcp_vars.hisNextSeqNum = (packetfunctions_ntohl((uint8_t*)&(((tcp_ht*)msg->payload)->se
 1099              		.loc 1 304 0
 1100 088a 7B68     		ldr	r3, [r7, #4]
 1101 088c 5B68     		ldr	r3, [r3, #4]
 1102 088e 03F10403 		add	r3, r3, #4
 1103 0892 1846     		mov	r0, r3
 1104 0894 FFF7FEFF 		bl	packetfunctions_ntohl
 1105 0898 0346     		mov	r3, r0
 1106 089a 03F10102 		add	r2, r3, #1
 1107 089e 40F20003 		movw	r3, #:lower16:tcp_vars
 1108 08a2 C0F20003 		movt	r3, #:upper16:tcp_vars
 1109 08a6 DA60     		str	r2, [r3, #12]
 305:openstack/04-TRAN/opentcp.c ****             tempPkt       = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 1110              		.loc 1 305 0
 1111 08a8 4FF01700 		mov	r0, #23
 1112 08ac FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 1113 08b0 B860     		str	r0, [r7, #8]
 306:openstack/04-TRAN/opentcp.c ****             if (tempPkt==NULL) {
 1114              		.loc 1 306 0
 1115 08b2 BB68     		ldr	r3, [r7, #8]
 1116 08b4 002B     		cmp	r3, #0
 1117 08b6 0DD1     		bne	.L59
 307:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 1118              		.loc 1 307 0
 1119 08b8 4FF01700 		mov	r0, #23
 1120 08bc 4FF02C01 		mov	r1, #44
 1121 08c0 4FF00002 		mov	r2, #0
 1122 08c4 4FF00003 		mov	r3, #0
 1123 08c8 FFF7FEFF 		bl	openserial_printError
 308:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0,
 309:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0);
 310:openstack/04-TRAN/opentcp.c ****                openqueue_freePacketBuffer(msg);
 1124              		.loc 1 310 0
 1125 08cc 7868     		ldr	r0, [r7, #4]
 1126 08ce FFF7FEFF 		bl	openqueue_freePacketBuffer
 311:openstack/04-TRAN/opentcp.c ****                return;
 1127              		.loc 1 311 0
 1128 08d2 E6E3     		b	.L33
 1129              	.L59:
 312:openstack/04-TRAN/opentcp.c ****             }
 313:openstack/04-TRAN/opentcp.c ****             tempPkt->creator       = COMPONENT_OPENTCP;
 1130              		.loc 1 313 0
 1131 08d4 BB68     		ldr	r3, [r7, #8]
 1132 08d6 4FF01702 		mov	r2, #23
 1133 08da 1A70     		strb	r2, [r3, #0]
 314:openstack/04-TRAN/opentcp.c ****             tempPkt->owner         = COMPONENT_OPENTCP;
 1134              		.loc 1 314 0
 1135 08dc BB68     		ldr	r3, [r7, #8]
 1136 08de 4FF01702 		mov	r2, #23
 1137 08e2 5A70     		strb	r2, [r3, #1]
 315:openstack/04-TRAN/opentcp.c ****             memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 1138              		.loc 1 315 0
 1139 08e4 BB68     		ldr	r3, [r7, #8]
 1140 08e6 03F11503 		add	r3, r3, #21
 1141 08ea 40F20002 		movw	r2, #:lower16:tcp_vars
 1142 08ee C0F20002 		movt	r2, #:upper16:tcp_vars
 1143 08f2 02F11202 		add	r2, r2, #18
 1144 08f6 1568     		ldr	r5, [r2, #0]	@ unaligned
 1145 08f8 5468     		ldr	r4, [r2, #4]	@ unaligned
 1146 08fa 9068     		ldr	r0, [r2, #8]	@ unaligned
 1147 08fc D168     		ldr	r1, [r2, #12]	@ unaligned
 1148 08fe 1D60     		str	r5, [r3, #0]	@ unaligned
 1149 0900 5C60     		str	r4, [r3, #4]	@ unaligned
 1150 0902 9860     		str	r0, [r3, #8]	@ unaligned
 1151 0904 D960     		str	r1, [r3, #12]	@ unaligned
 1152 0906 127C     		ldrb	r2, [r2, #16]
 1153 0908 1A74     		strb	r2, [r3, #16]
 316:openstack/04-TRAN/opentcp.c ****             prependTCPHeader(tempPkt,
 1154              		.loc 1 316 0
 1155 090a 4FF00103 		mov	r3, #1
 1156 090e 0093     		str	r3, [sp, #0]
 1157 0910 4FF00003 		mov	r3, #0
 1158 0914 0193     		str	r3, [sp, #4]
 1159 0916 B868     		ldr	r0, [r7, #8]
 1160 0918 4FF00101 		mov	r1, #1
 1161 091c 4FF00002 		mov	r2, #0
 1162 0920 4FF00003 		mov	r3, #0
 1163 0924 FFF7FEFF 		bl	prependTCPHeader
 317:openstack/04-TRAN/opentcp.c ****                   TCP_ACK_YES,
 318:openstack/04-TRAN/opentcp.c ****                   TCP_PSH_NO,
 319:openstack/04-TRAN/opentcp.c ****                   TCP_RST_NO,
 320:openstack/04-TRAN/opentcp.c ****                   TCP_SYN_YES,
 321:openstack/04-TRAN/opentcp.c ****                   TCP_FIN_NO);
 322:openstack/04-TRAN/opentcp.c ****             tcp_vars.mySeqNum++;
 1164              		.loc 1 322 0
 1165 0928 40F20003 		movw	r3, #:lower16:tcp_vars
 1166 092c C0F20003 		movt	r3, #:upper16:tcp_vars
 1167 0930 5B68     		ldr	r3, [r3, #4]
 1168 0932 03F10102 		add	r2, r3, #1
 1169 0936 40F20003 		movw	r3, #:lower16:tcp_vars
 1170 093a C0F20003 		movt	r3, #:upper16:tcp_vars
 1171 093e 5A60     		str	r2, [r3, #4]
 323:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_ALMOST_SYN_RECEIVED);
 1172              		.loc 1 323 0
 1173 0940 4FF00100 		mov	r0, #1
 1174 0944 FFF7FEFF 		bl	tcp_change_state
 324:openstack/04-TRAN/opentcp.c ****             forwarding_send(tempPkt);
 1175              		.loc 1 324 0
 1176 0948 B868     		ldr	r0, [r7, #8]
 1177 094a FFF7FEFF 		bl	forwarding_send
 1178 094e 0FE0     		b	.L57
 1179              	.L58:
 325:openstack/04-TRAN/opentcp.c ****          } else {
 326:openstack/04-TRAN/opentcp.c ****             opentcp_reset();
 1180              		.loc 1 326 0
 1181 0950 FFF7FEFF 		bl	opentcp_reset
 327:openstack/04-TRAN/opentcp.c ****             openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 328:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)tcp_vars.state,
 1182              		.loc 1 328 0
 1183 0954 40F20003 		movw	r3, #:lower16:tcp_vars
 1184 0958 C0F20003 		movt	r3, #:upper16:tcp_vars
 1185 095c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 327:openstack/04-TRAN/opentcp.c ****             openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 1186              		.loc 1 327 0
 1187 095e 4FF01700 		mov	r0, #23
 1188 0962 4FF00801 		mov	r1, #8
 1189 0966 1A46     		mov	r2, r3
 1190 0968 4FF00103 		mov	r3, #1
 1191 096c FFF7FEFF 		bl	openserial_printError
 1192              	.L57:
 329:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)1);
 330:openstack/04-TRAN/opentcp.c ****          }
 331:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 1193              		.loc 1 331 0
 1194 0970 7868     		ldr	r0, [r7, #4]
 1195 0972 FFF7FEFF 		bl	openqueue_freePacketBuffer
 332:openstack/04-TRAN/opentcp.c ****          break;
 1196              		.loc 1 332 0
 1197 0976 94E3     		b	.L33
 1198              	.L40:
 333:openstack/04-TRAN/opentcp.c **** 
 334:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_SYN_RECEIVED:                                //[receive] establishement
 335:openstack/04-TRAN/opentcp.c ****          if (containsControlBits(msg,TCP_ACK_YES,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_NO)) {
 1199              		.loc 1 335 0
 1200 0978 4FF00003 		mov	r3, #0
 1201 097c 0093     		str	r3, [sp, #0]
 1202 097e 7868     		ldr	r0, [r7, #4]
 1203 0980 4FF00101 		mov	r1, #1
 1204 0984 4FF00002 		mov	r2, #0
 1205 0988 4FF00003 		mov	r3, #0
 1206 098c FFF7FEFF 		bl	containsControlBits
 1207 0990 0346     		mov	r3, r0
 1208 0992 002B     		cmp	r3, #0
 1209 0994 04D0     		beq	.L60
 336:openstack/04-TRAN/opentcp.c ****             //I receive ACK, the virtual circuit is established
 337:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_ESTABLISHED);
 1210              		.loc 1 337 0
 1211 0996 4FF00600 		mov	r0, #6
 1212 099a FFF7FEFF 		bl	tcp_change_state
 1213 099e 0FE0     		b	.L61
 1214              	.L60:
 338:openstack/04-TRAN/opentcp.c ****          } else {
 339:openstack/04-TRAN/opentcp.c ****             opentcp_reset();
 1215              		.loc 1 339 0
 1216 09a0 FFF7FEFF 		bl	opentcp_reset
 340:openstack/04-TRAN/opentcp.c ****             openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 341:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)tcp_vars.state,
 1217              		.loc 1 341 0
 1218 09a4 40F20003 		movw	r3, #:lower16:tcp_vars
 1219 09a8 C0F20003 		movt	r3, #:upper16:tcp_vars
 1220 09ac 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 340:openstack/04-TRAN/opentcp.c ****             openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 1221              		.loc 1 340 0
 1222 09ae 4FF01700 		mov	r0, #23
 1223 09b2 4FF00801 		mov	r1, #8
 1224 09b6 1A46     		mov	r2, r3
 1225 09b8 4FF00203 		mov	r3, #2
 1226 09bc FFF7FEFF 		bl	openserial_printError
 1227              	.L61:
 342:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)2);
 343:openstack/04-TRAN/opentcp.c ****          }
 344:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 1228              		.loc 1 344 0
 1229 09c0 7868     		ldr	r0, [r7, #4]
 1230 09c2 FFF7FEFF 		bl	openqueue_freePacketBuffer
 345:openstack/04-TRAN/opentcp.c ****          break;
 1231              		.loc 1 345 0
 1232 09c6 6CE3     		b	.L33
 1233              	.L42:
 346:openstack/04-TRAN/opentcp.c **** 
 347:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_ESTABLISHED:                                 //[receive] data/teardown
 348:openstack/04-TRAN/opentcp.c ****          if (containsControlBits(msg,TCP_ACK_WHATEVER,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_YES)) {
 1234              		.loc 1 348 0
 1235 09c8 4FF00103 		mov	r3, #1
 1236 09cc 0093     		str	r3, [sp, #0]
 1237 09ce 7868     		ldr	r0, [r7, #4]
 1238 09d0 4FF00201 		mov	r1, #2
 1239 09d4 4FF00002 		mov	r2, #0
 1240 09d8 4FF00003 		mov	r3, #0
 1241 09dc FFF7FEFF 		bl	containsControlBits
 1242 09e0 0346     		mov	r3, r0
 1243 09e2 002B     		cmp	r3, #0
 1244 09e4 59D0     		beq	.L62
 349:openstack/04-TRAN/opentcp.c ****             //I receive FIN[+ACK], I send ACK
 350:openstack/04-TRAN/opentcp.c ****             tcp_vars.hisNextSeqNum = (packetfunctions_ntohl((uint8_t*)&(((tcp_ht*)msg->payload)->se
 1245              		.loc 1 350 0
 1246 09e6 7B68     		ldr	r3, [r7, #4]
 1247 09e8 5B68     		ldr	r3, [r3, #4]
 1248 09ea 03F10403 		add	r3, r3, #4
 1249 09ee 1846     		mov	r0, r3
 1250 09f0 FFF7FEFF 		bl	packetfunctions_ntohl
 1251 09f4 0246     		mov	r2, r0
 1252 09f6 7B68     		ldr	r3, [r7, #4]
 1253 09f8 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1254 09fa D318     		adds	r3, r2, r3
 1255 09fc A3F11302 		sub	r2, r3, #19
 1256 0a00 40F20003 		movw	r3, #:lower16:tcp_vars
 1257 0a04 C0F20003 		movt	r3, #:upper16:tcp_vars
 1258 0a08 DA60     		str	r2, [r3, #12]
 351:openstack/04-TRAN/opentcp.c ****             tempPkt = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 1259              		.loc 1 351 0
 1260 0a0a 4FF01700 		mov	r0, #23
 1261 0a0e FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 1262 0a12 B860     		str	r0, [r7, #8]
 352:openstack/04-TRAN/opentcp.c ****             if (tempPkt==NULL) {
 1263              		.loc 1 352 0
 1264 0a14 BB68     		ldr	r3, [r7, #8]
 1265 0a16 002B     		cmp	r3, #0
 1266 0a18 0DD1     		bne	.L63
 353:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 1267              		.loc 1 353 0
 1268 0a1a 4FF01700 		mov	r0, #23
 1269 0a1e 4FF02C01 		mov	r1, #44
 1270 0a22 4FF00002 		mov	r2, #0
 1271 0a26 4FF00003 		mov	r3, #0
 1272 0a2a FFF7FEFF 		bl	openserial_printError
 354:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0,
 355:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0);
 356:openstack/04-TRAN/opentcp.c ****                openqueue_freePacketBuffer(msg);
 1273              		.loc 1 356 0
 1274 0a2e 7868     		ldr	r0, [r7, #4]
 1275 0a30 FFF7FEFF 		bl	openqueue_freePacketBuffer
 357:openstack/04-TRAN/opentcp.c ****                return;
 1276              		.loc 1 357 0
 1277 0a34 35E3     		b	.L33
 1278              	.L63:
 358:openstack/04-TRAN/opentcp.c ****             }
 359:openstack/04-TRAN/opentcp.c ****             tempPkt->creator       = COMPONENT_OPENTCP;
 1279              		.loc 1 359 0
 1280 0a36 BB68     		ldr	r3, [r7, #8]
 1281 0a38 4FF01702 		mov	r2, #23
 1282 0a3c 1A70     		strb	r2, [r3, #0]
 360:openstack/04-TRAN/opentcp.c ****             tempPkt->owner         = COMPONENT_OPENTCP;
 1283              		.loc 1 360 0
 1284 0a3e BB68     		ldr	r3, [r7, #8]
 1285 0a40 4FF01702 		mov	r2, #23
 1286 0a44 5A70     		strb	r2, [r3, #1]
 361:openstack/04-TRAN/opentcp.c ****             memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 1287              		.loc 1 361 0
 1288 0a46 BB68     		ldr	r3, [r7, #8]
 1289 0a48 03F11503 		add	r3, r3, #21
 1290 0a4c 40F20002 		movw	r2, #:lower16:tcp_vars
 1291 0a50 C0F20002 		movt	r2, #:upper16:tcp_vars
 1292 0a54 02F11202 		add	r2, r2, #18
 1293 0a58 1568     		ldr	r5, [r2, #0]	@ unaligned
 1294 0a5a 5468     		ldr	r4, [r2, #4]	@ unaligned
 1295 0a5c 9068     		ldr	r0, [r2, #8]	@ unaligned
 1296 0a5e D168     		ldr	r1, [r2, #12]	@ unaligned
 1297 0a60 1D60     		str	r5, [r3, #0]	@ unaligned
 1298 0a62 5C60     		str	r4, [r3, #4]	@ unaligned
 1299 0a64 9860     		str	r0, [r3, #8]	@ unaligned
 1300 0a66 D960     		str	r1, [r3, #12]	@ unaligned
 1301 0a68 127C     		ldrb	r2, [r2, #16]
 1302 0a6a 1A74     		strb	r2, [r3, #16]
 362:openstack/04-TRAN/opentcp.c ****             prependTCPHeader(tempPkt,
 1303              		.loc 1 362 0
 1304 0a6c 4FF00003 		mov	r3, #0
 1305 0a70 0093     		str	r3, [sp, #0]
 1306 0a72 4FF00003 		mov	r3, #0
 1307 0a76 0193     		str	r3, [sp, #4]
 1308 0a78 B868     		ldr	r0, [r7, #8]
 1309 0a7a 4FF00101 		mov	r1, #1
 1310 0a7e 4FF00002 		mov	r2, #0
 1311 0a82 4FF00003 		mov	r3, #0
 1312 0a86 FFF7FEFF 		bl	prependTCPHeader
 363:openstack/04-TRAN/opentcp.c ****                   TCP_ACK_YES,
 364:openstack/04-TRAN/opentcp.c ****                   TCP_PSH_NO,
 365:openstack/04-TRAN/opentcp.c ****                   TCP_RST_NO,
 366:openstack/04-TRAN/opentcp.c ****                   TCP_SYN_NO,
 367:openstack/04-TRAN/opentcp.c ****                   TCP_FIN_NO);
 368:openstack/04-TRAN/opentcp.c ****             forwarding_send(tempPkt);
 1313              		.loc 1 368 0
 1314 0a8a B868     		ldr	r0, [r7, #8]
 1315 0a8c FFF7FEFF 		bl	forwarding_send
 369:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_ALMOST_CLOSE_WAIT);
 1316              		.loc 1 369 0
 1317 0a90 4FF01100 		mov	r0, #17
 1318 0a94 FFF7FEFF 		bl	tcp_change_state
 370:openstack/04-TRAN/opentcp.c ****          } else if (containsControlBits(msg,TCP_ACK_WHATEVER,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_NO)) {
 371:openstack/04-TRAN/opentcp.c ****             //I receive data, I send ACK
 372:openstack/04-TRAN/opentcp.c ****             tcp_vars.hisNextSeqNum = (packetfunctions_ntohl((uint8_t*)&(((tcp_ht*)msg->payload)->se
 373:openstack/04-TRAN/opentcp.c ****             tempPkt = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 374:openstack/04-TRAN/opentcp.c ****             if (tempPkt==NULL) {
 375:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 376:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0,
 377:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0);
 378:openstack/04-TRAN/opentcp.c ****                openqueue_freePacketBuffer(msg);
 379:openstack/04-TRAN/opentcp.c ****                return;
 380:openstack/04-TRAN/opentcp.c ****             }
 381:openstack/04-TRAN/opentcp.c ****             tempPkt->creator       = COMPONENT_OPENTCP;
 382:openstack/04-TRAN/opentcp.c ****             tempPkt->owner         = COMPONENT_OPENTCP;
 383:openstack/04-TRAN/opentcp.c ****             memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 384:openstack/04-TRAN/opentcp.c ****             prependTCPHeader(tempPkt,
 385:openstack/04-TRAN/opentcp.c ****                   TCP_ACK_YES,
 386:openstack/04-TRAN/opentcp.c ****                   TCP_PSH_NO,
 387:openstack/04-TRAN/opentcp.c ****                   TCP_RST_NO,
 388:openstack/04-TRAN/opentcp.c ****                   TCP_SYN_NO,
 389:openstack/04-TRAN/opentcp.c ****                   TCP_FIN_NO);
 390:openstack/04-TRAN/opentcp.c ****             forwarding_send(tempPkt);
 391:openstack/04-TRAN/opentcp.c ****             packetfunctions_tossHeader(msg,sizeof(tcp_ht));
 392:openstack/04-TRAN/opentcp.c ****             tcp_vars.dataReceived = msg;
 393:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_ALMOST_DATA_RECEIVED);
 394:openstack/04-TRAN/opentcp.c ****          } else {
 395:openstack/04-TRAN/opentcp.c ****             opentcp_reset();
 396:openstack/04-TRAN/opentcp.c ****             openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 397:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)tcp_vars.state,
 398:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)3);
 399:openstack/04-TRAN/opentcp.c ****             openqueue_freePacketBuffer(msg);
 400:openstack/04-TRAN/opentcp.c ****          }
 401:openstack/04-TRAN/opentcp.c ****          break;
 1319              		.loc 1 401 0
 1320 0a98 03E3     		b	.L33
 1321              	.L62:
 370:openstack/04-TRAN/opentcp.c ****          } else if (containsControlBits(msg,TCP_ACK_WHATEVER,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_NO)) {
 1322              		.loc 1 370 0
 1323 0a9a 4FF00003 		mov	r3, #0
 1324 0a9e 0093     		str	r3, [sp, #0]
 1325 0aa0 7868     		ldr	r0, [r7, #4]
 1326 0aa2 4FF00201 		mov	r1, #2
 1327 0aa6 4FF00002 		mov	r2, #0
 1328 0aaa 4FF00003 		mov	r3, #0
 1329 0aae FFF7FEFF 		bl	containsControlBits
 1330 0ab2 0346     		mov	r3, r0
 1331 0ab4 002B     		cmp	r3, #0
 1332 0ab6 64D0     		beq	.L65
 372:openstack/04-TRAN/opentcp.c ****             tcp_vars.hisNextSeqNum = (packetfunctions_ntohl((uint8_t*)&(((tcp_ht*)msg->payload)->se
 1333              		.loc 1 372 0
 1334 0ab8 7B68     		ldr	r3, [r7, #4]
 1335 0aba 5B68     		ldr	r3, [r3, #4]
 1336 0abc 03F10403 		add	r3, r3, #4
 1337 0ac0 1846     		mov	r0, r3
 1338 0ac2 FFF7FEFF 		bl	packetfunctions_ntohl
 1339 0ac6 0246     		mov	r2, r0
 1340 0ac8 7B68     		ldr	r3, [r7, #4]
 1341 0aca 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1342 0acc D318     		adds	r3, r2, r3
 1343 0ace A3F11402 		sub	r2, r3, #20
 1344 0ad2 40F20003 		movw	r3, #:lower16:tcp_vars
 1345 0ad6 C0F20003 		movt	r3, #:upper16:tcp_vars
 1346 0ada DA60     		str	r2, [r3, #12]
 373:openstack/04-TRAN/opentcp.c ****             tempPkt = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 1347              		.loc 1 373 0
 1348 0adc 4FF01700 		mov	r0, #23
 1349 0ae0 FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 1350 0ae4 B860     		str	r0, [r7, #8]
 374:openstack/04-TRAN/opentcp.c ****             if (tempPkt==NULL) {
 1351              		.loc 1 374 0
 1352 0ae6 BB68     		ldr	r3, [r7, #8]
 1353 0ae8 002B     		cmp	r3, #0
 1354 0aea 0DD1     		bne	.L66
 375:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 1355              		.loc 1 375 0
 1356 0aec 4FF01700 		mov	r0, #23
 1357 0af0 4FF02C01 		mov	r1, #44
 1358 0af4 4FF00002 		mov	r2, #0
 1359 0af8 4FF00003 		mov	r3, #0
 1360 0afc FFF7FEFF 		bl	openserial_printError
 378:openstack/04-TRAN/opentcp.c ****                openqueue_freePacketBuffer(msg);
 1361              		.loc 1 378 0
 1362 0b00 7868     		ldr	r0, [r7, #4]
 1363 0b02 FFF7FEFF 		bl	openqueue_freePacketBuffer
 379:openstack/04-TRAN/opentcp.c ****                return;
 1364              		.loc 1 379 0
 1365 0b06 CCE2     		b	.L33
 1366              	.L66:
 381:openstack/04-TRAN/opentcp.c ****             tempPkt->creator       = COMPONENT_OPENTCP;
 1367              		.loc 1 381 0
 1368 0b08 BB68     		ldr	r3, [r7, #8]
 1369 0b0a 4FF01702 		mov	r2, #23
 1370 0b0e 1A70     		strb	r2, [r3, #0]
 382:openstack/04-TRAN/opentcp.c ****             tempPkt->owner         = COMPONENT_OPENTCP;
 1371              		.loc 1 382 0
 1372 0b10 BB68     		ldr	r3, [r7, #8]
 1373 0b12 4FF01702 		mov	r2, #23
 1374 0b16 5A70     		strb	r2, [r3, #1]
 383:openstack/04-TRAN/opentcp.c ****             memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 1375              		.loc 1 383 0
 1376 0b18 BB68     		ldr	r3, [r7, #8]
 1377 0b1a 03F11503 		add	r3, r3, #21
 1378 0b1e 40F20002 		movw	r2, #:lower16:tcp_vars
 1379 0b22 C0F20002 		movt	r2, #:upper16:tcp_vars
 1380 0b26 02F11202 		add	r2, r2, #18
 1381 0b2a 1568     		ldr	r5, [r2, #0]	@ unaligned
 1382 0b2c 5468     		ldr	r4, [r2, #4]	@ unaligned
 1383 0b2e 9068     		ldr	r0, [r2, #8]	@ unaligned
 1384 0b30 D168     		ldr	r1, [r2, #12]	@ unaligned
 1385 0b32 1D60     		str	r5, [r3, #0]	@ unaligned
 1386 0b34 5C60     		str	r4, [r3, #4]	@ unaligned
 1387 0b36 9860     		str	r0, [r3, #8]	@ unaligned
 1388 0b38 D960     		str	r1, [r3, #12]	@ unaligned
 1389 0b3a 127C     		ldrb	r2, [r2, #16]
 1390 0b3c 1A74     		strb	r2, [r3, #16]
 384:openstack/04-TRAN/opentcp.c ****             prependTCPHeader(tempPkt,
 1391              		.loc 1 384 0
 1392 0b3e 4FF00003 		mov	r3, #0
 1393 0b42 0093     		str	r3, [sp, #0]
 1394 0b44 4FF00003 		mov	r3, #0
 1395 0b48 0193     		str	r3, [sp, #4]
 1396 0b4a B868     		ldr	r0, [r7, #8]
 1397 0b4c 4FF00101 		mov	r1, #1
 1398 0b50 4FF00002 		mov	r2, #0
 1399 0b54 4FF00003 		mov	r3, #0
 1400 0b58 FFF7FEFF 		bl	prependTCPHeader
 390:openstack/04-TRAN/opentcp.c ****             forwarding_send(tempPkt);
 1401              		.loc 1 390 0
 1402 0b5c B868     		ldr	r0, [r7, #8]
 1403 0b5e FFF7FEFF 		bl	forwarding_send
 391:openstack/04-TRAN/opentcp.c ****             packetfunctions_tossHeader(msg,sizeof(tcp_ht));
 1404              		.loc 1 391 0
 1405 0b62 7868     		ldr	r0, [r7, #4]
 1406 0b64 4FF01401 		mov	r1, #20
 1407 0b68 FFF7FEFF 		bl	packetfunctions_tossHeader
 392:openstack/04-TRAN/opentcp.c ****             tcp_vars.dataReceived = msg;
 1408              		.loc 1 392 0
 1409 0b6c 40F20003 		movw	r3, #:lower16:tcp_vars
 1410 0b70 C0F20003 		movt	r3, #:upper16:tcp_vars
 1411 0b74 7A68     		ldr	r2, [r7, #4]
 1412 0b76 9A62     		str	r2, [r3, #40]
 393:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_ALMOST_DATA_RECEIVED);
 1413              		.loc 1 393 0
 1414 0b78 4FF00900 		mov	r0, #9
 1415 0b7c FFF7FEFF 		bl	tcp_change_state
 1416              		.loc 1 401 0
 1417 0b80 8FE2     		b	.L33
 1418              	.L65:
 395:openstack/04-TRAN/opentcp.c ****             opentcp_reset();
 1419              		.loc 1 395 0
 1420 0b82 FFF7FEFF 		bl	opentcp_reset
 397:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)tcp_vars.state,
 1421              		.loc 1 397 0
 1422 0b86 40F20003 		movw	r3, #:lower16:tcp_vars
 1423 0b8a C0F20003 		movt	r3, #:upper16:tcp_vars
 1424 0b8e 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 396:openstack/04-TRAN/opentcp.c ****             openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 1425              		.loc 1 396 0
 1426 0b90 4FF01700 		mov	r0, #23
 1427 0b94 4FF00801 		mov	r1, #8
 1428 0b98 1A46     		mov	r2, r3
 1429 0b9a 4FF00303 		mov	r3, #3
 1430 0b9e FFF7FEFF 		bl	openserial_printError
 399:openstack/04-TRAN/opentcp.c ****             openqueue_freePacketBuffer(msg);
 1431              		.loc 1 399 0
 1432 0ba2 7868     		ldr	r0, [r7, #4]
 1433 0ba4 FFF7FEFF 		bl	openqueue_freePacketBuffer
 1434              		.loc 1 401 0
 1435 0ba8 7BE2     		b	.L33
 1436              	.L43:
 402:openstack/04-TRAN/opentcp.c **** 
 403:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_DATA_SENT:                                   //[receive] data
 404:openstack/04-TRAN/opentcp.c ****          if (containsControlBits(msg,TCP_ACK_YES,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_NO)) {
 1437              		.loc 1 404 0
 1438 0baa 4FF00003 		mov	r3, #0
 1439 0bae 0093     		str	r3, [sp, #0]
 1440 0bb0 7868     		ldr	r0, [r7, #4]
 1441 0bb2 4FF00101 		mov	r1, #1
 1442 0bb6 4FF00002 		mov	r2, #0
 1443 0bba 4FF00003 		mov	r3, #0
 1444 0bbe FFF7FEFF 		bl	containsControlBits
 1445 0bc2 0346     		mov	r3, r0
 1446 0bc4 002B     		cmp	r3, #0
 1447 0bc6 2CD0     		beq	.L67
 405:openstack/04-TRAN/opentcp.c ****             //I receive ACK, data message sent
 406:openstack/04-TRAN/opentcp.c ****             switch(tcp_vars.myPort) {
 1448              		.loc 1 406 0
 1449 0bc8 40F20003 		movw	r3, #:lower16:tcp_vars
 1450 0bcc C0F20003 		movt	r3, #:upper16:tcp_vars
 1451 0bd0 1B89     		ldrh	r3, [r3, #8]
 1452 0bd2 072B     		cmp	r3, #7
 1453 0bd4 0AD1     		bne	.L88
 1454              	.L69:
 407:openstack/04-TRAN/opentcp.c ****                case WKP_TCP_ECHO:
 408:openstack/04-TRAN/opentcp.c ****                   techo_sendDone(tcp_vars.dataToSend,E_SUCCESS);
 1455              		.loc 1 408 0
 1456 0bd6 40F20003 		movw	r3, #:lower16:tcp_vars
 1457 0bda C0F20003 		movt	r3, #:upper16:tcp_vars
 1458 0bde 5B6A     		ldr	r3, [r3, #36]
 1459 0be0 1846     		mov	r0, r3
 1460 0be2 4FF00001 		mov	r1, #0
 1461 0be6 FFF7FEFF 		bl	techo_sendDone
 409:openstack/04-TRAN/opentcp.c ****                   break;
 1462              		.loc 1 409 0
 1463 0bea 0EE0     		b	.L70
 1464              	.L88:
 410:openstack/04-TRAN/opentcp.c ****                default:
 411:openstack/04-TRAN/opentcp.c ****                   openserial_printError(COMPONENT_OPENTCP,ERR_UNSUPPORTED_PORT_NUMBER,
 1465              		.loc 1 411 0
 1466 0bec 40F20003 		movw	r3, #:lower16:tcp_vars
 1467 0bf0 C0F20003 		movt	r3, #:upper16:tcp_vars
 1468 0bf4 1B89     		ldrh	r3, [r3, #8]
 1469 0bf6 4FF01700 		mov	r0, #23
 1470 0bfa 4FF00901 		mov	r1, #9
 1471 0bfe 1A46     		mov	r2, r3
 1472 0c00 4FF00303 		mov	r3, #3
 1473 0c04 FFF7FEFF 		bl	openserial_printError
 412:openstack/04-TRAN/opentcp.c ****                                         (errorparameter_t)tcp_vars.myPort,
 413:openstack/04-TRAN/opentcp.c ****                                         (errorparameter_t)3);
 414:openstack/04-TRAN/opentcp.c ****                   break;
 1474              		.loc 1 414 0
 1475 0c08 00BF     		nop
 1476              	.L70:
 415:openstack/04-TRAN/opentcp.c ****             }
 416:openstack/04-TRAN/opentcp.c ****             tcp_vars.dataToSend = NULL;
 1477              		.loc 1 416 0
 1478 0c0a 40F20003 		movw	r3, #:lower16:tcp_vars
 1479 0c0e C0F20003 		movt	r3, #:upper16:tcp_vars
 1480 0c12 4FF00002 		mov	r2, #0
 1481 0c16 5A62     		str	r2, [r3, #36]
 417:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_ESTABLISHED);
 1482              		.loc 1 417 0
 1483 0c18 4FF00600 		mov	r0, #6
 1484 0c1c FFF7FEFF 		bl	tcp_change_state
 1485 0c20 A1E0     		b	.L71
 1486              	.L67:
 418:openstack/04-TRAN/opentcp.c ****          } else if (containsControlBits(msg,TCP_ACK_WHATEVER,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_YES)) {
 1487              		.loc 1 418 0
 1488 0c22 4FF00103 		mov	r3, #1
 1489 0c26 0093     		str	r3, [sp, #0]
 1490 0c28 7868     		ldr	r0, [r7, #4]
 1491 0c2a 4FF00201 		mov	r1, #2
 1492 0c2e 4FF00002 		mov	r2, #0
 1493 0c32 4FF00003 		mov	r3, #0
 1494 0c36 FFF7FEFF 		bl	containsControlBits
 1495 0c3a 0346     		mov	r3, r0
 1496 0c3c 002B     		cmp	r3, #0
 1497 0c3e 00F08280 		beq	.L72
 419:openstack/04-TRAN/opentcp.c ****             //I receive FIN[+ACK], I send ACK
 420:openstack/04-TRAN/opentcp.c ****             switch(tcp_vars.myPort) {
 1498              		.loc 1 420 0
 1499 0c42 40F20003 		movw	r3, #:lower16:tcp_vars
 1500 0c46 C0F20003 		movt	r3, #:upper16:tcp_vars
 1501 0c4a 1B89     		ldrh	r3, [r3, #8]
 1502 0c4c 072B     		cmp	r3, #7
 1503 0c4e 0AD1     		bne	.L89
 1504              	.L74:
 421:openstack/04-TRAN/opentcp.c ****                case WKP_TCP_ECHO:
 422:openstack/04-TRAN/opentcp.c ****                   techo_sendDone(tcp_vars.dataToSend,E_SUCCESS);
 1505              		.loc 1 422 0
 1506 0c50 40F20003 		movw	r3, #:lower16:tcp_vars
 1507 0c54 C0F20003 		movt	r3, #:upper16:tcp_vars
 1508 0c58 5B6A     		ldr	r3, [r3, #36]
 1509 0c5a 1846     		mov	r0, r3
 1510 0c5c 4FF00001 		mov	r1, #0
 1511 0c60 FFF7FEFF 		bl	techo_sendDone
 423:openstack/04-TRAN/opentcp.c ****                   break;
 1512              		.loc 1 423 0
 1513 0c64 0EE0     		b	.L75
 1514              	.L89:
 424:openstack/04-TRAN/opentcp.c ****                default:
 425:openstack/04-TRAN/opentcp.c ****                   openserial_printError(COMPONENT_OPENTCP,ERR_UNSUPPORTED_PORT_NUMBER,
 1515              		.loc 1 425 0
 1516 0c66 40F20003 		movw	r3, #:lower16:tcp_vars
 1517 0c6a C0F20003 		movt	r3, #:upper16:tcp_vars
 1518 0c6e 1B89     		ldrh	r3, [r3, #8]
 1519 0c70 4FF01700 		mov	r0, #23
 1520 0c74 4FF00901 		mov	r1, #9
 1521 0c78 1A46     		mov	r2, r3
 1522 0c7a 4FF00403 		mov	r3, #4
 1523 0c7e FFF7FEFF 		bl	openserial_printError
 426:openstack/04-TRAN/opentcp.c ****                                         (errorparameter_t)tcp_vars.myPort,
 427:openstack/04-TRAN/opentcp.c ****                                         (errorparameter_t)4);
 428:openstack/04-TRAN/opentcp.c ****                   break;
 1524              		.loc 1 428 0
 1525 0c82 00BF     		nop
 1526              	.L75:
 429:openstack/04-TRAN/opentcp.c ****             }
 430:openstack/04-TRAN/opentcp.c ****             tcp_vars.dataToSend = NULL;
 1527              		.loc 1 430 0
 1528 0c84 40F20003 		movw	r3, #:lower16:tcp_vars
 1529 0c88 C0F20003 		movt	r3, #:upper16:tcp_vars
 1530 0c8c 4FF00002 		mov	r2, #0
 1531 0c90 5A62     		str	r2, [r3, #36]
 431:openstack/04-TRAN/opentcp.c ****             tcp_vars.hisNextSeqNum = (packetfunctions_ntohl((uint8_t*)&(((tcp_ht*)msg->payload)->se
 1532              		.loc 1 431 0
 1533 0c92 7B68     		ldr	r3, [r7, #4]
 1534 0c94 5B68     		ldr	r3, [r3, #4]
 1535 0c96 03F10403 		add	r3, r3, #4
 1536 0c9a 1846     		mov	r0, r3
 1537 0c9c FFF7FEFF 		bl	packetfunctions_ntohl
 1538 0ca0 0246     		mov	r2, r0
 1539 0ca2 7B68     		ldr	r3, [r7, #4]
 1540 0ca4 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1541 0ca6 D318     		adds	r3, r2, r3
 1542 0ca8 A3F11302 		sub	r2, r3, #19
 1543 0cac 40F20003 		movw	r3, #:lower16:tcp_vars
 1544 0cb0 C0F20003 		movt	r3, #:upper16:tcp_vars
 1545 0cb4 DA60     		str	r2, [r3, #12]
 432:openstack/04-TRAN/opentcp.c ****             tempPkt = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 1546              		.loc 1 432 0
 1547 0cb6 4FF01700 		mov	r0, #23
 1548 0cba FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 1549 0cbe B860     		str	r0, [r7, #8]
 433:openstack/04-TRAN/opentcp.c ****             if (tempPkt==NULL) {
 1550              		.loc 1 433 0
 1551 0cc0 BB68     		ldr	r3, [r7, #8]
 1552 0cc2 002B     		cmp	r3, #0
 1553 0cc4 0DD1     		bne	.L76
 434:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 1554              		.loc 1 434 0
 1555 0cc6 4FF01700 		mov	r0, #23
 1556 0cca 4FF02C01 		mov	r1, #44
 1557 0cce 4FF00002 		mov	r2, #0
 1558 0cd2 4FF00003 		mov	r3, #0
 1559 0cd6 FFF7FEFF 		bl	openserial_printError
 435:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0,
 436:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0);
 437:openstack/04-TRAN/opentcp.c ****                openqueue_freePacketBuffer(msg);
 1560              		.loc 1 437 0
 1561 0cda 7868     		ldr	r0, [r7, #4]
 1562 0cdc FFF7FEFF 		bl	openqueue_freePacketBuffer
 438:openstack/04-TRAN/opentcp.c ****                return;
 1563              		.loc 1 438 0
 1564 0ce0 DFE1     		b	.L33
 1565              	.L76:
 439:openstack/04-TRAN/opentcp.c ****             }
 440:openstack/04-TRAN/opentcp.c ****             tempPkt->creator       = COMPONENT_OPENTCP;
 1566              		.loc 1 440 0
 1567 0ce2 BB68     		ldr	r3, [r7, #8]
 1568 0ce4 4FF01702 		mov	r2, #23
 1569 0ce8 1A70     		strb	r2, [r3, #0]
 441:openstack/04-TRAN/opentcp.c ****             tempPkt->owner         = COMPONENT_OPENTCP;
 1570              		.loc 1 441 0
 1571 0cea BB68     		ldr	r3, [r7, #8]
 1572 0cec 4FF01702 		mov	r2, #23
 1573 0cf0 5A70     		strb	r2, [r3, #1]
 442:openstack/04-TRAN/opentcp.c ****             memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 1574              		.loc 1 442 0
 1575 0cf2 BB68     		ldr	r3, [r7, #8]
 1576 0cf4 03F11503 		add	r3, r3, #21
 1577 0cf8 40F20002 		movw	r2, #:lower16:tcp_vars
 1578 0cfc C0F20002 		movt	r2, #:upper16:tcp_vars
 1579 0d00 02F11202 		add	r2, r2, #18
 1580 0d04 1568     		ldr	r5, [r2, #0]	@ unaligned
 1581 0d06 5468     		ldr	r4, [r2, #4]	@ unaligned
 1582 0d08 9068     		ldr	r0, [r2, #8]	@ unaligned
 1583 0d0a D168     		ldr	r1, [r2, #12]	@ unaligned
 1584 0d0c 1D60     		str	r5, [r3, #0]	@ unaligned
 1585 0d0e 5C60     		str	r4, [r3, #4]	@ unaligned
 1586 0d10 9860     		str	r0, [r3, #8]	@ unaligned
 1587 0d12 D960     		str	r1, [r3, #12]	@ unaligned
 1588 0d14 127C     		ldrb	r2, [r2, #16]
 1589 0d16 1A74     		strb	r2, [r3, #16]
 443:openstack/04-TRAN/opentcp.c ****             prependTCPHeader(tempPkt,
 1590              		.loc 1 443 0
 1591 0d18 4FF00003 		mov	r3, #0
 1592 0d1c 0093     		str	r3, [sp, #0]
 1593 0d1e 4FF00003 		mov	r3, #0
 1594 0d22 0193     		str	r3, [sp, #4]
 1595 0d24 B868     		ldr	r0, [r7, #8]
 1596 0d26 4FF00101 		mov	r1, #1
 1597 0d2a 4FF00002 		mov	r2, #0
 1598 0d2e 4FF00003 		mov	r3, #0
 1599 0d32 FFF7FEFF 		bl	prependTCPHeader
 444:openstack/04-TRAN/opentcp.c ****                   TCP_ACK_YES,
 445:openstack/04-TRAN/opentcp.c ****                   TCP_PSH_NO,
 446:openstack/04-TRAN/opentcp.c ****                   TCP_RST_NO,
 447:openstack/04-TRAN/opentcp.c ****                   TCP_SYN_NO,
 448:openstack/04-TRAN/opentcp.c ****                   TCP_FIN_NO);
 449:openstack/04-TRAN/opentcp.c ****             forwarding_send(tempPkt);
 1600              		.loc 1 449 0
 1601 0d36 B868     		ldr	r0, [r7, #8]
 1602 0d38 FFF7FEFF 		bl	forwarding_send
 450:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_ALMOST_CLOSE_WAIT);
 1603              		.loc 1 450 0
 1604 0d3c 4FF01100 		mov	r0, #17
 1605 0d40 FFF7FEFF 		bl	tcp_change_state
 1606 0d44 0FE0     		b	.L71
 1607              	.L72:
 451:openstack/04-TRAN/opentcp.c ****          } else {
 452:openstack/04-TRAN/opentcp.c ****             opentcp_reset();
 1608              		.loc 1 452 0
 1609 0d46 FFF7FEFF 		bl	opentcp_reset
 453:openstack/04-TRAN/opentcp.c ****             openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 454:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)tcp_vars.state,
 1610              		.loc 1 454 0
 1611 0d4a 40F20003 		movw	r3, #:lower16:tcp_vars
 1612 0d4e C0F20003 		movt	r3, #:upper16:tcp_vars
 1613 0d52 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 453:openstack/04-TRAN/opentcp.c ****             openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 1614              		.loc 1 453 0
 1615 0d54 4FF01700 		mov	r0, #23
 1616 0d58 4FF00801 		mov	r1, #8
 1617 0d5c 1A46     		mov	r2, r3
 1618 0d5e 4FF00403 		mov	r3, #4
 1619 0d62 FFF7FEFF 		bl	openserial_printError
 1620              	.L71:
 455:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)4);
 456:openstack/04-TRAN/opentcp.c ****          }
 457:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 1621              		.loc 1 457 0
 1622 0d66 7868     		ldr	r0, [r7, #4]
 1623 0d68 FFF7FEFF 		bl	openqueue_freePacketBuffer
 458:openstack/04-TRAN/opentcp.c ****          break;
 1624              		.loc 1 458 0
 1625 0d6c 99E1     		b	.L33
 1626              	.L44:
 459:openstack/04-TRAN/opentcp.c **** 
 460:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_FIN_WAIT_1:                                  //[receive] teardown
 461:openstack/04-TRAN/opentcp.c ****          if (containsControlBits(msg,TCP_ACK_NO,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_YES)) {
 1627              		.loc 1 461 0
 1628 0d6e 4FF00103 		mov	r3, #1
 1629 0d72 0093     		str	r3, [sp, #0]
 1630 0d74 7868     		ldr	r0, [r7, #4]
 1631 0d76 4FF00001 		mov	r1, #0
 1632 0d7a 4FF00002 		mov	r2, #0
 1633 0d7e 4FF00003 		mov	r3, #0
 1634 0d82 FFF7FEFF 		bl	containsControlBits
 1635 0d86 0346     		mov	r3, r0
 1636 0d88 002B     		cmp	r3, #0
 1637 0d8a 56D0     		beq	.L77
 462:openstack/04-TRAN/opentcp.c ****             //I receive FIN, I send ACK
 463:openstack/04-TRAN/opentcp.c ****             tcp_vars.hisNextSeqNum = (packetfunctions_ntohl((uint8_t*)&(((tcp_ht*)msg->payload)->se
 1638              		.loc 1 463 0
 1639 0d8c 7B68     		ldr	r3, [r7, #4]
 1640 0d8e 5B68     		ldr	r3, [r3, #4]
 1641 0d90 03F10403 		add	r3, r3, #4
 1642 0d94 1846     		mov	r0, r3
 1643 0d96 FFF7FEFF 		bl	packetfunctions_ntohl
 1644 0d9a 0346     		mov	r3, r0
 1645 0d9c 03F10102 		add	r2, r3, #1
 1646 0da0 40F20003 		movw	r3, #:lower16:tcp_vars
 1647 0da4 C0F20003 		movt	r3, #:upper16:tcp_vars
 1648 0da8 DA60     		str	r2, [r3, #12]
 464:openstack/04-TRAN/opentcp.c ****             tempPkt = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 1649              		.loc 1 464 0
 1650 0daa 4FF01700 		mov	r0, #23
 1651 0dae FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 1652 0db2 B860     		str	r0, [r7, #8]
 465:openstack/04-TRAN/opentcp.c ****             if (tempPkt==NULL) {
 1653              		.loc 1 465 0
 1654 0db4 BB68     		ldr	r3, [r7, #8]
 1655 0db6 002B     		cmp	r3, #0
 1656 0db8 0DD1     		bne	.L78
 466:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 1657              		.loc 1 466 0
 1658 0dba 4FF01700 		mov	r0, #23
 1659 0dbe 4FF02C01 		mov	r1, #44
 1660 0dc2 4FF00002 		mov	r2, #0
 1661 0dc6 4FF00003 		mov	r3, #0
 1662 0dca FFF7FEFF 		bl	openserial_printError
 467:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0,
 468:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0);
 469:openstack/04-TRAN/opentcp.c ****                openqueue_freePacketBuffer(msg);
 1663              		.loc 1 469 0
 1664 0dce 7868     		ldr	r0, [r7, #4]
 1665 0dd0 FFF7FEFF 		bl	openqueue_freePacketBuffer
 470:openstack/04-TRAN/opentcp.c ****                return;
 1666              		.loc 1 470 0
 1667 0dd4 65E1     		b	.L33
 1668              	.L78:
 471:openstack/04-TRAN/opentcp.c ****             }
 472:openstack/04-TRAN/opentcp.c ****             tempPkt->creator       = COMPONENT_OPENTCP;
 1669              		.loc 1 472 0
 1670 0dd6 BB68     		ldr	r3, [r7, #8]
 1671 0dd8 4FF01702 		mov	r2, #23
 1672 0ddc 1A70     		strb	r2, [r3, #0]
 473:openstack/04-TRAN/opentcp.c ****             tempPkt->owner         = COMPONENT_OPENTCP;
 1673              		.loc 1 473 0
 1674 0dde BB68     		ldr	r3, [r7, #8]
 1675 0de0 4FF01702 		mov	r2, #23
 1676 0de4 5A70     		strb	r2, [r3, #1]
 474:openstack/04-TRAN/opentcp.c ****             memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 1677              		.loc 1 474 0
 1678 0de6 BB68     		ldr	r3, [r7, #8]
 1679 0de8 03F11503 		add	r3, r3, #21
 1680 0dec 40F20002 		movw	r2, #:lower16:tcp_vars
 1681 0df0 C0F20002 		movt	r2, #:upper16:tcp_vars
 1682 0df4 02F11202 		add	r2, r2, #18
 1683 0df8 1568     		ldr	r5, [r2, #0]	@ unaligned
 1684 0dfa 5468     		ldr	r4, [r2, #4]	@ unaligned
 1685 0dfc 9068     		ldr	r0, [r2, #8]	@ unaligned
 1686 0dfe D168     		ldr	r1, [r2, #12]	@ unaligned
 1687 0e00 1D60     		str	r5, [r3, #0]	@ unaligned
 1688 0e02 5C60     		str	r4, [r3, #4]	@ unaligned
 1689 0e04 9860     		str	r0, [r3, #8]	@ unaligned
 1690 0e06 D960     		str	r1, [r3, #12]	@ unaligned
 1691 0e08 127C     		ldrb	r2, [r2, #16]
 1692 0e0a 1A74     		strb	r2, [r3, #16]
 475:openstack/04-TRAN/opentcp.c ****             prependTCPHeader(tempPkt,
 1693              		.loc 1 475 0
 1694 0e0c 4FF00003 		mov	r3, #0
 1695 0e10 0093     		str	r3, [sp, #0]
 1696 0e12 4FF00003 		mov	r3, #0
 1697 0e16 0193     		str	r3, [sp, #4]
 1698 0e18 B868     		ldr	r0, [r7, #8]
 1699 0e1a 4FF00101 		mov	r1, #1
 1700 0e1e 4FF00002 		mov	r2, #0
 1701 0e22 4FF00003 		mov	r3, #0
 1702 0e26 FFF7FEFF 		bl	prependTCPHeader
 476:openstack/04-TRAN/opentcp.c ****                   TCP_ACK_YES,
 477:openstack/04-TRAN/opentcp.c ****                   TCP_PSH_NO,
 478:openstack/04-TRAN/opentcp.c ****                   TCP_RST_NO,
 479:openstack/04-TRAN/opentcp.c ****                   TCP_SYN_NO,
 480:openstack/04-TRAN/opentcp.c ****                   TCP_FIN_NO);
 481:openstack/04-TRAN/opentcp.c ****             forwarding_send(tempPkt);
 1703              		.loc 1 481 0
 1704 0e2a B868     		ldr	r0, [r7, #8]
 1705 0e2c FFF7FEFF 		bl	forwarding_send
 482:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_ALMOST_CLOSING);
 1706              		.loc 1 482 0
 1707 0e30 4FF00C00 		mov	r0, #12
 1708 0e34 FFF7FEFF 		bl	tcp_change_state
 1709 0e38 89E0     		b	.L79
 1710              	.L77:
 483:openstack/04-TRAN/opentcp.c ****          } else if (containsControlBits(msg,TCP_ACK_YES,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_YES)) {
 1711              		.loc 1 483 0
 1712 0e3a 4FF00103 		mov	r3, #1
 1713 0e3e 0093     		str	r3, [sp, #0]
 1714 0e40 7868     		ldr	r0, [r7, #4]
 1715 0e42 4FF00101 		mov	r1, #1
 1716 0e46 4FF00002 		mov	r2, #0
 1717 0e4a 4FF00003 		mov	r3, #0
 1718 0e4e FFF7FEFF 		bl	containsControlBits
 1719 0e52 0346     		mov	r3, r0
 1720 0e54 002B     		cmp	r3, #0
 1721 0e56 56D0     		beq	.L80
 484:openstack/04-TRAN/opentcp.c ****             //I receive FIN+ACK, I send ACK
 485:openstack/04-TRAN/opentcp.c ****             tcp_vars.hisNextSeqNum = (packetfunctions_ntohl((uint8_t*)&(((tcp_ht*)msg->payload)->se
 1722              		.loc 1 485 0
 1723 0e58 7B68     		ldr	r3, [r7, #4]
 1724 0e5a 5B68     		ldr	r3, [r3, #4]
 1725 0e5c 03F10403 		add	r3, r3, #4
 1726 0e60 1846     		mov	r0, r3
 1727 0e62 FFF7FEFF 		bl	packetfunctions_ntohl
 1728 0e66 0346     		mov	r3, r0
 1729 0e68 03F10102 		add	r2, r3, #1
 1730 0e6c 40F20003 		movw	r3, #:lower16:tcp_vars
 1731 0e70 C0F20003 		movt	r3, #:upper16:tcp_vars
 1732 0e74 DA60     		str	r2, [r3, #12]
 486:openstack/04-TRAN/opentcp.c ****             tempPkt = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 1733              		.loc 1 486 0
 1734 0e76 4FF01700 		mov	r0, #23
 1735 0e7a FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 1736 0e7e B860     		str	r0, [r7, #8]
 487:openstack/04-TRAN/opentcp.c ****             if (tempPkt==NULL) {
 1737              		.loc 1 487 0
 1738 0e80 BB68     		ldr	r3, [r7, #8]
 1739 0e82 002B     		cmp	r3, #0
 1740 0e84 0DD1     		bne	.L81
 488:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 1741              		.loc 1 488 0
 1742 0e86 4FF01700 		mov	r0, #23
 1743 0e8a 4FF02C01 		mov	r1, #44
 1744 0e8e 4FF00002 		mov	r2, #0
 1745 0e92 4FF00003 		mov	r3, #0
 1746 0e96 FFF7FEFF 		bl	openserial_printError
 489:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0,
 490:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0);
 491:openstack/04-TRAN/opentcp.c ****                openqueue_freePacketBuffer(msg);
 1747              		.loc 1 491 0
 1748 0e9a 7868     		ldr	r0, [r7, #4]
 1749 0e9c FFF7FEFF 		bl	openqueue_freePacketBuffer
 492:openstack/04-TRAN/opentcp.c ****                return;
 1750              		.loc 1 492 0
 1751 0ea0 FFE0     		b	.L33
 1752              	.L81:
 493:openstack/04-TRAN/opentcp.c ****             }
 494:openstack/04-TRAN/opentcp.c ****             tempPkt->creator       = COMPONENT_OPENTCP;
 1753              		.loc 1 494 0
 1754 0ea2 BB68     		ldr	r3, [r7, #8]
 1755 0ea4 4FF01702 		mov	r2, #23
 1756 0ea8 1A70     		strb	r2, [r3, #0]
 495:openstack/04-TRAN/opentcp.c ****             tempPkt->owner         = COMPONENT_OPENTCP;
 1757              		.loc 1 495 0
 1758 0eaa BB68     		ldr	r3, [r7, #8]
 1759 0eac 4FF01702 		mov	r2, #23
 1760 0eb0 5A70     		strb	r2, [r3, #1]
 496:openstack/04-TRAN/opentcp.c ****             memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 1761              		.loc 1 496 0
 1762 0eb2 BB68     		ldr	r3, [r7, #8]
 1763 0eb4 03F11503 		add	r3, r3, #21
 1764 0eb8 40F20002 		movw	r2, #:lower16:tcp_vars
 1765 0ebc C0F20002 		movt	r2, #:upper16:tcp_vars
 1766 0ec0 02F11202 		add	r2, r2, #18
 1767 0ec4 1568     		ldr	r5, [r2, #0]	@ unaligned
 1768 0ec6 5468     		ldr	r4, [r2, #4]	@ unaligned
 1769 0ec8 9068     		ldr	r0, [r2, #8]	@ unaligned
 1770 0eca D168     		ldr	r1, [r2, #12]	@ unaligned
 1771 0ecc 1D60     		str	r5, [r3, #0]	@ unaligned
 1772 0ece 5C60     		str	r4, [r3, #4]	@ unaligned
 1773 0ed0 9860     		str	r0, [r3, #8]	@ unaligned
 1774 0ed2 D960     		str	r1, [r3, #12]	@ unaligned
 1775 0ed4 127C     		ldrb	r2, [r2, #16]
 1776 0ed6 1A74     		strb	r2, [r3, #16]
 497:openstack/04-TRAN/opentcp.c ****             prependTCPHeader(tempPkt,
 1777              		.loc 1 497 0
 1778 0ed8 4FF00003 		mov	r3, #0
 1779 0edc 0093     		str	r3, [sp, #0]
 1780 0ede 4FF00003 		mov	r3, #0
 1781 0ee2 0193     		str	r3, [sp, #4]
 1782 0ee4 B868     		ldr	r0, [r7, #8]
 1783 0ee6 4FF00101 		mov	r1, #1
 1784 0eea 4FF00002 		mov	r2, #0
 1785 0eee 4FF00003 		mov	r3, #0
 1786 0ef2 FFF7FEFF 		bl	prependTCPHeader
 498:openstack/04-TRAN/opentcp.c ****                   TCP_ACK_YES,
 499:openstack/04-TRAN/opentcp.c ****                   TCP_PSH_NO,
 500:openstack/04-TRAN/opentcp.c ****                   TCP_RST_NO,
 501:openstack/04-TRAN/opentcp.c ****                   TCP_SYN_NO,
 502:openstack/04-TRAN/opentcp.c ****                   TCP_FIN_NO);
 503:openstack/04-TRAN/opentcp.c ****             forwarding_send(tempPkt);
 1787              		.loc 1 503 0
 1788 0ef6 B868     		ldr	r0, [r7, #8]
 1789 0ef8 FFF7FEFF 		bl	forwarding_send
 504:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_ALMOST_TIME_WAIT);
 1790              		.loc 1 504 0
 1791 0efc 4FF00F00 		mov	r0, #15
 1792 0f00 FFF7FEFF 		bl	tcp_change_state
 1793 0f04 23E0     		b	.L79
 1794              	.L80:
 505:openstack/04-TRAN/opentcp.c ****          } else if  (containsControlBits(msg,TCP_ACK_YES,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_NO)) {
 1795              		.loc 1 505 0
 1796 0f06 4FF00003 		mov	r3, #0
 1797 0f0a 0093     		str	r3, [sp, #0]
 1798 0f0c 7868     		ldr	r0, [r7, #4]
 1799 0f0e 4FF00101 		mov	r1, #1
 1800 0f12 4FF00002 		mov	r2, #0
 1801 0f16 4FF00003 		mov	r3, #0
 1802 0f1a FFF7FEFF 		bl	containsControlBits
 1803 0f1e 0346     		mov	r3, r0
 1804 0f20 002B     		cmp	r3, #0
 1805 0f22 04D0     		beq	.L82
 506:openstack/04-TRAN/opentcp.c ****             //I receive ACK, I will receive FIN later
 507:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_FIN_WAIT_2);
 1806              		.loc 1 507 0
 1807 0f24 4FF00E00 		mov	r0, #14
 1808 0f28 FFF7FEFF 		bl	tcp_change_state
 1809 0f2c 0FE0     		b	.L79
 1810              	.L82:
 508:openstack/04-TRAN/opentcp.c ****          } else {
 509:openstack/04-TRAN/opentcp.c ****             opentcp_reset();
 1811              		.loc 1 509 0
 1812 0f2e FFF7FEFF 		bl	opentcp_reset
 510:openstack/04-TRAN/opentcp.c ****             openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 511:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)tcp_vars.state,
 1813              		.loc 1 511 0
 1814 0f32 40F20003 		movw	r3, #:lower16:tcp_vars
 1815 0f36 C0F20003 		movt	r3, #:upper16:tcp_vars
 1816 0f3a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 510:openstack/04-TRAN/opentcp.c ****             openserial_printError(COMPONENT_OPENTCP,ERR_TCP_RESET,
 1817              		.loc 1 510 0
 1818 0f3c 4FF01700 		mov	r0, #23
 1819 0f40 4FF00801 		mov	r1, #8
 1820 0f44 1A46     		mov	r2, r3
 1821 0f46 4FF00503 		mov	r3, #5
 1822 0f4a FFF7FEFF 		bl	openserial_printError
 1823              	.L79:
 512:openstack/04-TRAN/opentcp.c ****                                   (errorparameter_t)5);
 513:openstack/04-TRAN/opentcp.c ****          }
 514:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 1824              		.loc 1 514 0
 1825 0f4e 7868     		ldr	r0, [r7, #4]
 1826 0f50 FFF7FEFF 		bl	openqueue_freePacketBuffer
 515:openstack/04-TRAN/opentcp.c ****          break;
 1827              		.loc 1 515 0
 1828 0f54 A5E0     		b	.L33
 1829              	.L46:
 516:openstack/04-TRAN/opentcp.c **** 
 517:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_FIN_WAIT_2:                                  //[receive] teardown
 518:openstack/04-TRAN/opentcp.c ****          if (containsControlBits(msg,TCP_ACK_WHATEVER,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_YES)) {
 1830              		.loc 1 518 0
 1831 0f56 4FF00103 		mov	r3, #1
 1832 0f5a 0093     		str	r3, [sp, #0]
 1833 0f5c 7868     		ldr	r0, [r7, #4]
 1834 0f5e 4FF00201 		mov	r1, #2
 1835 0f62 4FF00002 		mov	r2, #0
 1836 0f66 4FF00003 		mov	r3, #0
 1837 0f6a FFF7FEFF 		bl	containsControlBits
 1838 0f6e 0346     		mov	r3, r0
 1839 0f70 002B     		cmp	r3, #0
 1840 0f72 55D0     		beq	.L83
 519:openstack/04-TRAN/opentcp.c ****             //I receive FIN[+ACK], I send ACK
 520:openstack/04-TRAN/opentcp.c ****             tcp_vars.hisNextSeqNum = (packetfunctions_ntohl((uint8_t*)&(((tcp_ht*)msg->payload)->se
 1841              		.loc 1 520 0
 1842 0f74 7B68     		ldr	r3, [r7, #4]
 1843 0f76 5B68     		ldr	r3, [r3, #4]
 1844 0f78 03F10403 		add	r3, r3, #4
 1845 0f7c 1846     		mov	r0, r3
 1846 0f7e FFF7FEFF 		bl	packetfunctions_ntohl
 1847 0f82 0346     		mov	r3, r0
 1848 0f84 03F10102 		add	r2, r3, #1
 1849 0f88 40F20003 		movw	r3, #:lower16:tcp_vars
 1850 0f8c C0F20003 		movt	r3, #:upper16:tcp_vars
 1851 0f90 DA60     		str	r2, [r3, #12]
 521:openstack/04-TRAN/opentcp.c ****             tempPkt = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 1852              		.loc 1 521 0
 1853 0f92 4FF01700 		mov	r0, #23
 1854 0f96 FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 1855 0f9a B860     		str	r0, [r7, #8]
 522:openstack/04-TRAN/opentcp.c ****             if (tempPkt==NULL) {
 1856              		.loc 1 522 0
 1857 0f9c BB68     		ldr	r3, [r7, #8]
 1858 0f9e 002B     		cmp	r3, #0
 1859 0fa0 0DD1     		bne	.L84
 523:openstack/04-TRAN/opentcp.c ****                openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 1860              		.loc 1 523 0
 1861 0fa2 4FF01700 		mov	r0, #23
 1862 0fa6 4FF02C01 		mov	r1, #44
 1863 0faa 4FF00002 		mov	r2, #0
 1864 0fae 4FF00003 		mov	r3, #0
 1865 0fb2 FFF7FEFF 		bl	openserial_printError
 524:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0,
 525:openstack/04-TRAN/opentcp.c ****                                      (errorparameter_t)0);
 526:openstack/04-TRAN/opentcp.c ****                openqueue_freePacketBuffer(msg);
 1866              		.loc 1 526 0
 1867 0fb6 7868     		ldr	r0, [r7, #4]
 1868 0fb8 FFF7FEFF 		bl	openqueue_freePacketBuffer
 527:openstack/04-TRAN/opentcp.c ****                return;
 1869              		.loc 1 527 0
 1870 0fbc 71E0     		b	.L33
 1871              	.L84:
 528:openstack/04-TRAN/opentcp.c ****             }
 529:openstack/04-TRAN/opentcp.c ****             tempPkt->creator       = COMPONENT_OPENTCP;
 1872              		.loc 1 529 0
 1873 0fbe BB68     		ldr	r3, [r7, #8]
 1874 0fc0 4FF01702 		mov	r2, #23
 1875 0fc4 1A70     		strb	r2, [r3, #0]
 530:openstack/04-TRAN/opentcp.c ****             tempPkt->owner         = COMPONENT_OPENTCP;
 1876              		.loc 1 530 0
 1877 0fc6 BB68     		ldr	r3, [r7, #8]
 1878 0fc8 4FF01702 		mov	r2, #23
 1879 0fcc 5A70     		strb	r2, [r3, #1]
 531:openstack/04-TRAN/opentcp.c ****             memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 1880              		.loc 1 531 0
 1881 0fce BB68     		ldr	r3, [r7, #8]
 1882 0fd0 03F11503 		add	r3, r3, #21
 1883 0fd4 40F20002 		movw	r2, #:lower16:tcp_vars
 1884 0fd8 C0F20002 		movt	r2, #:upper16:tcp_vars
 1885 0fdc 02F11202 		add	r2, r2, #18
 1886 0fe0 1568     		ldr	r5, [r2, #0]	@ unaligned
 1887 0fe2 5468     		ldr	r4, [r2, #4]	@ unaligned
 1888 0fe4 9068     		ldr	r0, [r2, #8]	@ unaligned
 1889 0fe6 D168     		ldr	r1, [r2, #12]	@ unaligned
 1890 0fe8 1D60     		str	r5, [r3, #0]	@ unaligned
 1891 0fea 5C60     		str	r4, [r3, #4]	@ unaligned
 1892 0fec 9860     		str	r0, [r3, #8]	@ unaligned
 1893 0fee D960     		str	r1, [r3, #12]	@ unaligned
 1894 0ff0 127C     		ldrb	r2, [r2, #16]
 1895 0ff2 1A74     		strb	r2, [r3, #16]
 532:openstack/04-TRAN/opentcp.c ****             prependTCPHeader(tempPkt,
 1896              		.loc 1 532 0
 1897 0ff4 4FF00003 		mov	r3, #0
 1898 0ff8 0093     		str	r3, [sp, #0]
 1899 0ffa 4FF00003 		mov	r3, #0
 1900 0ffe 0193     		str	r3, [sp, #4]
 1901 1000 B868     		ldr	r0, [r7, #8]
 1902 1002 4FF00101 		mov	r1, #1
 1903 1006 4FF00002 		mov	r2, #0
 1904 100a 4FF00003 		mov	r3, #0
 1905 100e FFF7FEFF 		bl	prependTCPHeader
 533:openstack/04-TRAN/opentcp.c ****                   TCP_ACK_YES,
 534:openstack/04-TRAN/opentcp.c ****                   TCP_PSH_NO,
 535:openstack/04-TRAN/opentcp.c ****                   TCP_RST_NO,
 536:openstack/04-TRAN/opentcp.c ****                   TCP_SYN_NO,
 537:openstack/04-TRAN/opentcp.c ****                   TCP_FIN_NO);
 538:openstack/04-TRAN/opentcp.c ****             forwarding_send(tempPkt);
 1906              		.loc 1 538 0
 1907 1012 B868     		ldr	r0, [r7, #8]
 1908 1014 FFF7FEFF 		bl	forwarding_send
 539:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_ALMOST_TIME_WAIT);
 1909              		.loc 1 539 0
 1910 1018 4FF00F00 		mov	r0, #15
 1911 101c FFF7FEFF 		bl	tcp_change_state
 1912              	.L83:
 540:openstack/04-TRAN/opentcp.c ****          }
 541:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 1913              		.loc 1 541 0
 1914 1020 7868     		ldr	r0, [r7, #4]
 1915 1022 FFF7FEFF 		bl	openqueue_freePacketBuffer
 542:openstack/04-TRAN/opentcp.c ****          break;
 1916              		.loc 1 542 0
 1917 1026 3CE0     		b	.L33
 1918              	.L45:
 543:openstack/04-TRAN/opentcp.c **** 
 544:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_CLOSING:                                     //[receive] teardown
 545:openstack/04-TRAN/opentcp.c ****          if (containsControlBits(msg,TCP_ACK_YES,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_NO)) {
 1919              		.loc 1 545 0
 1920 1028 4FF00003 		mov	r3, #0
 1921 102c 0093     		str	r3, [sp, #0]
 1922 102e 7868     		ldr	r0, [r7, #4]
 1923 1030 4FF00101 		mov	r1, #1
 1924 1034 4FF00002 		mov	r2, #0
 1925 1038 4FF00003 		mov	r3, #0
 1926 103c FFF7FEFF 		bl	containsControlBits
 1927 1040 0346     		mov	r3, r0
 1928 1042 002B     		cmp	r3, #0
 1929 1044 05D0     		beq	.L85
 546:openstack/04-TRAN/opentcp.c ****             //I receive ACK, I do nothing
 547:openstack/04-TRAN/opentcp.c ****             tcp_change_state(TCP_STATE_TIME_WAIT);
 1930              		.loc 1 547 0
 1931 1046 4FF01000 		mov	r0, #16
 1932 104a FFF7FEFF 		bl	tcp_change_state
 548:openstack/04-TRAN/opentcp.c ****             //TODO implement waiting timer
 549:openstack/04-TRAN/opentcp.c ****             opentcp_reset();
 1933              		.loc 1 549 0
 1934 104e FFF7FEFF 		bl	opentcp_reset
 1935              	.L85:
 550:openstack/04-TRAN/opentcp.c ****          }
 551:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 1936              		.loc 1 551 0
 1937 1052 7868     		ldr	r0, [r7, #4]
 1938 1054 FFF7FEFF 		bl	openqueue_freePacketBuffer
 552:openstack/04-TRAN/opentcp.c ****          break;
 1939              		.loc 1 552 0
 1940 1058 23E0     		b	.L33
 1941              	.L47:
 553:openstack/04-TRAN/opentcp.c **** 
 554:openstack/04-TRAN/opentcp.c ****       case TCP_STATE_LAST_ACK:                                    //[receive] teardown
 555:openstack/04-TRAN/opentcp.c ****          if (containsControlBits(msg,TCP_ACK_YES,TCP_RST_NO,TCP_SYN_NO,TCP_FIN_NO)) {
 1942              		.loc 1 555 0
 1943 105a 4FF00003 		mov	r3, #0
 1944 105e 0093     		str	r3, [sp, #0]
 1945 1060 7868     		ldr	r0, [r7, #4]
 1946 1062 4FF00101 		mov	r1, #1
 1947 1066 4FF00002 		mov	r2, #0
 1948 106a 4FF00003 		mov	r3, #0
 1949 106e FFF7FEFF 		bl	containsControlBits
 1950 1072 0346     		mov	r3, r0
 1951 1074 002B     		cmp	r3, #0
 1952 1076 01D0     		beq	.L86
 556:openstack/04-TRAN/opentcp.c ****             //I receive ACK, I reset
 557:openstack/04-TRAN/opentcp.c ****             opentcp_reset();
 1953              		.loc 1 557 0
 1954 1078 FFF7FEFF 		bl	opentcp_reset
 1955              	.L86:
 558:openstack/04-TRAN/opentcp.c ****          }
 559:openstack/04-TRAN/opentcp.c ****          openqueue_freePacketBuffer(msg);
 1956              		.loc 1 559 0
 1957 107c 7868     		ldr	r0, [r7, #4]
 1958 107e FFF7FEFF 		bl	openqueue_freePacketBuffer
 560:openstack/04-TRAN/opentcp.c ****          break;
 1959              		.loc 1 560 0
 1960 1082 0EE0     		b	.L33
 1961              	.L38:
 561:openstack/04-TRAN/opentcp.c **** 
 562:openstack/04-TRAN/opentcp.c ****       default:
 563:openstack/04-TRAN/opentcp.c ****          openserial_printError(COMPONENT_OPENTCP,ERR_WRONG_TCP_STATE,
 564:openstack/04-TRAN/opentcp.c ****                                (errorparameter_t)tcp_vars.state,
 1962              		.loc 1 564 0
 1963 1084 40F20003 		movw	r3, #:lower16:tcp_vars
 1964 1088 C0F20003 		movt	r3, #:upper16:tcp_vars
 1965 108c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 563:openstack/04-TRAN/opentcp.c ****          openserial_printError(COMPONENT_OPENTCP,ERR_WRONG_TCP_STATE,
 1966              		.loc 1 563 0
 1967 108e 4FF01700 		mov	r0, #23
 1968 1092 4FF00701 		mov	r1, #7
 1969 1096 1A46     		mov	r2, r3
 1970 1098 4FF00403 		mov	r3, #4
 1971 109c FFF7FEFF 		bl	openserial_printError
 565:openstack/04-TRAN/opentcp.c ****                                (errorparameter_t)4);
 566:openstack/04-TRAN/opentcp.c ****          break;
 1972              		.loc 1 566 0
 1973 10a0 00BF     		nop
 1974              	.L33:
 567:openstack/04-TRAN/opentcp.c ****    }
 568:openstack/04-TRAN/opentcp.c **** }
 1975              		.loc 1 568 0
 1976 10a2 07F11007 		add	r7, r7, #16
 1977 10a6 BD46     		mov	sp, r7
 1978 10a8 B0BD     		pop	{r4, r5, r7, pc}
 1979              		.cfi_endproc
 1980              	.LFE4:
 1982 10aa 00BF     		.align	2
 1983              		.global	opentcp_close
 1984              		.thumb
 1985              		.thumb_func
 1987              	opentcp_close:
 1988              	.LFB5:
 569:openstack/04-TRAN/opentcp.c **** 
 570:openstack/04-TRAN/opentcp.c **** owerror_t opentcp_close() {    //[command] teardown
 1989              		.loc 1 570 0
 1990              		.cfi_startproc
 1991              		@ args = 0, pretend = 0, frame = 8
 1992              		@ frame_needed = 1, uses_anonymous_args = 0
 1993 10ac B0B5     		push	{r4, r5, r7, lr}
 1994              	.LCFI14:
 1995              		.cfi_def_cfa_offset 16
 1996              		.cfi_offset 4, -16
 1997              		.cfi_offset 5, -12
 1998              		.cfi_offset 7, -8
 1999              		.cfi_offset 14, -4
 2000 10ae 84B0     		sub	sp, sp, #16
 2001              	.LCFI15:
 2002              		.cfi_def_cfa_offset 32
 2003 10b0 02AF     		add	r7, sp, #8
 2004              	.LCFI16:
 2005              		.cfi_def_cfa 7, 24
 571:openstack/04-TRAN/opentcp.c ****    OpenQueueEntry_t* tempPkt;
 572:openstack/04-TRAN/opentcp.c ****    if (  tcp_vars.state==TCP_STATE_ALMOST_CLOSE_WAIT ||
 2006              		.loc 1 572 0
 2007 10b2 40F20003 		movw	r3, #:lower16:tcp_vars
 2008 10b6 C0F20003 		movt	r3, #:upper16:tcp_vars
 2009 10ba 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2010 10bc 112B     		cmp	r3, #17
 2011 10be 1BD0     		beq	.L93
 573:openstack/04-TRAN/opentcp.c ****          tcp_vars.state==TCP_STATE_CLOSE_WAIT        ||
 2012              		.loc 1 573 0 discriminator 1
 2013 10c0 40F20003 		movw	r3, #:lower16:tcp_vars
 2014 10c4 C0F20003 		movt	r3, #:upper16:tcp_vars
 2015 10c8 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 572:openstack/04-TRAN/opentcp.c ****    if (  tcp_vars.state==TCP_STATE_ALMOST_CLOSE_WAIT ||
 2016              		.loc 1 572 0 discriminator 1
 2017 10ca 122B     		cmp	r3, #18
 2018 10cc 14D0     		beq	.L93
 574:openstack/04-TRAN/opentcp.c ****          tcp_vars.state==TCP_STATE_ALMOST_LAST_ACK   ||
 2019              		.loc 1 574 0
 2020 10ce 40F20003 		movw	r3, #:lower16:tcp_vars
 2021 10d2 C0F20003 		movt	r3, #:upper16:tcp_vars
 2022 10d6 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 573:openstack/04-TRAN/opentcp.c ****          tcp_vars.state==TCP_STATE_CLOSE_WAIT        ||
 2023              		.loc 1 573 0
 2024 10d8 132B     		cmp	r3, #19
 2025 10da 0DD0     		beq	.L93
 575:openstack/04-TRAN/opentcp.c ****          tcp_vars.state==TCP_STATE_LAST_ACK          ||
 2026              		.loc 1 575 0
 2027 10dc 40F20003 		movw	r3, #:lower16:tcp_vars
 2028 10e0 C0F20003 		movt	r3, #:upper16:tcp_vars
 2029 10e4 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 574:openstack/04-TRAN/opentcp.c ****          tcp_vars.state==TCP_STATE_ALMOST_LAST_ACK   ||
 2030              		.loc 1 574 0
 2031 10e6 142B     		cmp	r3, #20
 2032 10e8 06D0     		beq	.L93
 576:openstack/04-TRAN/opentcp.c ****          tcp_vars.state==TCP_STATE_CLOSED) {
 2033              		.loc 1 576 0
 2034 10ea 40F20003 		movw	r3, #:lower16:tcp_vars
 2035 10ee C0F20003 		movt	r3, #:upper16:tcp_vars
 2036 10f2 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 575:openstack/04-TRAN/opentcp.c ****          tcp_vars.state==TCP_STATE_LAST_ACK          ||
 2037              		.loc 1 575 0
 2038 10f4 002B     		cmp	r3, #0
 2039 10f6 02D1     		bne	.L94
 2040              	.L93:
 577:openstack/04-TRAN/opentcp.c ****       //not an error, can happen when distant node has already started tearing down
 578:openstack/04-TRAN/opentcp.c ****       return E_SUCCESS;
 2041              		.loc 1 578 0
 2042 10f8 4FF00003 		mov	r3, #0
 2043 10fc 52E0     		b	.L95
 2044              	.L94:
 579:openstack/04-TRAN/opentcp.c ****    }
 580:openstack/04-TRAN/opentcp.c ****    //I receive command 'close', I send FIN+ACK
 581:openstack/04-TRAN/opentcp.c ****    tempPkt = openqueue_getFreePacketBuffer(COMPONENT_OPENTCP);
 2045              		.loc 1 581 0
 2046 10fe 4FF01700 		mov	r0, #23
 2047 1102 FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 2048 1106 7860     		str	r0, [r7, #4]
 582:openstack/04-TRAN/opentcp.c ****    if (tempPkt==NULL) {
 2049              		.loc 1 582 0
 2050 1108 7B68     		ldr	r3, [r7, #4]
 2051 110a 002B     		cmp	r3, #0
 2052 110c 0CD1     		bne	.L96
 583:openstack/04-TRAN/opentcp.c ****       openserial_printError(COMPONENT_OPENTCP,ERR_NO_FREE_PACKET_BUFFER,
 2053              		.loc 1 583 0
 2054 110e 4FF01700 		mov	r0, #23
 2055 1112 4FF02C01 		mov	r1, #44
 2056 1116 4FF00002 		mov	r2, #0
 2057 111a 4FF00003 		mov	r3, #0
 2058 111e FFF7FEFF 		bl	openserial_printError
 584:openstack/04-TRAN/opentcp.c ****                             (errorparameter_t)0,
 585:openstack/04-TRAN/opentcp.c ****                             (errorparameter_t)0);
 586:openstack/04-TRAN/opentcp.c ****       return E_FAIL;
 2059              		.loc 1 586 0
 2060 1122 4FF00103 		mov	r3, #1
 2061 1126 3DE0     		b	.L95
 2062              	.L96:
 587:openstack/04-TRAN/opentcp.c ****    }
 588:openstack/04-TRAN/opentcp.c ****    tempPkt->creator       = COMPONENT_OPENTCP;
 2063              		.loc 1 588 0
 2064 1128 7B68     		ldr	r3, [r7, #4]
 2065 112a 4FF01702 		mov	r2, #23
 2066 112e 1A70     		strb	r2, [r3, #0]
 589:openstack/04-TRAN/opentcp.c ****    tempPkt->owner         = COMPONENT_OPENTCP;
 2067              		.loc 1 589 0
 2068 1130 7B68     		ldr	r3, [r7, #4]
 2069 1132 4FF01702 		mov	r2, #23
 2070 1136 5A70     		strb	r2, [r3, #1]
 590:openstack/04-TRAN/opentcp.c ****    memcpy(&(tempPkt->l3_destinationAdd),&tcp_vars.hisIPv6Address,sizeof(open_addr_t));
 2071              		.loc 1 590 0
 2072 1138 7B68     		ldr	r3, [r7, #4]
 2073 113a 03F11503 		add	r3, r3, #21
 2074 113e 40F20002 		movw	r2, #:lower16:tcp_vars
 2075 1142 C0F20002 		movt	r2, #:upper16:tcp_vars
 2076 1146 02F11202 		add	r2, r2, #18
 2077 114a 1568     		ldr	r5, [r2, #0]	@ unaligned
 2078 114c 5468     		ldr	r4, [r2, #4]	@ unaligned
 2079 114e 9068     		ldr	r0, [r2, #8]	@ unaligned
 2080 1150 D168     		ldr	r1, [r2, #12]	@ unaligned
 2081 1152 1D60     		str	r5, [r3, #0]	@ unaligned
 2082 1154 5C60     		str	r4, [r3, #4]	@ unaligned
 2083 1156 9860     		str	r0, [r3, #8]	@ unaligned
 2084 1158 D960     		str	r1, [r3, #12]	@ unaligned
 2085 115a 127C     		ldrb	r2, [r2, #16]
 2086 115c 1A74     		strb	r2, [r3, #16]
 591:openstack/04-TRAN/opentcp.c ****    prependTCPHeader(tempPkt,
 2087              		.loc 1 591 0
 2088 115e 4FF00003 		mov	r3, #0
 2089 1162 0093     		str	r3, [sp, #0]
 2090 1164 4FF00103 		mov	r3, #1
 2091 1168 0193     		str	r3, [sp, #4]
 2092 116a 7868     		ldr	r0, [r7, #4]
 2093 116c 4FF00101 		mov	r1, #1
 2094 1170 4FF00002 		mov	r2, #0
 2095 1174 4FF00003 		mov	r3, #0
 2096 1178 FFF7FEFF 		bl	prependTCPHeader
 592:openstack/04-TRAN/opentcp.c ****          TCP_ACK_YES,
 593:openstack/04-TRAN/opentcp.c ****          TCP_PSH_NO,
 594:openstack/04-TRAN/opentcp.c ****          TCP_RST_NO,
 595:openstack/04-TRAN/opentcp.c ****          TCP_SYN_NO,
 596:openstack/04-TRAN/opentcp.c ****          TCP_FIN_YES);
 597:openstack/04-TRAN/opentcp.c ****    tcp_vars.mySeqNum++;
 2097              		.loc 1 597 0
 2098 117c 40F20003 		movw	r3, #:lower16:tcp_vars
 2099 1180 C0F20003 		movt	r3, #:upper16:tcp_vars
 2100 1184 5B68     		ldr	r3, [r3, #4]
 2101 1186 03F10102 		add	r2, r3, #1
 2102 118a 40F20003 		movw	r3, #:lower16:tcp_vars
 2103 118e C0F20003 		movt	r3, #:upper16:tcp_vars
 2104 1192 5A60     		str	r2, [r3, #4]
 598:openstack/04-TRAN/opentcp.c ****    tcp_change_state(TCP_STATE_ALMOST_FIN_WAIT_1);
 2105              		.loc 1 598 0
 2106 1194 4FF00A00 		mov	r0, #10
 2107 1198 FFF7FEFF 		bl	tcp_change_state
 599:openstack/04-TRAN/opentcp.c ****    return forwarding_send(tempPkt);
 2108              		.loc 1 599 0
 2109 119c 7868     		ldr	r0, [r7, #4]
 2110 119e FFF7FEFF 		bl	forwarding_send
 2111 11a2 0346     		mov	r3, r0
 2112              	.L95:
 600:openstack/04-TRAN/opentcp.c **** }
 2113              		.loc 1 600 0
 2114 11a4 1846     		mov	r0, r3
 2115 11a6 07F10807 		add	r7, r7, #8
 2116 11aa BD46     		mov	sp, r7
 2117 11ac B0BD     		pop	{r4, r5, r7, pc}
 2118              		.cfi_endproc
 2119              	.LFE5:
 2121 11ae 00BF     		.align	2
 2122              		.global	tcp_debugPrint
 2123              		.thumb
 2124              		.thumb_func
 2126              	tcp_debugPrint:
 2127              	.LFB6:
 601:openstack/04-TRAN/opentcp.c **** 
 602:openstack/04-TRAN/opentcp.c **** bool tcp_debugPrint(void) {
 2128              		.loc 1 602 0
 2129              		.cfi_startproc
 2130              		@ args = 0, pretend = 0, frame = 0
 2131              		@ frame_needed = 1, uses_anonymous_args = 0
 2132              		@ link register save eliminated.
 2133 11b0 80B4     		push	{r7}
 2134              	.LCFI17:
 2135              		.cfi_def_cfa_offset 4
 2136              		.cfi_offset 7, -4
 2137 11b2 00AF     		add	r7, sp, #0
 2138              	.LCFI18:
 2139              		.cfi_def_cfa_register 7
 603:openstack/04-TRAN/opentcp.c ****    return FALSE;
 2140              		.loc 1 603 0
 2141 11b4 4FF00003 		mov	r3, #0
 604:openstack/04-TRAN/opentcp.c **** }
 2142              		.loc 1 604 0
 2143 11b8 1846     		mov	r0, r3
 2144 11ba BD46     		mov	sp, r7
 2145 11bc 80BC     		pop	{r7}
 2146 11be 7047     		bx	lr
 2147              		.cfi_endproc
 2148              	.LFE6:
 2150              		.align	2
 2151              		.global	timers_tcp_fired
 2152              		.thumb
 2153              		.thumb_func
 2155              	timers_tcp_fired:
 2156              	.LFB7:
 605:openstack/04-TRAN/opentcp.c **** 
 606:openstack/04-TRAN/opentcp.c **** //======= timer
 607:openstack/04-TRAN/opentcp.c **** 
 608:openstack/04-TRAN/opentcp.c **** //timer used to reset state when TCP state machine is stuck
 609:openstack/04-TRAN/opentcp.c **** void timers_tcp_fired(void) {
 2157              		.loc 1 609 0
 2158              		.cfi_startproc
 2159              		@ args = 0, pretend = 0, frame = 0
 2160              		@ frame_needed = 1, uses_anonymous_args = 0
 2161 11c0 80B5     		push	{r7, lr}
 2162              	.LCFI19:
 2163              		.cfi_def_cfa_offset 8
 2164              		.cfi_offset 7, -8
 2165              		.cfi_offset 14, -4
 2166 11c2 00AF     		add	r7, sp, #0
 2167              	.LCFI20:
 2168              		.cfi_def_cfa_register 7
 610:openstack/04-TRAN/opentcp.c ****    opentcp_reset();
 2169              		.loc 1 610 0
 2170 11c4 FFF7FEFF 		bl	opentcp_reset
 611:openstack/04-TRAN/opentcp.c **** }
 2171              		.loc 1 611 0
 2172 11c8 80BD     		pop	{r7, pc}
 2173              		.cfi_endproc
 2174              	.LFE7:
 2176 11ca 00BF     		.align	2
 2177              		.global	prependTCPHeader
 2178              		.thumb
 2179              		.thumb_func
 2181              	prependTCPHeader:
 2182              	.LFB8:
 612:openstack/04-TRAN/opentcp.c **** 
 613:openstack/04-TRAN/opentcp.c **** //=========================== private =========================================
 614:openstack/04-TRAN/opentcp.c **** 
 615:openstack/04-TRAN/opentcp.c **** void prependTCPHeader(OpenQueueEntry_t* msg,
 616:openstack/04-TRAN/opentcp.c ****       bool ack,
 617:openstack/04-TRAN/opentcp.c ****       bool push,
 618:openstack/04-TRAN/opentcp.c ****       bool rst,
 619:openstack/04-TRAN/opentcp.c ****       bool syn,
 620:openstack/04-TRAN/opentcp.c ****       bool fin) {
 2183              		.loc 1 620 0
 2184              		.cfi_startproc
 2185              		@ args = 8, pretend = 0, frame = 8
 2186              		@ frame_needed = 1, uses_anonymous_args = 0
 2187 11cc 80B5     		push	{r7, lr}
 2188              	.LCFI21:
 2189              		.cfi_def_cfa_offset 8
 2190              		.cfi_offset 7, -8
 2191              		.cfi_offset 14, -4
 2192 11ce 82B0     		sub	sp, sp, #8
 2193              	.LCFI22:
 2194              		.cfi_def_cfa_offset 16
 2195 11d0 00AF     		add	r7, sp, #0
 2196              	.LCFI23:
 2197              		.cfi_def_cfa_register 7
 2198 11d2 7860     		str	r0, [r7, #4]
 2199 11d4 F970     		strb	r1, [r7, #3]
 2200 11d6 BA70     		strb	r2, [r7, #2]
 2201 11d8 7B70     		strb	r3, [r7, #1]
 621:openstack/04-TRAN/opentcp.c ****    msg->l4_protocol = IANA_TCP;
 2202              		.loc 1 621 0
 2203 11da 7B68     		ldr	r3, [r7, #4]
 2204 11dc 4FF00602 		mov	r2, #6
 2205 11e0 5A72     		strb	r2, [r3, #9]
 622:openstack/04-TRAN/opentcp.c ****    packetfunctions_reserveHeaderSize(msg,sizeof(tcp_ht));
 2206              		.loc 1 622 0
 2207 11e2 7868     		ldr	r0, [r7, #4]
 2208 11e4 4FF01401 		mov	r1, #20
 2209 11e8 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 623:openstack/04-TRAN/opentcp.c ****    packetfunctions_htons(tcp_vars.myPort        ,(uint8_t*)&(((tcp_ht*)msg->payload)->source_port))
 2210              		.loc 1 623 0
 2211 11ec 40F20003 		movw	r3, #:lower16:tcp_vars
 2212 11f0 C0F20003 		movt	r3, #:upper16:tcp_vars
 2213 11f4 1A89     		ldrh	r2, [r3, #8]
 2214 11f6 7B68     		ldr	r3, [r7, #4]
 2215 11f8 5B68     		ldr	r3, [r3, #4]
 2216 11fa 1046     		mov	r0, r2
 2217 11fc 1946     		mov	r1, r3
 2218 11fe FFF7FEFF 		bl	packetfunctions_htons
 624:openstack/04-TRAN/opentcp.c ****    packetfunctions_htons(tcp_vars.hisPort       ,(uint8_t*)&(((tcp_ht*)msg->payload)->destination_p
 2219              		.loc 1 624 0
 2220 1202 40F20003 		movw	r3, #:lower16:tcp_vars
 2221 1206 C0F20003 		movt	r3, #:upper16:tcp_vars
 2222 120a 1A8A     		ldrh	r2, [r3, #16]
 2223 120c 7B68     		ldr	r3, [r7, #4]
 2224 120e 5B68     		ldr	r3, [r3, #4]
 2225 1210 03F10203 		add	r3, r3, #2
 2226 1214 1046     		mov	r0, r2
 2227 1216 1946     		mov	r1, r3
 2228 1218 FFF7FEFF 		bl	packetfunctions_htons
 625:openstack/04-TRAN/opentcp.c ****    packetfunctions_htonl(tcp_vars.mySeqNum      ,(uint8_t*)&(((tcp_ht*)msg->payload)->sequence_numb
 2229              		.loc 1 625 0
 2230 121c 40F20003 		movw	r3, #:lower16:tcp_vars
 2231 1220 C0F20003 		movt	r3, #:upper16:tcp_vars
 2232 1224 5A68     		ldr	r2, [r3, #4]
 2233 1226 7B68     		ldr	r3, [r7, #4]
 2234 1228 5B68     		ldr	r3, [r3, #4]
 2235 122a 03F10403 		add	r3, r3, #4
 2236 122e 1046     		mov	r0, r2
 2237 1230 1946     		mov	r1, r3
 2238 1232 FFF7FEFF 		bl	packetfunctions_htonl
 626:openstack/04-TRAN/opentcp.c ****    packetfunctions_htonl(tcp_vars.hisNextSeqNum ,(uint8_t*)&(((tcp_ht*)msg->payload)->ack_number));
 2239              		.loc 1 626 0
 2240 1236 40F20003 		movw	r3, #:lower16:tcp_vars
 2241 123a C0F20003 		movt	r3, #:upper16:tcp_vars
 2242 123e DA68     		ldr	r2, [r3, #12]
 2243 1240 7B68     		ldr	r3, [r7, #4]
 2244 1242 5B68     		ldr	r3, [r3, #4]
 2245 1244 03F10803 		add	r3, r3, #8
 2246 1248 1046     		mov	r0, r2
 2247 124a 1946     		mov	r1, r3
 2248 124c FFF7FEFF 		bl	packetfunctions_htonl
 627:openstack/04-TRAN/opentcp.c ****    ((tcp_ht*)msg->payload)->data_offset      = TCP_DEFAULT_DATA_OFFSET;
 2249              		.loc 1 627 0
 2250 1250 7B68     		ldr	r3, [r7, #4]
 2251 1252 5B68     		ldr	r3, [r3, #4]
 2252 1254 4FF05002 		mov	r2, #80
 2253 1258 1A73     		strb	r2, [r3, #12]
 628:openstack/04-TRAN/opentcp.c ****    ((tcp_ht*)msg->payload)->control_bits     = 0;
 2254              		.loc 1 628 0
 2255 125a 7B68     		ldr	r3, [r7, #4]
 2256 125c 5B68     		ldr	r3, [r3, #4]
 2257 125e 4FF00002 		mov	r2, #0
 2258 1262 5A73     		strb	r2, [r3, #13]
 629:openstack/04-TRAN/opentcp.c ****    if (ack==TCP_ACK_YES) {
 2259              		.loc 1 629 0
 2260 1264 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2261 1266 002B     		cmp	r3, #0
 2262 1268 09D0     		beq	.L101
 630:openstack/04-TRAN/opentcp.c ****       ((tcp_ht*)msg->payload)->control_bits |= 1 << TCP_ACK;
 2263              		.loc 1 630 0
 2264 126a 7B68     		ldr	r3, [r7, #4]
 2265 126c 5B68     		ldr	r3, [r3, #4]
 2266 126e 7A68     		ldr	r2, [r7, #4]
 2267 1270 5268     		ldr	r2, [r2, #4]
 2268 1272 527B     		ldrb	r2, [r2, #13]	@ zero_extendqisi2
 2269 1274 42F01002 		orr	r2, r2, #16
 2270 1278 D2B2     		uxtb	r2, r2
 2271 127a 5A73     		strb	r2, [r3, #13]
 2272 127c 08E0     		b	.L102
 2273              	.L101:
 631:openstack/04-TRAN/opentcp.c ****    } else {
 632:openstack/04-TRAN/opentcp.c ****       packetfunctions_htonl(0,(uint8_t*)&(((tcp_ht*)msg->payload)->ack_number));
 2274              		.loc 1 632 0
 2275 127e 7B68     		ldr	r3, [r7, #4]
 2276 1280 5B68     		ldr	r3, [r3, #4]
 2277 1282 03F10803 		add	r3, r3, #8
 2278 1286 4FF00000 		mov	r0, #0
 2279 128a 1946     		mov	r1, r3
 2280 128c FFF7FEFF 		bl	packetfunctions_htonl
 2281              	.L102:
 633:openstack/04-TRAN/opentcp.c ****    }
 634:openstack/04-TRAN/opentcp.c ****    if (push==TCP_PSH_YES) {
 2282              		.loc 1 634 0
 2283 1290 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 2284 1292 002B     		cmp	r3, #0
 2285 1294 08D0     		beq	.L103
 635:openstack/04-TRAN/opentcp.c ****       ((tcp_ht*)msg->payload)->control_bits |= 1 << TCP_PSH;
 2286              		.loc 1 635 0
 2287 1296 7B68     		ldr	r3, [r7, #4]
 2288 1298 5B68     		ldr	r3, [r3, #4]
 2289 129a 7A68     		ldr	r2, [r7, #4]
 2290 129c 5268     		ldr	r2, [r2, #4]
 2291 129e 527B     		ldrb	r2, [r2, #13]	@ zero_extendqisi2
 2292 12a0 42F00802 		orr	r2, r2, #8
 2293 12a4 D2B2     		uxtb	r2, r2
 2294 12a6 5A73     		strb	r2, [r3, #13]
 2295              	.L103:
 636:openstack/04-TRAN/opentcp.c ****    }
 637:openstack/04-TRAN/opentcp.c ****    if (rst==TCP_RST_YES) {
 2296              		.loc 1 637 0
 2297 12a8 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 2298 12aa 002B     		cmp	r3, #0
 2299 12ac 08D0     		beq	.L104
 638:openstack/04-TRAN/opentcp.c ****       ((tcp_ht*)msg->payload)->control_bits |= 1 << TCP_RST;
 2300              		.loc 1 638 0
 2301 12ae 7B68     		ldr	r3, [r7, #4]
 2302 12b0 5B68     		ldr	r3, [r3, #4]
 2303 12b2 7A68     		ldr	r2, [r7, #4]
 2304 12b4 5268     		ldr	r2, [r2, #4]
 2305 12b6 527B     		ldrb	r2, [r2, #13]	@ zero_extendqisi2
 2306 12b8 42F00402 		orr	r2, r2, #4
 2307 12bc D2B2     		uxtb	r2, r2
 2308 12be 5A73     		strb	r2, [r3, #13]
 2309              	.L104:
 639:openstack/04-TRAN/opentcp.c ****    }
 640:openstack/04-TRAN/opentcp.c ****    if (syn==TCP_SYN_YES) {
 2310              		.loc 1 640 0
 2311 12c0 3B7C     		ldrb	r3, [r7, #16]	@ zero_extendqisi2
 2312 12c2 002B     		cmp	r3, #0
 2313 12c4 08D0     		beq	.L105
 641:openstack/04-TRAN/opentcp.c ****       ((tcp_ht*)msg->payload)->control_bits |= 1 << TCP_SYN;
 2314              		.loc 1 641 0
 2315 12c6 7B68     		ldr	r3, [r7, #4]
 2316 12c8 5B68     		ldr	r3, [r3, #4]
 2317 12ca 7A68     		ldr	r2, [r7, #4]
 2318 12cc 5268     		ldr	r2, [r2, #4]
 2319 12ce 527B     		ldrb	r2, [r2, #13]	@ zero_extendqisi2
 2320 12d0 42F00202 		orr	r2, r2, #2
 2321 12d4 D2B2     		uxtb	r2, r2
 2322 12d6 5A73     		strb	r2, [r3, #13]
 2323              	.L105:
 642:openstack/04-TRAN/opentcp.c ****    }
 643:openstack/04-TRAN/opentcp.c ****    if (fin==TCP_FIN_YES) {
 2324              		.loc 1 643 0
 2325 12d8 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 2326 12da 002B     		cmp	r3, #0
 2327 12dc 08D0     		beq	.L106
 644:openstack/04-TRAN/opentcp.c ****       ((tcp_ht*)msg->payload)->control_bits |= 1 << TCP_FIN;
 2328              		.loc 1 644 0
 2329 12de 7B68     		ldr	r3, [r7, #4]
 2330 12e0 5B68     		ldr	r3, [r3, #4]
 2331 12e2 7A68     		ldr	r2, [r7, #4]
 2332 12e4 5268     		ldr	r2, [r2, #4]
 2333 12e6 527B     		ldrb	r2, [r2, #13]	@ zero_extendqisi2
 2334 12e8 42F00102 		orr	r2, r2, #1
 2335 12ec D2B2     		uxtb	r2, r2
 2336 12ee 5A73     		strb	r2, [r3, #13]
 2337              	.L106:
 645:openstack/04-TRAN/opentcp.c ****    }
 646:openstack/04-TRAN/opentcp.c ****    packetfunctions_htons(TCP_DEFAULT_WINDOW_SIZE    ,(uint8_t*)&(((tcp_ht*)msg->payload)->window_si
 2338              		.loc 1 646 0
 2339 12f0 7B68     		ldr	r3, [r7, #4]
 2340 12f2 5B68     		ldr	r3, [r3, #4]
 2341 12f4 03F10E03 		add	r3, r3, #14
 2342 12f8 4FF03000 		mov	r0, #48
 2343 12fc 1946     		mov	r1, r3
 2344 12fe FFF7FEFF 		bl	packetfunctions_htons
 647:openstack/04-TRAN/opentcp.c ****    packetfunctions_htons(TCP_DEFAULT_URGENT_POINTER ,(uint8_t*)&(((tcp_ht*)msg->payload)->urgent_po
 2345              		.loc 1 647 0
 2346 1302 7B68     		ldr	r3, [r7, #4]
 2347 1304 5B68     		ldr	r3, [r3, #4]
 2348 1306 03F11203 		add	r3, r3, #18
 2349 130a 4FF00000 		mov	r0, #0
 2350 130e 1946     		mov	r1, r3
 2351 1310 FFF7FEFF 		bl	packetfunctions_htons
 648:openstack/04-TRAN/opentcp.c ****    //calculate checksum last to take all header fields into account
 649:openstack/04-TRAN/opentcp.c ****    packetfunctions_calculateChecksum(msg,(uint8_t*)&(((tcp_ht*)msg->payload)->checksum));
 2352              		.loc 1 649 0
 2353 1314 7B68     		ldr	r3, [r7, #4]
 2354 1316 5B68     		ldr	r3, [r3, #4]
 2355 1318 03F11003 		add	r3, r3, #16
 2356 131c 7868     		ldr	r0, [r7, #4]
 2357 131e 1946     		mov	r1, r3
 2358 1320 FFF7FEFF 		bl	packetfunctions_calculateChecksum
 650:openstack/04-TRAN/opentcp.c **** }
 2359              		.loc 1 650 0
 2360 1324 07F10807 		add	r7, r7, #8
 2361 1328 BD46     		mov	sp, r7
 2362 132a 80BD     		pop	{r7, pc}
 2363              		.cfi_endproc
 2364              	.LFE8:
 2366              		.align	2
 2367              		.global	containsControlBits
 2368              		.thumb
 2369              		.thumb_func
 2371              	containsControlBits:
 2372              	.LFB9:
 651:openstack/04-TRAN/opentcp.c **** 
 652:openstack/04-TRAN/opentcp.c **** bool containsControlBits(OpenQueueEntry_t* msg, uint8_t ack, uint8_t rst, uint8_t syn, uint8_t fin)
 2373              		.loc 1 652 0
 2374              		.cfi_startproc
 2375              		@ args = 4, pretend = 0, frame = 16
 2376              		@ frame_needed = 1, uses_anonymous_args = 0
 2377              		@ link register save eliminated.
 2378 132c 80B4     		push	{r7}
 2379              	.LCFI24:
 2380              		.cfi_def_cfa_offset 4
 2381              		.cfi_offset 7, -4
 2382 132e 85B0     		sub	sp, sp, #20
 2383              	.LCFI25:
 2384              		.cfi_def_cfa_offset 24
 2385 1330 00AF     		add	r7, sp, #0
 2386              	.LCFI26:
 2387              		.cfi_def_cfa_register 7
 2388 1332 7860     		str	r0, [r7, #4]
 2389 1334 F970     		strb	r1, [r7, #3]
 2390 1336 BA70     		strb	r2, [r7, #2]
 2391 1338 7B70     		strb	r3, [r7, #1]
 653:openstack/04-TRAN/opentcp.c ****    bool return_value = TRUE;
 2392              		.loc 1 653 0
 2393 133a 4FF00103 		mov	r3, #1
 2394 133e FB73     		strb	r3, [r7, #15]
 654:openstack/04-TRAN/opentcp.c ****    if (ack!=TCP_ACK_WHATEVER){
 2395              		.loc 1 654 0
 2396 1340 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2397 1342 022B     		cmp	r3, #2
 2398 1344 1DD0     		beq	.L108
 655:openstack/04-TRAN/opentcp.c ****       return_value = return_value && ((bool)( (((tcp_ht*)msg->payload)->control_bits >> TCP_ACK) & 
 2399              		.loc 1 655 0
 2400 1346 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2401 1348 002B     		cmp	r3, #0
 2402 134a 13D0     		beq	.L109
 2403              		.loc 1 655 0 is_stmt 0 discriminator 1
 2404 134c 7B68     		ldr	r3, [r7, #4]
 2405 134e 5B68     		ldr	r3, [r3, #4]
 2406 1350 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 2407 1352 4FEA1313 		lsr	r3, r3, #4
 2408 1356 DBB2     		uxtb	r3, r3
 2409 1358 03F00103 		and	r3, r3, #1
 2410 135c 002B     		cmp	r3, #0
 2411 135e 0CBF     		ite	eq
 2412 1360 0023     		moveq	r3, #0
 2413 1362 0123     		movne	r3, #1
 2414 1364 DBB2     		uxtb	r3, r3
 2415 1366 1A46     		mov	r2, r3
 2416 1368 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2417 136a 9A42     		cmp	r2, r3
 2418 136c 02D1     		bne	.L109
 2419              		.loc 1 655 0 discriminator 3
 2420 136e 4FF00103 		mov	r3, #1
 2421 1372 01E0     		b	.L110
 2422              	.L109:
 2423              		.loc 1 655 0 discriminator 2
 2424 1374 4FF00003 		mov	r3, #0
 2425              	.L110:
 2426              		.loc 1 655 0 discriminator 4
 2427 1378 FB73     		strb	r3, [r7, #15]
 2428 137a FB7B     		ldrb	r3, [r7, #15]
 2429 137c 03F00103 		and	r3, r3, #1
 2430 1380 FB73     		strb	r3, [r7, #15]
 2431              	.L108:
 656:openstack/04-TRAN/opentcp.c ****    }
 657:openstack/04-TRAN/opentcp.c ****    if (rst!=TCP_RST_WHATEVER){
 2432              		.loc 1 657 0 is_stmt 1
 2433 1382 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 2434 1384 022B     		cmp	r3, #2
 2435 1386 1DD0     		beq	.L111
 658:openstack/04-TRAN/opentcp.c ****       return_value = return_value && ((bool)( (((tcp_ht*)msg->payload)->control_bits >> TCP_RST) & 
 2436              		.loc 1 658 0
 2437 1388 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2438 138a 002B     		cmp	r3, #0
 2439 138c 13D0     		beq	.L112
 2440              		.loc 1 658 0 is_stmt 0 discriminator 1
 2441 138e 7B68     		ldr	r3, [r7, #4]
 2442 1390 5B68     		ldr	r3, [r3, #4]
 2443 1392 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 2444 1394 4FEA9303 		lsr	r3, r3, #2
 2445 1398 DBB2     		uxtb	r3, r3
 2446 139a 03F00103 		and	r3, r3, #1
 2447 139e 002B     		cmp	r3, #0
 2448 13a0 0CBF     		ite	eq
 2449 13a2 0023     		moveq	r3, #0
 2450 13a4 0123     		movne	r3, #1
 2451 13a6 DBB2     		uxtb	r3, r3
 2452 13a8 1A46     		mov	r2, r3
 2453 13aa BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 2454 13ac 9A42     		cmp	r2, r3
 2455 13ae 02D1     		bne	.L112
 2456              		.loc 1 658 0 discriminator 3
 2457 13b0 4FF00103 		mov	r3, #1
 2458 13b4 01E0     		b	.L113
 2459              	.L112:
 2460              		.loc 1 658 0 discriminator 2
 2461 13b6 4FF00003 		mov	r3, #0
 2462              	.L113:
 2463              		.loc 1 658 0 discriminator 4
 2464 13ba FB73     		strb	r3, [r7, #15]
 2465 13bc FB7B     		ldrb	r3, [r7, #15]
 2466 13be 03F00103 		and	r3, r3, #1
 2467 13c2 FB73     		strb	r3, [r7, #15]
 2468              	.L111:
 659:openstack/04-TRAN/opentcp.c ****    }
 660:openstack/04-TRAN/opentcp.c ****    if (syn!=TCP_SYN_WHATEVER){
 2469              		.loc 1 660 0 is_stmt 1
 2470 13c4 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 2471 13c6 022B     		cmp	r3, #2
 2472 13c8 1DD0     		beq	.L114
 661:openstack/04-TRAN/opentcp.c ****       return_value = return_value && ((bool)( (((tcp_ht*)msg->payload)->control_bits >> TCP_SYN) & 
 2473              		.loc 1 661 0
 2474 13ca FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2475 13cc 002B     		cmp	r3, #0
 2476 13ce 13D0     		beq	.L115
 2477              		.loc 1 661 0 is_stmt 0 discriminator 1
 2478 13d0 7B68     		ldr	r3, [r7, #4]
 2479 13d2 5B68     		ldr	r3, [r3, #4]
 2480 13d4 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 2481 13d6 4FEA5303 		lsr	r3, r3, #1
 2482 13da DBB2     		uxtb	r3, r3
 2483 13dc 03F00103 		and	r3, r3, #1
 2484 13e0 002B     		cmp	r3, #0
 2485 13e2 0CBF     		ite	eq
 2486 13e4 0023     		moveq	r3, #0
 2487 13e6 0123     		movne	r3, #1
 2488 13e8 DBB2     		uxtb	r3, r3
 2489 13ea 1A46     		mov	r2, r3
 2490 13ec 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 2491 13ee 9A42     		cmp	r2, r3
 2492 13f0 02D1     		bne	.L115
 2493              		.loc 1 661 0 discriminator 3
 2494 13f2 4FF00103 		mov	r3, #1
 2495 13f6 01E0     		b	.L116
 2496              	.L115:
 2497              		.loc 1 661 0 discriminator 2
 2498 13f8 4FF00003 		mov	r3, #0
 2499              	.L116:
 2500              		.loc 1 661 0 discriminator 4
 2501 13fc FB73     		strb	r3, [r7, #15]
 2502 13fe FB7B     		ldrb	r3, [r7, #15]
 2503 1400 03F00103 		and	r3, r3, #1
 2504 1404 FB73     		strb	r3, [r7, #15]
 2505              	.L114:
 662:openstack/04-TRAN/opentcp.c ****    }
 663:openstack/04-TRAN/opentcp.c ****    if (fin!=TCP_FIN_WHATEVER){
 2506              		.loc 1 663 0 is_stmt 1
 2507 1406 3B7E     		ldrb	r3, [r7, #24]	@ zero_extendqisi2
 2508 1408 022B     		cmp	r3, #2
 2509 140a 1AD0     		beq	.L117
 664:openstack/04-TRAN/opentcp.c ****       return_value = return_value && ((bool)( (((tcp_ht*)msg->payload)->control_bits >> TCP_FIN) & 
 2510              		.loc 1 664 0
 2511 140c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2512 140e 002B     		cmp	r3, #0
 2513 1410 10D0     		beq	.L118
 2514              		.loc 1 664 0 is_stmt 0 discriminator 1
 2515 1412 7B68     		ldr	r3, [r7, #4]
 2516 1414 5B68     		ldr	r3, [r3, #4]
 2517 1416 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 2518 1418 03F00103 		and	r3, r3, #1
 2519 141c 002B     		cmp	r3, #0
 2520 141e 0CBF     		ite	eq
 2521 1420 0023     		moveq	r3, #0
 2522 1422 0123     		movne	r3, #1
 2523 1424 DBB2     		uxtb	r3, r3
 2524 1426 1A46     		mov	r2, r3
 2525 1428 3B7E     		ldrb	r3, [r7, #24]	@ zero_extendqisi2
 2526 142a 9A42     		cmp	r2, r3
 2527 142c 02D1     		bne	.L118
 2528              		.loc 1 664 0 discriminator 3
 2529 142e 4FF00103 		mov	r3, #1
 2530 1432 01E0     		b	.L119
 2531              	.L118:
 2532              		.loc 1 664 0 discriminator 2
 2533 1434 4FF00003 		mov	r3, #0
 2534              	.L119:
 2535              		.loc 1 664 0 discriminator 4
 2536 1438 FB73     		strb	r3, [r7, #15]
 2537 143a FB7B     		ldrb	r3, [r7, #15]
 2538 143c 03F00103 		and	r3, r3, #1
 2539 1440 FB73     		strb	r3, [r7, #15]
 2540              	.L117:
 665:openstack/04-TRAN/opentcp.c ****    }
 666:openstack/04-TRAN/opentcp.c ****    return return_value;
 2541              		.loc 1 666 0 is_stmt 1
 2542 1442 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 667:openstack/04-TRAN/opentcp.c **** }
 2543              		.loc 1 667 0
 2544 1444 1846     		mov	r0, r3
 2545 1446 07F11407 		add	r7, r7, #20
 2546 144a BD46     		mov	sp, r7
 2547 144c 80BC     		pop	{r7}
 2548 144e 7047     		bx	lr
 2549              		.cfi_endproc
 2550              	.LFE9:
 2552              		.align	2
 2553              		.global	opentcp_reset
 2554              		.thumb
 2555              		.thumb_func
 2557              	opentcp_reset:
 2558              	.LFB10:
 668:openstack/04-TRAN/opentcp.c **** 
 669:openstack/04-TRAN/opentcp.c **** void opentcp_reset() {
 2559              		.loc 1 669 0
 2560              		.cfi_startproc
 2561              		@ args = 0, pretend = 0, frame = 0
 2562              		@ frame_needed = 1, uses_anonymous_args = 0
 2563 1450 80B5     		push	{r7, lr}
 2564              	.LCFI27:
 2565              		.cfi_def_cfa_offset 8
 2566              		.cfi_offset 7, -8
 2567              		.cfi_offset 14, -4
 2568 1452 00AF     		add	r7, sp, #0
 2569              	.LCFI28:
 2570              		.cfi_def_cfa_register 7
 670:openstack/04-TRAN/opentcp.c ****    tcp_change_state(TCP_STATE_CLOSED);
 2571              		.loc 1 670 0
 2572 1454 4FF00000 		mov	r0, #0
 2573 1458 FFF7FEFF 		bl	tcp_change_state
 671:openstack/04-TRAN/opentcp.c ****    tcp_vars.mySeqNum            = TCP_INITIAL_SEQNUM; 
 2574              		.loc 1 671 0
 2575 145c 40F20003 		movw	r3, #:lower16:tcp_vars
 2576 1460 C0F20003 		movt	r3, #:upper16:tcp_vars
 2577 1464 4FF06402 		mov	r2, #100
 2578 1468 5A60     		str	r2, [r3, #4]
 672:openstack/04-TRAN/opentcp.c ****    tcp_vars.hisNextSeqNum       = 0;
 2579              		.loc 1 672 0
 2580 146a 40F20003 		movw	r3, #:lower16:tcp_vars
 2581 146e C0F20003 		movt	r3, #:upper16:tcp_vars
 2582 1472 4FF00002 		mov	r2, #0
 2583 1476 DA60     		str	r2, [r3, #12]
 673:openstack/04-TRAN/opentcp.c ****    tcp_vars.hisPort             = 0;
 2584              		.loc 1 673 0
 2585 1478 40F20003 		movw	r3, #:lower16:tcp_vars
 2586 147c C0F20003 		movt	r3, #:upper16:tcp_vars
 2587 1480 4FF00002 		mov	r2, #0
 2588 1484 1A82     		strh	r2, [r3, #16]	@ movhi
 674:openstack/04-TRAN/opentcp.c ****    tcp_vars.hisIPv6Address.type = ADDR_NONE;
 2589              		.loc 1 674 0
 2590 1486 40F20003 		movw	r3, #:lower16:tcp_vars
 2591 148a C0F20003 		movt	r3, #:upper16:tcp_vars
 2592 148e 4FF00002 		mov	r2, #0
 2593 1492 9A74     		strb	r2, [r3, #18]
 675:openstack/04-TRAN/opentcp.c ****    tcp_vars.dataToSend          = NULL;
 2594              		.loc 1 675 0
 2595 1494 40F20003 		movw	r3, #:lower16:tcp_vars
 2596 1498 C0F20003 		movt	r3, #:upper16:tcp_vars
 2597 149c 4FF00002 		mov	r2, #0
 2598 14a0 5A62     		str	r2, [r3, #36]
 676:openstack/04-TRAN/opentcp.c ****    tcp_vars.dataReceived        = NULL;
 2599              		.loc 1 676 0
 2600 14a2 40F20003 		movw	r3, #:lower16:tcp_vars
 2601 14a6 C0F20003 		movt	r3, #:upper16:tcp_vars
 2602 14aa 4FF00002 		mov	r2, #0
 2603 14ae 9A62     		str	r2, [r3, #40]
 677:openstack/04-TRAN/opentcp.c ****    openqueue_removeAllOwnedBy(COMPONENT_OPENTCP);
 2604              		.loc 1 677 0
 2605 14b0 4FF01700 		mov	r0, #23
 2606 14b4 FFF7FEFF 		bl	openqueue_removeAllOwnedBy
 678:openstack/04-TRAN/opentcp.c **** }
 2607              		.loc 1 678 0
 2608 14b8 80BD     		pop	{r7, pc}
 2609              		.cfi_endproc
 2610              	.LFE10:
 2612 14ba 00BF     		.align	2
 2613              		.global	tcp_change_state
 2614              		.thumb
 2615              		.thumb_func
 2617              	tcp_change_state:
 2618              	.LFB11:
 679:openstack/04-TRAN/opentcp.c **** 
 680:openstack/04-TRAN/opentcp.c **** void tcp_change_state(uint8_t new_tcp_state) {
 2619              		.loc 1 680 0
 2620              		.cfi_startproc
 2621              		@ args = 0, pretend = 0, frame = 8
 2622              		@ frame_needed = 1, uses_anonymous_args = 0
 2623 14bc 80B5     		push	{r7, lr}
 2624              	.LCFI29:
 2625              		.cfi_def_cfa_offset 8
 2626              		.cfi_offset 7, -8
 2627              		.cfi_offset 14, -4
 2628 14be 82B0     		sub	sp, sp, #8
 2629              	.LCFI30:
 2630              		.cfi_def_cfa_offset 16
 2631 14c0 00AF     		add	r7, sp, #0
 2632              	.LCFI31:
 2633              		.cfi_def_cfa_register 7
 2634 14c2 0346     		mov	r3, r0
 2635 14c4 FB71     		strb	r3, [r7, #7]
 681:openstack/04-TRAN/opentcp.c ****    tcp_vars.state = new_tcp_state;
 2636              		.loc 1 681 0
 2637 14c6 40F20003 		movw	r3, #:lower16:tcp_vars
 2638 14ca C0F20003 		movt	r3, #:upper16:tcp_vars
 2639 14ce FA79     		ldrb	r2, [r7, #7]
 2640 14d0 1A70     		strb	r2, [r3, #0]
 682:openstack/04-TRAN/opentcp.c ****    if (tcp_vars.state==TCP_STATE_CLOSED) {
 2641              		.loc 1 682 0
 2642 14d2 40F20003 		movw	r3, #:lower16:tcp_vars
 2643 14d6 C0F20003 		movt	r3, #:upper16:tcp_vars
 2644 14da 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2645 14dc 002B     		cmp	r3, #0
 2646 14de 11D1     		bne	.L123
 683:openstack/04-TRAN/opentcp.c ****       if (tcp_vars.timerStarted==TRUE) {
 2647              		.loc 1 683 0
 2648 14e0 40F20003 		movw	r3, #:lower16:tcp_vars
 2649 14e4 C0F20003 		movt	r3, #:upper16:tcp_vars
 2650 14e8 93F82C30 		ldrb	r3, [r3, #44]	@ zero_extendqisi2
 2651 14ec 002B     		cmp	r3, #0
 2652 14ee 30D0     		beq	.L122
 684:openstack/04-TRAN/opentcp.c ****          opentimers_stop(tcp_vars.timerId);
 2653              		.loc 1 684 0
 2654 14f0 40F20003 		movw	r3, #:lower16:tcp_vars
 2655 14f4 C0F20003 		movt	r3, #:upper16:tcp_vars
 2656 14f8 93F82D30 		ldrb	r3, [r3, #45]	@ zero_extendqisi2
 2657 14fc 1846     		mov	r0, r3
 2658 14fe FFF7FEFF 		bl	opentimers_stop
 2659 1502 26E0     		b	.L122
 2660              	.L123:
 685:openstack/04-TRAN/opentcp.c ****       }
 686:openstack/04-TRAN/opentcp.c ****    } else {
 687:openstack/04-TRAN/opentcp.c ****       if (tcp_vars.timerStarted==FALSE) {
 2661              		.loc 1 687 0
 2662 1504 40F20003 		movw	r3, #:lower16:tcp_vars
 2663 1508 C0F20003 		movt	r3, #:upper16:tcp_vars
 2664 150c 93F82C30 		ldrb	r3, [r3, #44]	@ zero_extendqisi2
 2665 1510 83F00103 		eor	r3, r3, #1
 2666 1514 DBB2     		uxtb	r3, r3
 2667 1516 002B     		cmp	r3, #0
 2668 1518 1BD0     		beq	.L122
 688:openstack/04-TRAN/opentcp.c ****          tcp_vars.timerId = opentimers_start(TCP_TIMEOUT,
 2669              		.loc 1 688 0
 2670 151a 40F2DC50 		movw	r0, #1500
 2671 151e 4FF00101 		mov	r1, #1
 2672 1522 4FF00002 		mov	r2, #0
 2673 1526 40F20003 		movw	r3, #:lower16:opentcp_timer_cb
 2674 152a C0F20003 		movt	r3, #:upper16:opentcp_timer_cb
 2675 152e FFF7FEFF 		bl	opentimers_start
 2676 1532 0346     		mov	r3, r0
 2677 1534 1A46     		mov	r2, r3
 2678 1536 40F20003 		movw	r3, #:lower16:tcp_vars
 2679 153a C0F20003 		movt	r3, #:upper16:tcp_vars
 2680 153e 83F82D20 		strb	r2, [r3, #45]
 689:openstack/04-TRAN/opentcp.c ****                                              TIMER_ONESHOT,TIME_MS,
 690:openstack/04-TRAN/opentcp.c ****                                              opentcp_timer_cb);
 691:openstack/04-TRAN/opentcp.c ****          tcp_vars.timerStarted=TRUE;
 2681              		.loc 1 691 0
 2682 1542 40F20003 		movw	r3, #:lower16:tcp_vars
 2683 1546 C0F20003 		movt	r3, #:upper16:tcp_vars
 2684 154a 4FF00102 		mov	r2, #1
 2685 154e 83F82C20 		strb	r2, [r3, #44]
 2686              	.L122:
 692:openstack/04-TRAN/opentcp.c ****       }
 693:openstack/04-TRAN/opentcp.c ****       
 694:openstack/04-TRAN/opentcp.c ****    }
 695:openstack/04-TRAN/opentcp.c **** }
 2687              		.loc 1 695 0
 2688 1552 07F10807 		add	r7, r7, #8
 2689 1556 BD46     		mov	sp, r7
 2690 1558 80BD     		pop	{r7, pc}
 2691              		.cfi_endproc
 2692              	.LFE11:
 2694 155a 00BF     		.align	2
 2695              		.global	opentcp_timer_cb
 2696              		.thumb
 2697              		.thumb_func
 2699              	opentcp_timer_cb:
 2700              	.LFB12:
 696:openstack/04-TRAN/opentcp.c **** 
 697:openstack/04-TRAN/opentcp.c **** void opentcp_timer_cb() {
 2701              		.loc 1 697 0
 2702              		.cfi_startproc
 2703              		@ args = 0, pretend = 0, frame = 0
 2704              		@ frame_needed = 1, uses_anonymous_args = 0
 2705 155c 80B5     		push	{r7, lr}
 2706              	.LCFI32:
 2707              		.cfi_def_cfa_offset 8
 2708              		.cfi_offset 7, -8
 2709              		.cfi_offset 14, -4
 2710 155e 00AF     		add	r7, sp, #0
 2711              	.LCFI33:
 2712              		.cfi_def_cfa_register 7
 698:openstack/04-TRAN/opentcp.c ****    scheduler_push_task(timers_tcp_fired,TASKPRIO_TCP_TIMEOUT);
 2713              		.loc 1 698 0
 2714 1560 40F20000 		movw	r0, #:lower16:timers_tcp_fired
 2715 1564 C0F20000 		movt	r0, #:upper16:timers_tcp_fired
 2716 1568 4FF00501 		mov	r1, #5
 2717 156c FFF7FEFF 		bl	scheduler_push_task
 699:openstack/04-TRAN/opentcp.c **** }
 2718              		.loc 1 699 0
 2719 1570 80BD     		pop	{r7, pc}
 2720              		.cfi_endproc
 2721              	.LFE12:
 2723              	.Letext0:
 2724              		.file 2 "/opt/gcc-arm-none-eabi-4_7-2013q3/bin/../lib/gcc/arm-none-eabi/4.7.4/../../../../arm-none
 2725              		.file 3 "inc/opendefs.h"
 2726              		.file 4 "drivers/common/opentimers.h"
 2727              		.file 5 "openstack/04-TRAN/opentcp.h"
 2728              		.file 6 "kernel/scheduler.h"
 2729              		.file 7 "bsp/boards/OpenMote-CC2538/board_info.h"
DEFINED SYMBOLS
                            *ABS*:00000000 opentcp.c
     /tmp/cchwVXTM.s:19     .rodata:00000000 $d
     /tmp/cchwVXTM.s:22     .rodata:00000000 rreg_uriquery
     /tmp/cchwVXTM.s:27     .rodata:00000008 infoBoardname
     /tmp/cchwVXTM.s:32     .rodata:00000010 infouCName
     /tmp/cchwVXTM.s:37     .rodata:00000018 infoRadioName
     /tmp/cchwVXTM.s:42     .rodata:00000024 infoStackName
                            *COM*:00000030 tcp_vars
     /tmp/cchwVXTM.s:46     .text:00000000 $t
     /tmp/cchwVXTM.s:51     .text:00000000 opentcp_init
     /tmp/cchwVXTM.s:2557   .text:00001450 opentcp_reset
     /tmp/cchwVXTM.s:84     .text:00000020 opentcp_connect
     /tmp/cchwVXTM.s:2181   .text:000011cc prependTCPHeader
     /tmp/cchwVXTM.s:2617   .text:000014bc tcp_change_state
     /tmp/cchwVXTM.s:231    .text:00000140 opentcp_send
     /tmp/cchwVXTM.s:387    .text:0000027c opentcp_sendDone
     /tmp/cchwVXTM.s:424    .text:000002ac $d
     /tmp/cchwVXTM.s:445    .text:000002f8 $t
     /tmp/cchwVXTM.s:679    .text:000004d4 opentcp_receive
     /tmp/cchwVXTM.s:2371   .text:0000132c containsControlBits
     /tmp/cchwVXTM.s:807    .text:000005b8 $d
     /tmp/cchwVXTM.s:830    .text:0000060c $t
     /tmp/cchwVXTM.s:1086   .text:00000868 $d
     /tmp/cchwVXTM.s:1089   .text:0000086c $t
     /tmp/cchwVXTM.s:1987   .text:000010ac opentcp_close
     /tmp/cchwVXTM.s:2126   .text:000011b0 tcp_debugPrint
     /tmp/cchwVXTM.s:2155   .text:000011c0 timers_tcp_fired
     /tmp/cchwVXTM.s:2699   .text:0000155c opentcp_timer_cb
                     .debug_frame:00000010 $d
                           .group:00000000 wm4.1.e96eee74da26538b12ac9582e3798382
                           .group:00000000 wm4.newlib.h.8.a9901dc52d1357e3e94003403d43f8b5
                           .group:00000000 wm4.features.h.22.b72b3baab2bb2eab3661375590100b6b
                           .group:00000000 wm4.config.h.193.5fb8ef056cdff92dec3dee9552839d8c
                           .group:00000000 wm4._ansi.h.23.b5bb84d7ba97d82b5b1dc1826a7ae811
                           .group:00000000 wm4.stdint.h.20.54ad762faa59e3c05491630641c8d8bf
                           .group:00000000 wm4.toolchain_defs.h.2.e4ebbe6e0a48032a9b79077dc42e1ffd
                           .group:00000000 wm4._default_types.h.6.5e12cd604db8ce00b62bb2f02708eaf3
                           .group:00000000 wm4.lock.h.2.9bc98482741e5e2a9450b12934a684ea
                           .group:00000000 wm4.stddef.h.349.31f4c5baff3fa2689010b32028da9c47
                           .group:00000000 wm4.reent.h.16.9e42f0e588b85e70b2bf6572af57ce64
                           .group:00000000 wm4.stddef.h.187.9e651b6b8b16e149c1353259404973ea
                           .group:00000000 wm4.string.h.17.f8d12df81104836a3f2a5d589ae830d8
                           .group:00000000 wm4.stdbool.h.29.1c9ee6859ce8145f7838a4f2549ccec2
                           .group:00000000 wm4.hw_types.h.67.b10589a0806dcc2d274d6fab6b736519
                           .group:00000000 wm4.interrupt.h.41.272fc4ec0e276feb439e7974d0f77eaf
                           .group:00000000 wm4.board_info.h.21.847e72606a2fc49b1c228f268b8a62aa
                           .group:00000000 wm4.opendefs.h.19.05852eb648ac65e48c7817e5cbf03346
                           .group:00000000 wm4.opentimers.h.8.044f2d040a134cdb0ddb58adfc2508be
                           .group:00000000 wm4.openserial.h.8.8c63e3800d2936b44b5370ce1aae62b7
                           .group:00000000 wm4.iphc.h.2.17b9b21c04d4f545c9a7ba404755c4d8
                           .group:00000000 wm4.scheduler.h.2.ca320b72942c5204a6e225e3c9c0814e

UNDEFINED SYMBOLS
memset
openserial_printError
openqueue_getFreePacketBuffer
forwarding_send
openqueue_freePacketBuffer
techo_connectDone
techo_receive
packetfunctions_ntohs
packetfunctions_sameAddress
techo_shouldIlisten
packetfunctions_ntohl
packetfunctions_tossHeader
techo_sendDone
packetfunctions_reserveHeaderSize
packetfunctions_htons
packetfunctions_htonl
packetfunctions_calculateChecksum
openqueue_removeAllOwnedBy
opentimers_stop
opentimers_start
scheduler_push_task
